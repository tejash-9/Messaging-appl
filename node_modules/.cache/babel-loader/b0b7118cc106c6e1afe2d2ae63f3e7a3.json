{"ast":null,"code":"import _slicedToArray from\"D:\\\\messenger\\\\messenger\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import React,{useEffect,useState}from'react';import{Button,FormControl,InputLabel,Input}from'@material-ui/core';import Message from'./message';import'./App.css';import db from'./firebase';import firebase from'firebase/compat/app';import'firebase/compat/auth';import'firebase/compat/firestore';import FlipMove from'react-flip-move';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),Messages=_useState4[0],setMessages=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),Username=_useState6[0],setUsername=_useState6[1];useEffect(function(){db.collection('messages').orderBy('timestamp','desc').onSnapshot(function(snapshot){setMessages(snapshot.docs.map(function(doc){return{id:doc.id,message:doc.data()};}));});},[]);useEffect(function(){setUsername(prompt('Please Enter your Name'));},[]);var Sendmessage=function Sendmessage(event){event.preventDefault();db.collection('messages').add({username:Username,text:input,timestamp:firebase.firestore.FieldValue.serverTimestamp()});//setMessages([...Messages, {username: Username, text: input}]);\nsetInput('');};function Refershpage(){window.location.reload(false);}return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://image.freepik.com/free-vector/illustration-speech-bubble_53876-5625.jpg\",onClick:Refershpage}),/*#__PURE__*/_jsx(\"form\",{className:\"app__form\",children:/*#__PURE__*/_jsxs(FormControl,{className:\"app__formcontrol\",children:[/*#__PURE__*/_jsx(Input,{className:\"app__input\",placeholder:\"Enter the message...\",value:input,onChange:function onChange(event){return setInput(event.target.value);}}),/*#__PURE__*/_jsx(Button,{className:\"app__button\",disabled:!input,variant:\"contained\",color:\"primary\",type:\"submit\",onClick:Sendmessage,children:\"Send\"})]})}),/*#__PURE__*/_jsx(FlipMove,{children:Messages.map(function(_ref){var id=_ref.id,message=_ref.message;return/*#__PURE__*/_jsx(Message,{Usernam:Username,text:message},id);})})]});}export default App;","map":{"version":3,"sources":["D:/messenger/messenger/src/App.js"],"names":["React","useEffect","useState","Button","FormControl","InputLabel","Input","Message","db","firebase","FlipMove","App","input","setInput","Messages","setMessages","Username","setUsername","collection","orderBy","onSnapshot","snapshot","docs","map","doc","id","message","data","prompt","Sendmessage","event","preventDefault","add","username","text","timestamp","firestore","FieldValue","serverTimestamp","Refershpage","window","location","reload","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Button , FormControl, InputLabel, Input } from '@material-ui/core';\nimport Message from './message';\nimport './App.css';\nimport db from './firebase';\nimport firebase from 'firebase/compat/app';\nimport 'firebase/compat/auth';\nimport 'firebase/compat/firestore';\nimport FlipMove from 'react-flip-move';\n\nfunction App() {\n  const [input, setInput] = useState('');\n  const [Messages, setMessages] = useState([]);\n  const [Username, setUsername] = useState('');\n\n  \n  useEffect(() => {\n    db.collection('messages')\n    .orderBy('timestamp', 'desc')\n    .onSnapshot(snapshot => {\n      setMessages(snapshot.docs.map(doc => ({id: doc.id , message: doc.data()})))\n    })\n  } , [])\n  useEffect(() => {\n    setUsername(prompt('Please Enter your Name'))\n  }, [] )\n\n  \n\n  const Sendmessage = (event) => {\n    event.preventDefault();\n\n    db.collection('messages').add({username: Username , text: input , timestamp: firebase.firestore.FieldValue.serverTimestamp()});\n    //setMessages([...Messages, {username: Username, text: input}]);\n    setInput('');\n  }\n  function Refershpage() {\n    window.location.reload(false);\n  }\n\n  return (\n    <div className=\"App\">\n      <img src='https://image.freepik.com/free-vector/illustration-speech-bubble_53876-5625.jpg' onClick={Refershpage}/>\n      <form className=\"app__form\">\n      <FormControl className='app__formcontrol'>\n        <Input className='app__input' placeholder='Enter the message...' value={input} onChange={event => setInput(event.target.value)}/>\n        <Button className='app__button' disabled={!input} variant='contained' color='primary' type='submit' onClick={Sendmessage}>\n        Send\n        </Button>\n      </FormControl>\n      \n      </form>\n      \n      <FlipMove>\n      {\n        Messages.map( ({id , message}) => (\n          <Message key={id} Usernam={Username} text={message} />\n        ))\n      }\n      </FlipMove>\n\n\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}