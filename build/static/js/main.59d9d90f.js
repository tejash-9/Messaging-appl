/*! For license information please see main.59d9d90f.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!s||!s[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case u:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,s,u=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(u[l]=o[l]);if(t){s=t(o);for(var f=0;f<s.length;f++)r.call(o,s[f])&&(u[s[f]]=o[s[f]])}}return u}},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,_=60106,E=60107,S=60108,I=60114,T=60109,C=60110,A=60112,N=60113,R=60120,P=60115,D=60116,O=60121,L=60128,M=60129,F=60130,U=60131;if("function"===typeof Symbol&&Symbol.for){var V=Symbol.for;x=V("react.element"),_=V("react.portal"),E=V("react.fragment"),S=V("react.strict_mode"),I=V("react.profiler"),T=V("react.provider"),C=V("react.context"),A=V("react.forward_ref"),N=V("react.suspense"),R=V("react.suspense_list"),P=V("react.memo"),D=V("react.lazy"),O=V("react.block"),V("react.scope"),L=V("react.opaque.id"),M=V("react.debug_trace_mode"),F=V("react.offscreen"),U=V("react.legacy_hidden")}var j,B="function"===typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}function q(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var W=!1;function H(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function K(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case _:return"Portal";case I:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return G(e.type);case O:return G(e._render);case D:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ye=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var _e=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(_e[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ie(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Ce=null,Ae=null;function Ne(e){if(e=ri(e)){if("function"!==typeof Te)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Te(e.stateNode,e.type,t))}}function Re(e){Ce?Ae?Ae.push(e):Ae=[e]:Ce=e}function Pe(){if(Ce){var e=Ce,t=Ae;if(Ae=Ce=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function De(e,t){return e(t)}function Oe(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=De,Fe=!1,Ue=!1;function Ve(){null===Ce&&null===Ae||(Le(),Pe())}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Be=!1;if(f)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Be=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(me){Be=!1}function qe(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var We=!1,He=null,Ke=!1,Ge=null,Qe={onError:function(e){We=!0,He=e}};function Ye(e,t,n,r,i,a,o,s,u){We=!1,He=null,qe.apply(Qe,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if($e(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Xe(i),e;if(a===r)return Xe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],st=null,ut=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&gt(st)&&(st=null),null!==ut&&gt(ut)&&(ut=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function xt(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==ut&&wt(ut,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)yt(n),null===n.blockedOn&&ht.shift()}function _t(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:_t("Animation","AnimationEnd"),animationiteration:_t("Animation","AnimationIteration"),animationstart:_t("Animation","AnimationStart"),transitionend:_t("Transition","TransitionEnd")},St={},It={};function Tt(e){if(St[e])return St[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in It)return St[e]=n[t];return e}f&&(It=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var Ct=Tt("animationend"),At=Tt("animationiteration"),Nt=Tt("animationstart"),Rt=Tt("transitionend"),Pt=new Map,Dt=new Map,Ot=["abort","abort",Ct,"animationEnd",At,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Rt,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Dt.set(r,t),Pt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function Ft(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ut(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var u=a&~o;0!==u?(r=Ft(u),i=Mt):0!==(s&=a)&&(r=Ft(s),i=Mt)}else 0!==(a=n&~o)?(r=Ft(a),i=Mt):0!==s&&(r=Ft(s),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Ft(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Wt(t)),r|=e[n],t&=~i;return r}function Vt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function jt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Bt(24&~t))?jt(10,t):e;case 10:return 0===(e=Bt(192&~t))?jt(8,t):e;case 8:return 0===(e=Bt(3584&~t))&&(0===(e=Bt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Bt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Bt(e){return e&-e}function zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/Kt|0)|0},Ht=Math.log,Kt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,Yt=!0;function $t(e,t,n,r){Fe||Le();var i=Xt,a=Fe;Fe=!0;try{Oe(i,e,t,n,r)}finally{(Fe=a)||Ve()}}function Jt(e,t,n,r){Qt(Gt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var i;if(Yt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=mt(st,e,t,n,r,i),!0;case"dragenter":return ut=mt(ut,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Ie(r);if(null!==(i=ni(i))){var a=$e(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Je(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(hn),pn=i({},hn,{view:0,detail:0}),vn=un(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=un(mn),gn=un(i({},mn,{dataTransfer:0})),kn=un(i({},pn,{relatedTarget:0})),bn=un(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=un(wn),_n=un(i({},hn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function Cn(){return Tn}var An=i({},pn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=un(An),Rn=un(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Dn=un(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=un(On),Mn=[9,13,27,32],Fn=f&&"CompositionEvent"in window,Un=null;f&&"documentMode"in document&&(Un=document.documentMode);var Vn=f&&"TextEvent"in window&&!Un,jn=f&&(!Fn||Un&&8<Un&&11>=Un),Bn=String.fromCharCode(32),zn=!1;function qn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Qn(e,t,n,r){Re(r),0<(t=Fr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,$n=null;function Jn(e){Ar(e,0)}function Xn(e){if(J(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Yn&&(Yn.detachEvent("onpropertychange",ar),$n=Yn=null)}function ar(e){if("value"===e.propertyName&&Xn($n)){var t=[];if(Qn(t,$n,e,Ie(e)),e=Jn,Fe)e(t);else{Fe=!0;try{De(e,t)}finally{Fe=!1,Ve()}}}}function or(e,t,n){"focusin"===e?(ir(),$n=n,(Yn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn($n)}function ur(e,t){if("click"===e)return Xn(t)}function cr(e,t){if("input"===e||"change"===e)return Xn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,br=null,wr=null,xr=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==kr||kr!==X(r)||("selectionStart"in(r=kr)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=Fr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Ot,2);for(var Er="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sr=0;Sr<Er.length;Sr++)Dt.set(Er[Sr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Ye.apply(this,arguments),We){if(!We)throw Error(o(198));var l=He;We=!1,He=null,Ke||(Ke=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Ar(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}}}if(Ke)throw e=Ge,Ke=!1,Ge=null,e}function Nr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Or(t,e,2,!1),n.add(r))}var Rr="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Rr]||(e[Rr]=!0,s.forEach((function(t){Tr.has(t)||Dr(t,!1,e,null),Dr(t,!0,e,null)})))}function Dr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Tr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Or(a,e,i,t),o.add(s))}function Or(e,t,n,r){var i=Dt.get(t);switch(void 0===i?2:i){case 0:i=$t;break;case 1:i=Jt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=ni(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Ue)return e(t,n);Ue=!0;try{Me(e,t,n)}finally{Ue=!1,Ve()}}((function(){var r=a,i=Ie(n),o=[];e:{var s=Pt.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":u=Nn;break;case"focusin":c="focus",u=kn;break;case"focusout":c="blur",u=kn;break;case"beforeblur":case"afterblur":u=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Pn;break;case Ct:case At:case Nt:u=bn;break;case Rt:u=Dn;break;case"scroll":u=vn;break;case"wheel":u=Ln;break;case"copy":case"cut":case"paste":u=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Rn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=je(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=$e(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=yn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Rn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ii(u),d=null==c?s:ii(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Ur(d))p++;for(d=0,v=h;v;v=Ur(v))d++;for(;0<p-d;)l=Ur(l),p--;for(;0<d-p;)h=Ur(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Ur(l),h=Ur(h)}l=null}else l=null;null!==u&&Vr(o,s,u,l,!1),null!==c&&null!==f&&Vr(o,f,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Zn;else if(Gn(s))if(er)m=cr;else{m=sr;var y=or}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ur);switch(m&&(m=m(e,r))?Qn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ie(s,"number",s.value)),y=r?ii(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(kr=y,br=r,wr=null);break;case"focusout":wr=br=kr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,_r(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":_r(o,n,i)}var g;if(Fn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Hn?qn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(jn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Hn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Hn=!0)),0<(y=Fr(r,k)).length&&(k=new _n(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Wn(n))&&(k.data=g))),(g=Vn?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(zn=!0,Bn);case"textInput":return(e=t.data)===Bn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Fn&&qn(e,t)?(e=rn(),nn=tn=en=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Fr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ar(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=je(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=je(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function Ur(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Vr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=je(n,a))&&o.unshift(Mr(n,u,s)):i||null!=(u=je(n,a))&&o.push(Mr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function jr(){}var Br=null,zr=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hr="function"===typeof setTimeout?setTimeout:void 0,Kr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var $r=0;var Jr=Math.random().toString(36).slice(2),Xr="__reactFiber$"+Jr,Zr="__reactProps$"+Jr,ei="__reactContainer$"+Jr,ti="__reactEvents$"+Jr;function ni(e){var t=e[Xr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Xr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Yr(e);null!==e;){if(n=e[Xr])return n;e=Yr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Xr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function fi(e,t){ui++,si[ui]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var _i=null,Ei=null,Si=a.unstable_runWithPriority,Ii=a.unstable_scheduleCallback,Ti=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ai=a.unstable_requestPaint,Ni=a.unstable_now,Ri=a.unstable_getCurrentPriorityLevel,Pi=a.unstable_ImmediatePriority,Di=a.unstable_UserBlockingPriority,Oi=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,Fi={},Ui=void 0!==Ai?Ai:function(){},Vi=null,ji=null,Bi=!1,zi=Ni(),qi=1e4>zi?Ni:function(){return Ni()-zi};function Wi(){switch(Ri()){case Pi:return 99;case Di:return 98;case Oi:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Hi(e){switch(e){case 99:return Pi;case 98:return Di;case 97:return Oi;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Ki(e,t){return e=Hi(e),Si(e,t)}function Gi(e,t,n){return e=Hi(e),Ii(e,t,n)}function Qi(){if(null!==ji){var e=ji;ji=null,Ti(e)}Yi()}function Yi(){if(!Bi&&null!==Vi){Bi=!0;var e=0;try{var t=Vi;Ki(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Vi=null}catch(n){throw null!==Vi&&(Vi=Vi.slice(e+1)),Ii(Pi,Qi),n}finally{Bi=!1}}}var $i=w.ReactCurrentBatchConfig;function Ji(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Xi=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=Xi.current;li(Xi),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Fo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var sa=!1;function ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;sa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,s=0,f=l=c=null;;){u=o.lane;var d=o.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,h,u):p)||void 0===u)break e;h=i({},h,u);break e;case 2:sa=!0}}null!==o.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else d={eventTime:d,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,Bs|=s,e.lanes=s,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hu(),r=du(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),pu(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=yi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,ua(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=yi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ya.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function _a(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ea(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Sa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ku(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=$u(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=_a(e,t,n),r.return=e,r):((r=Gu(n.type,n.key,n.props,null,e.mode,r)).ref=_a(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ju(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=$u(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Gu(t.type,t.key,t.props,null,e.mode,n)).ref=_a(e,null,t),n.return=e,n;case _:return(t=Ju(t,e.mode,n)).return=e,t}if(xa(t)||z(t))return(t=Qu(t,e.mode,n,null)).return=e,t;Ea(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===E?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null}if(xa(n)||z(n))return null!==i?null:f(e,t,n,r,null);Ea(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===E?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||z(r))return f(t,e=e.get(n)||null,r,i,null);Ea(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,s,u,c){var l=z(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),s=a(k,s,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,u){var c="object"===typeof a&&null!==a&&a.type===E&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===E){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=_a(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===E?((r=Qu(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Gu(a.type,a.key,a.props,null,e.mode,u)).ref=_a(e,r,a),u.return=e,e=u)}return s(e);case _:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ju(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=$u(a,e.mode,u)).return=e,e=r),s(e);if(xa(a))return v(e,r,a,u);if(z(a))return m(e,r,a,u);if(l&&Ea(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Ia=Sa(!0),Ta=Sa(!1),Ca={},Aa=ci(Ca),Na=ci(Ca),Ra=ci(Ca);function Pa(e){if(e===Ca)throw Error(o(174));return e}function Da(e,t){switch(fi(Ra,t),fi(Na,e),fi(Aa,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Aa),fi(Aa,t)}function Oa(){li(Aa),li(Na),li(Ra)}function La(e){Pa(Ra.current);var t=Pa(Aa.current),n=pe(t,e.type);t!==n&&(fi(Na,e),fi(Aa,n))}function Ma(e){Na.current===e&&(li(Aa),li(Na))}var Fa=ci(0);function Ua(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Va=null,ja=null,Ba=!1;function za(e,t){var n=Wu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Wa(e){if(Ba){var t=ja;if(t){var n=t;if(!qa(e,t)){if(!(t=Qr(n.nextSibling))||!qa(e,t))return e.flags=-1025&e.flags|2,Ba=!1,void(Va=e);za(Va,n)}Va=e,ja=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,Ba=!1,Va=e}}function Ha(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Va=e}function Ka(e){if(e!==Va)return!1;if(!Ba)return Ha(e),Ba=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Wr(t,e.memoizedProps))for(t=ja;t;)za(e,t),t=Qr(t.nextSibling);if(Ha(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ja=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ja=null}}else ja=Va?Qr(e.stateNode.nextSibling):null;return!0}function Ga(){ja=Va=null,Ba=!1}var Qa=[];function Ya(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var $a=w.ReactCurrentDispatcher,Ja=w.ReactCurrentBatchConfig,Xa=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Xa=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$a.current=null===e||null===e.memoizedState?Do:Oo,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,$a.current=Lo,e=n(r,i)}while(ro)}if($a.current=Po,t=null!==eo&&null!==eo.next,Xa=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function uo(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,c=i;do{var l=c.lane;if((Xa&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,a=r):u=u.next=f,Za.lanes|=l,Bs|=l}c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=s,lr(r,t.memoizedState)||(Fo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);lr(a,t.memoizedState)||(Fo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Xa&e)===e)&&(t._workInProgressVersionPrimary=r,Qa.push(t))),e)return n(t._source);throw Qa.push(t),Error(o(350))}function po(e,t,n,r){var i=Ds;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),u=$a.current,c=u.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Za;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(s,e)){e=n(t._source),lr(f,e)||(l(e),e=du(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var u=31-Wt(o),c=1<<u;r[u]|=e,o&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Ro.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(uo(),e,t,n)}function mo(e){var t=so();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Ro.bind(null,Za,e),[t.memoizedState,e]}function yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},so().memoizedState=e}function ko(){return uo().memoizedState}function bo(e,t,n,r){var i=so();Za.flags|=e,i.memoizedState=yo(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=uo();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void yo(t,n,a,r)}Za.flags|=e,i.memoizedState=yo(1|t,n,a,r)}function xo(e,t){return bo(516,4,e,t)}function _o(e,t){return wo(516,4,e,t)}function Eo(e,t){return wo(4,2,e,t)}function So(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Io(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,So.bind(null,t,e),n)}function To(){}function Co(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ao(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function No(e,t){var n=Wi();Ki(98>n?98:n,(function(){e(!0)})),Ki(97<n?97:n,(function(){var n=Ja.transition;Ja.transition=1;try{e(!1),t()}finally{Ja.transition=n}}))}function Ro(e,t,n){var r=hu(),i=du(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(a.eagerReducer=o,a.eagerState=u,lr(u,s))return}catch(c){}pu(e,i,r)}}var Po={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,So.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=so();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=so();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ro.bind(null,Za,e),[r.memoizedState,e]},useRef:go,useState:mo,useDebugValue:To,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return xo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return go(e=No.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=so();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(Ba){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+($r++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,yo(5,(function(){n("r:"+($r++).toString(36))}),void 0,null)),t}return mo(t="r:"+($r++).toString(36)),t},unstable_isNewReconciler:!1},Oo={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:Io,useLayoutEffect:Eo,useMemo:Ao,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:To,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return _o((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:Io,useLayoutEffect:Eo,useMemo:Ao,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:To,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return _o((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Mo=w.ReactCurrentOwner,Fo=!1;function Uo(e,t,n,r){t.child=null===e?Ta(t,null,n,r):Ia(t,e.child,n,r)}function Vo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,Uo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function jo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Hu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Bo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?as(e,t,a):(t.flags|=1,(e=Ku(o,r)).ref=t.ref,e.return=t,t.child=e)}function Bo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Fo=!1,0===(a&i))return t.lanes=e.lanes,as(e,t,a);0!==(16384&e.flags)&&(Fo=!0)}return Wo(e,t,n,r,a)}function zo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xu(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xu(t,e),null;t.memoizedState={baseLanes:0},xu(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xu(t,r);return Uo(e,t,i,n),t.child}function qo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Wo(e,t,n,r,i){var a=yi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,Uo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Ho(e,t,n,r,i){if(yi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=yi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&ba(t,o,r,c),sa=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),u=t.memoizedState,s!==r||h!==u||pi.current||sa?("function"===typeof l&&(ma(t,n,l,r),u=t.memoizedState),(s=sa||ga(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Ji(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=oa(u):u=mi(t,u=yi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&ba(t,o,r,u),sa=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||pi.current||sa?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=sa||ga(t,n,c,r,h,p,u))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ko(e,t,n,r,a,i)}function Ko(e,t,n,r,i,a){qo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),as(e,t,a);r=t.stateNode,Mo.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ia(t,e.child,null,a),t.child=Ia(t,null,s,a)):Uo(e,t,s,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Da(e,t.containerInfo)}var Qo,Yo,$o,Jo={dehydrated:null,retryLane:0};function Xo(e,t,n){var r,i=t.pendingProps,a=Fa.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Fa,1&a),null===e?(void 0!==i.fallback&&Wa(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,t.lanes=33554432,e):((n=Yu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=ts(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Jo,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Yu(t,i,0,null),n=Qu(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Ku(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ku(o,s),null!==e?r=Ku(e,r):(r=Qu(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function rs(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Uo(e,t,r.children,n),0!==(2&(r=Fa.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Fa,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ua(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ua(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,a,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function as(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ku(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ku(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function os(e,t){if(!Ba)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&gi(),null;case 3:return Oa(),li(pi),li(di),Ya(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ka(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Pa(Ra.current);if(n=t.type,null!==e&&null!=t.stateNode)Yo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Pa(Aa.current),Ka(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Xr]=t,r[Zr]=s,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<Ir.length;e++)Nr(Ir[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,s),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Nr("invalid",r);break;case"textarea":ue(r,s),Nr("invalid",r)}for(var c in Ee(n,s),e=null,s)s.hasOwnProperty(c)&&(a=s[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Nr("scroll",r));switch(n){case"input":$(r),re(r,s,!0);break;case"textarea":$(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=jr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Xr]=t,e[Zr]=r,Qo(e,t),t.stateNode=e,c=Se(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),a=r;break;case"iframe":case"object":case"embed":Nr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Ir.length;a++)Nr(Ir[a],e);a=r;break;case"source":Nr("error",e),a=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),a=r;break;case"details":Nr("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Nr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":ue(e,r),a=se(e,r),Nr("invalid",e);break;default:a=r}Ee(n,a);var l=a;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?xe(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Nr("scroll",e):null!=f&&b(e,s,f,c))}switch(n){case"input":$(e),re(e,r,!1);break;case"textarea":$(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=jr)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)$o(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Pa(Ra.current),Pa(Aa.current),Ka(t)?(r=t.stateNode,n=t.memoizedProps,r[Xr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Xr]=t,t.stateNode=r)}return null;case 13:return li(Fa),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ka(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fa.current)?0===Us&&(Us=3):(0!==Us&&3!==Us||(Us=4),null===Ds||0===(134217727&Bs)&&0===(134217727&zs)||gu(Ds,Ls))),(r||n)&&(t.flags|=4),null);case 4:return Oa(),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Fa),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)os(r,!1);else{if(0!==Us||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Ua(e))){for(t.flags|=64,os(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Fa,1&Fa.current|2),t.child}e=e.sibling}null!==r.tail&&qi()>Ks&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Ua(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),os(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Ba)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>Ks&&1073741824!==n&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=Fa.current,fi(Fa,s?1&t|2:1&t),n):null;case 23:case 24:return _u(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function us(e){switch(e.tag){case 1:yi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Oa(),li(pi),li(di),Ya(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(Fa),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Fa),null;case 4:return Oa(),null;case 10:return ra(e),null;case 23:case 24:return _u(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=K(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Yo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Pa(Aa.current);var o,s=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=jr)}for(f in Ee(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Nr("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},$o=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$s||($s=!0,Js=r),ls(0,t)},n}function ds(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Xs?Xs=new Set([this]):Xs.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){ju(e,n)}else t.current=null}function ms(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ji(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function ys(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Fu(n,e),Mu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ji(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function gs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ks(e,t){if(Ei&&"function"===typeof Ei.onCommitFiberUnmount)try{Ei.onCommitFiberUnmount(_i,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Fu(t,n);else{r=t;try{i()}catch(a){ju(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){ju(t,a)}break;case 5:vs(t);break;case 4:Ss(e,t)}}function bs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ws(e){return 5===e.tag||3===e.tag||4===e.tag}function xs(e){e:{for(var t=e.return;null!==t;){if(ws(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ws(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?_s(e,n,t):Es(e,n,t)}function _s(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=jr));else if(4!==r&&null!==(e=e.child))for(_s(e,t,n),e=e.sibling;null!==e;)_s(e,t,n),e=e.sibling}function Es(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Es(e,t,n),e=e.sibling;null!==e;)Es(e,t,n),e=e.sibling}function Ss(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(ks(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ks(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Is(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Se(e,i),t=Se(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?xe(n,u):"dangerouslySetInnerHTML"===s?ye(n,u):"children"===s?ge(n,u):b(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Hs=qi(),gs(t.child,!0)),void Ts(t);case 19:return void Ts(t);case 23:case 24:return void gs(t,null!==t.memoizedState)}throw Error(o(163))}function Ts(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=zu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var As=Math.ceil,Ns=w.ReactCurrentDispatcher,Rs=w.ReactCurrentOwner,Ps=0,Ds=null,Os=null,Ls=0,Ms=0,Fs=ci(0),Us=0,Vs=null,js=0,Bs=0,zs=0,qs=0,Ws=null,Hs=0,Ks=1/0;function Gs(){Ks=qi()+500}var Qs,Ys=null,$s=!1,Js=null,Xs=null,Zs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,au=0,ou=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function hu(){return 0!==(48&Ps)?qi():-1!==su?su:su=qi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Wi()?1:2;if(0===uu&&(uu=js),0!==$i.transition){0!==cu&&(cu=null!==Ws?Ws.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Wi(),0!==(4&Ps)&&98===e?e=jt(12,uu):e=jt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<au)throw au=0,ou=null,Error(o(185));if(null===(e=vu(e,t)))return null;qt(e,t,n),e===Ds&&(zs|=t,4===Us&&gu(e,Ls));var r=Wi();1===t?0!==(8&Ps)&&0===(48&Ps)?ku(e):(mu(e,n),0===Ps&&(Gs(),Qi())):(0===(4&Ps)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),mu(e,n)),Ws=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function mu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Wt(s),c=1<<u,l=a[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Ft(c);var f=Mt;a[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Ut(e,e===Ds?Ls:0),t=Mt,0===r)null!==n&&(n!==Fi&&Ti(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Fi&&Ti(n)}15===t?(n=ku.bind(null,e),null===Vi?(Vi=[n],ji=Ii(Pi,Yi)):Vi.push(n),n=Fi):14===t?n=Gi(99,ku.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,yu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function yu(e){if(su=-1,cu=uu=0,0!==(48&Ps))throw Error(o(327));var t=e.callbackNode;if(Lu()&&e.callbackNode!==t)return null;var n=Ut(e,e===Ds?Ls:0);if(0===n)return null;var r=n,i=Ps;Ps|=16;var a=Iu();for(Ds===e&&Ls===r||(Gs(),Eu(e,r));;)try{Au();break}catch(u){Su(e,u)}if(na(),Ns.current=a,Ps=i,null!==Os?r=0:(Ds=null,Ls=0,r=Us),0!==(js&zs))Eu(e,0);else if(0!==r){if(2===r&&(Ps|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Vt(e))&&(r=Tu(e,n))),1===r)throw t=Vs,Eu(e,0),gu(e,n),mu(e,qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Pu(e);break;case 3:if(gu(e,n),(62914560&n)===n&&10<(r=Hs+500-qi())){if(0!==Ut(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hr(Pu.bind(null,e),r);break}Pu(e);break;case 4:if(gu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Wt(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*As(n/1960))-n)){e.timeoutHandle=Hr(Pu.bind(null,e),n);break}Pu(e);break;default:throw Error(o(329))}}return mu(e,qi()),e.callbackNode===t?yu.bind(null,e):null}function gu(e,t){for(t&=~qs,t&=~zs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function ku(e){if(0!==(48&Ps))throw Error(o(327));if(Lu(),e===Ds&&0!==(e.expiredLanes&Ls)){var t=Ls,n=Tu(e,t);0!==(js&zs)&&(n=Tu(e,t=Ut(e,t)))}else n=Tu(e,t=Ut(e,0));if(0!==e.tag&&2===n&&(Ps|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Vt(e))&&(n=Tu(e,t))),1===n)throw n=Vs,Eu(e,0),gu(e,t),mu(e,qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pu(e),mu(e,qi()),null}function bu(e,t){var n=Ps;Ps|=1;try{return e(t)}finally{0===(Ps=n)&&(Gs(),Qi())}}function wu(e,t){var n=Ps;Ps&=-2,Ps|=8;try{return e(t)}finally{0===(Ps=n)&&(Gs(),Qi())}}function xu(e,t){fi(Fs,Ms),Ms|=t,js|=t}function _u(){Ms=Fs.current,li(Fs)}function Eu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Kr(n)),null!==Os)for(n=Os.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Oa(),li(pi),li(di),Ya();break;case 5:Ma(r);break;case 4:Oa();break;case 13:case 19:li(Fa);break;case 10:ra(r);break;case 23:case 24:_u()}n=n.return}Ds=e,Os=Ku(e.current,null),Ls=Ms=js=t,Us=0,Vs=null,qs=zs=Bs=0}function Su(e,t){for(;;){var n=Os;try{if(na(),$a.current=Po,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Xa=0,to=eo=Za=null,ro=!1,Rs.current=null,null===n||null===n.return){Us=1,Vs=t,Os=null;break}e:{var a=e,o=n.return,s=n,u=t;if(t=Ls,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Fa.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(c),h.updateQueue=y}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var g=la(-1,1);g.tag=2,fa(s,g)}s.lanes|=1;break e}u=void 0,s=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fs,u=new Set,k.set(c,u)):void 0===(u=k.get(c))&&(u=new Set,k.set(c,u)),!u.has(s)){u.add(s);var b=Bu.bind(null,a,c,s);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Us&&(Us=2),u=cs(u,s),h=o;do{switch(h.tag){case 3:a=u,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hs(0,a,t));break e;case 1:a=u;var w=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Xs||!Xs.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,ds(h,a,t));break e}}h=h.return}while(null!==h)}Ru(n)}catch(_){t=_,Os===n&&null!==n&&(Os=n=n.return);continue}break}}function Iu(){var e=Ns.current;return Ns.current=Po,null===e?Po:e}function Tu(e,t){var n=Ps;Ps|=16;var r=Iu();for(Ds===e&&Ls===t||Eu(e,t);;)try{Cu();break}catch(i){Su(e,i)}if(na(),Ps=n,Ns.current=r,null!==Os)throw Error(o(261));return Ds=null,Ls=0,Us}function Cu(){for(;null!==Os;)Nu(Os)}function Au(){for(;null!==Os&&!Ci();)Nu(Os)}function Nu(e){var t=Qs(e.alternate,e,Ms);e.memoizedProps=e.pendingProps,null===t?Ru(e):Os=t,Rs.current=null}function Ru(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ms)))return void(Os=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ms)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Os=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Os=t);Os=t=e}while(null!==t);0===Us&&(Us=5)}function Pu(e){var t=Wi();return Ki(99,Du.bind(null,e,t)),null}function Du(e,t){do{Lu()}while(null!==eu);if(0!==(48&Ps))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var c=31-Wt(a),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,a&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Ds&&(Os=Ds=null,Ls=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ps,Ps|=32,Rs.current=null,Br=Yt,yr(s=mr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(I){u=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=s,y=null;t:for(;;){for(var g;m!==u||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===s)break t;if(y===u&&++p===a&&(h=f),y===c&&++v===l&&(d=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;zr={focusedElem:s,selectionRange:u},Yt=!1,lu=null,fu=!1,Ys=r;do{try{Ou()}catch(I){if(null===Ys)throw Error(o(330));ju(Ys,I),Ys=Ys.nextEffect}}while(null!==Ys);lu=null,Ys=r;do{try{for(s=e;null!==Ys;){var k=Ys.flags;if(16&k&&ge(Ys.stateNode,""),128&k){var b=Ys.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:xs(Ys),Ys.flags&=-3;break;case 6:xs(Ys),Ys.flags&=-3,Is(Ys.alternate,Ys);break;case 1024:Ys.flags&=-1025;break;case 1028:Ys.flags&=-1025,Is(Ys.alternate,Ys);break;case 4:Is(Ys.alternate,Ys);break;case 8:Ss(s,u=Ys);var x=u.alternate;bs(u),null!==x&&bs(x)}Ys=Ys.nextEffect}}catch(I){if(null===Ys)throw Error(o(330));ju(Ys,I),Ys=Ys.nextEffect}}while(null!==Ys);if(w=zr,b=mr(),k=w.focusedElem,s=w.selectionRange,b!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==s&&yr(k)&&(b=s.start,void 0===(w=s.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),u=k.textContent.length,x=Math.min(s.start,u),s=void 0===s.end?x:Math.min(s.end,u),!w.extend&&x>s&&(u=s,s=x,x=u),u=pr(k,x),a=pr(k,s),u&&a&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),x>s?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Yt=!!Br,zr=Br=null,e.current=n,Ys=r;do{try{for(k=e;null!==Ys;){var _=Ys.flags;if(36&_&&ys(k,Ys.alternate,Ys),128&_){b=void 0;var E=Ys.ref;if(null!==E){var S=Ys.stateNode;Ys.tag,b=S,"function"===typeof E?E(b):E.current=b}}Ys=Ys.nextEffect}}catch(I){if(null===Ys)throw Error(o(330));ju(Ys,I),Ys=Ys.nextEffect}}while(null!==Ys);Ys=null,Ui(),Ps=i}else e.current=n;if(Zs)Zs=!1,eu=e,tu=t;else for(Ys=r;null!==Ys;)t=Ys.nextEffect,Ys.nextEffect=null,8&Ys.flags&&((_=Ys).sibling=null,_.stateNode=null),Ys=t;if(0===(r=e.pendingLanes)&&(Xs=null),1===r?e===ou?au++:(au=0,ou=e):au=0,n=n.stateNode,Ei&&"function"===typeof Ei.onCommitFiberRoot)try{Ei.onCommitFiberRoot(_i,n,void 0,64===(64&n.current.flags))}catch(I){}if(mu(e,qi()),$s)throw $s=!1,e=Js,Js=null,e;return 0!==(8&Ps)||Qi(),null}function Ou(){for(;null!==Ys;){var e=Ys.alternate;fu||null===lu||(0!==(8&Ys.flags)?et(Ys,lu)&&(fu=!0):13===Ys.tag&&Cs(e,Ys)&&et(Ys,lu)&&(fu=!0));var t=Ys.flags;0!==(256&t)&&ms(e,Ys),0===(512&t)||Zs||(Zs=!0,Gi(97,(function(){return Lu(),null}))),Ys=Ys.nextEffect}}function Lu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Ki(e,Uu)}return!1}function Mu(e,t){nu.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Lu(),null})))}function Fu(e,t){ru.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Lu(),null})))}function Uu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Ps))throw Error(o(331));var t=Ps;Ps|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===a)throw Error(o(330));ju(a,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===a)throw Error(o(330));ju(a,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Ps=t,Qi(),!0}function Vu(e,t,n){fa(e,t=hs(0,t=cs(n,t),1)),t=hu(),null!==(e=vu(e,1))&&(qt(e,1,t),mu(e,t))}function ju(e,t){if(3===e.tag)Vu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Vu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xs||!Xs.has(r))){var i=ds(n,e=cs(t,e),1);if(fa(n,i),i=hu(),null!==(n=vu(n,1)))qt(n,1,i),mu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Xs||!Xs.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Bu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hu(),e.pingedLanes|=e.suspendedLanes&n,Ds===e&&(Ls&n)===n&&(4===Us||3===Us&&(62914560&Ls)===Ls&&500>qi()-Hs?Eu(e,0):qs|=n),mu(e,t)}function zu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Wi()?1:2:(0===uu&&(uu=js),0===(t=Bt(62914560&~uu))&&(t=4194304))),n=hu(),null!==(e=vu(e,t))&&(qt(e,t,n),mu(e,n))}function qu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Wu(e,t,n,r){return new qu(e,t,n,r)}function Hu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ku(e,t){var n=e.alternate;return null===n?((n=Wu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Hu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Qu(n.children,i,a,t);case M:s=8,i|=16;break;case S:s=8,i|=1;break;case I:return(e=Wu(12,n,t,8|i)).elementType=I,e.type=I,e.lanes=a,e;case N:return(e=Wu(13,n,t,i)).type=N,e.elementType=N,e.lanes=a,e;case R:return(e=Wu(19,n,t,i)).elementType=R,e.lanes=a,e;case F:return Yu(n,i,a,t);case U:return(e=Wu(24,n,t,i)).elementType=U,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case C:s=9;break e;case A:s=11;break e;case P:s=14;break e;case D:s=16,r=null;break e;case O:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Wu(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qu(e,t,n,r){return(e=Wu(7,e,r,t)).lanes=n,e}function Yu(e,t,n,r){return(e=Wu(23,e,r,t)).elementType=F,e.lanes=n,e}function $u(e,t,n){return(e=Wu(6,e,null,t)).lanes=n,e}function Ju(e,t,n){return(t=Wu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function Zu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hu(),s=du(i);e:if(n){t:{if($e(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(yi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=bi(n,c,u);break e}}n=u}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),pu(i,s,a),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Xu(e,t,null!=n&&!0===n.hydrate),t=Wu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ua(t),e[ei]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}wu((function(){ec(t,o,e,i)}))}return tc(o)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zu(e,t,null,n)}Qs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Fo=!0;else{if(0===(n&r)){switch(Fo=!1,t.tag){case 3:Go(t),Ga();break;case 5:La(t);break;case 1:yi(t.type)&&wi(t);break;case 4:Da(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Xo(e,t,n):(fi(Fa,1&Fa.current),null!==(t=as(e,t,n))?t.sibling:null);fi(Fa,1&Fa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Fa,Fa.current),r)break;return null;case 23:case 24:return t.lanes=0,zo(e,t,n)}return as(e,t,n)}Fo=0!==(16384&e.flags)}else Fo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ua(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&ma(t,r,s,e),i.updater=ya,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Ko(null,t,r,!0,a,n)}else t.tag=0,Uo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Hu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===P)return 14}return 2}(i),e=Ji(i,e),a){case 0:t=Wo(null,t,i,e,n);break e;case 1:t=Ho(null,t,i,e,n);break e;case 11:t=Vo(null,t,i,e,n);break e;case 14:t=jo(null,t,i,Ji(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=as(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(ja=Qr(t.stateNode.containerInfo.firstChild),Va=t,a=Ba=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Qa.push(a);for(n=Ta(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Uo(e,t,r,n),Ga();t=t.child}return t;case 5:return La(t),null===e&&Wa(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Wr(r,i)?s=null:null!==a&&Wr(r,a)&&(t.flags|=16),qo(e,t),Uo(e,t,s,n),t.child;case 6:return null===e&&Wa(t),null;case 13:return Xo(e,t,n);case 4:return Da(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ia(t,null,r,n):Uo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Vo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 7:return Uo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Uo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(fi(Xi,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=lr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!pi.current){t=as(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===u.tag&&((l=la(-1,n&-n)).tag=2,fa(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ia(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Uo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Uo(e,t,r,n),t.child;case 14:return a=Ji(i=t.type,t.pendingProps),jo(e,t,i,a=Ji(i.type,a),r,n);case 15:return Bo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ka(t,r,i),wa(t,r,i,n),Ko(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return zo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,hu()),rc(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,hu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hu(),n=du(e);pu(e,n,t),rc(e,n)}},it=function(e,t){return t()},Te=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));J(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},De=bu,Oe=function(e,t,n,r,i){var a=Ps;Ps|=4;try{return Ki(98,e.bind(null,t,n,r,i))}finally{0===(Ps=a)&&(Gs(),Qi())}},Le=function(){0===(49&Ps)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,mu(e,qi())}))}Qi()}(),Lu())},Me=function(e,t){var n=Ps;Ps|=2;try{return e(t)}finally{0===(Ps=n)&&(Gs(),Qi())}};var uc={Events:[ri,ii,ai,Re,Pe,Lu,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{_i=fc.inject(lc),Ei=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ps;if(0!==(48&n))return e(t);Ps|=1;try{if(e)return Ki(99,e.bind(null,t))}finally{Ps=n,Qi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(wu((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bu,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=g.prototype=new y;k.constructor=g,r(k,m.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:b.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0}}if(u)return o=o(u=e),e=""===r?"."+I(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),T(o,t,n,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+I(s=e[c],c);u+=T(s,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=T(s=s.value,t,n,l=r+I(s,c++),o);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function C(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function R(){var e=N.current;if(null===e)throw Error(d(321));return e}var P={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(R){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=S(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};u(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(A([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=g.prototype=m.prototype=Object.create(k);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return y.prototype=g,u(x,"constructor",g),u(g,"constructor",y),y.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(E.prototype),u(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new E(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(x),u(x,s,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+g;try{m(!0,e)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,w.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function _(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>S(o,n))void 0!==u&&0>S(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>S(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var I=[],T=[],C=1,A=null,N=3,R=!1,P=!1,D=!1;function O(e){for(var t=_(T);null!==t;){if(null===t.callback)E(T);else{if(!(t.startTime<=e))break;E(T),t.sortIndex=t.expirationTime,x(I,t)}t=_(T)}}function L(e){if(D=!1,O(e),!P)if(null!==_(I))P=!0,n(M);else{var t=_(T);null!==t&&r(L,t.startTime-e)}}function M(e,n){P=!1,D&&(D=!1,i()),R=!0;var a=N;try{for(O(n),A=_(I);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=A.callback;if("function"===typeof o){A.callback=null,N=A.priorityLevel;var s=o(A.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?A.callback=s:A===_(I)&&E(I),O(n)}else E(I);A=_(I)}if(null!==A)var u=!0;else{var c=_(T);null!==c&&r(L,c.startTime-n),u=!1}return u}finally{A=null,N=a,R=!1}}var F=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||R||(P=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return _(I)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,x(T,e),null===_(I)&&e===_(T)&&(D?i():D=!0,r(L,o-s))):(e.sortIndex=u,x(I,e),P||R||(P=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".2462941d.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="messenger:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[o[c]]=0},r=self.webpackChunkmessenger=self.webpackChunkmessenger||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return ca},SDK_VERSION:function(){return oo},_DEFAULT_ENTRY_NAME:function(){return Ha},_addComponent:function(){return Ya},_addOrOverwriteComponent:function(){return $a},_apps:function(){return Ga},_clearComponents:function(){return eo},_components:function(){return Qa},_getProvider:function(){return Xa},_registerComponent:function(){return Ja},_removeServiceInstance:function(){return Za},deleteApp:function(){return lo},getApp:function(){return uo},getApps:function(){return co},initializeApp:function(){return so},onLog:function(){return po},registerVersion:function(){return ho},setLogLevel:function(){return vo}});var t=n(791),r=n(164);function i(e){if(Array.isArray(e))return e}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){return i(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||o(e,t)||s()}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function f(e,t){if(null==e)return{};var n,r,i=l(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function h(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=h(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function d(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=h(e))&&(r&&(r+=" "),r+=t);return r}function p(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function v(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(p(e.value)&&""!==e.value||t&&p(e.defaultValue)&&""!==e.defaultValue)}var m=n(110),y=n.n(m),g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k="object"===("undefined"===typeof window?"undefined":g(window))&&"object"===("undefined"===typeof document?"undefined":g(document))&&9===document.nodeType;function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function x(e,t){return x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},x(e,t)}function _(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,x(e,t)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var S={}.constructor;function I(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(I);if(e.constructor!==S)return e;var t={};for(var n in e)t[n]=I(e[n]);return t}function T(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=I(t),a=r.plugins.onCreateRule(e,i,n);return a||(e[0],null)}var C=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},A=function(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=", "),n+=C(e[r]," ");else n=C(e,", ");return t||"!important"!==e[e.length-1]||(n+=" !important"),n};function N(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function R(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function P(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,a=void 0===i?0:i,o=t.fallbacks;!1===n.format&&(a=-1/0);var s=N(n),u=s.linebreak,c=s.space;if(e&&a++,o)if(Array.isArray(o))for(var l=0;l<o.length;l++){var f=o[l];for(var h in f){var d=f[h];null!=d&&(r&&(r+=u),r+=R(h+":"+c+A(d)+";",a))}}else for(var p in o){var v=o[p];null!=v&&(r&&(r+=u),r+=R(p+":"+c+A(v)+";",a))}for(var m in t){var y=t[m];null!=y&&"fallbacks"!==m&&(r&&(r+=u),r+=R(m+":"+c+A(y)+";",a))}return(r||n.allowEmpty)&&e?(r&&(r=""+u+r+u),R(""+e+c+"{"+r,--a)+R("}",a)):r}var D=/([[\].#*$><+~=|^:(),"'`\s])/g,O="undefined"!==typeof CSS&&CSS.escape,L=function(e){return O?O(e):e.replace(D,"\\$1")},M=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var a=null==i||!1===i,o=e in this.style;if(a&&!o&&!r)return this;var s=a&&o;if(s?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var u=this.options.sheet;return u&&u.attached,this},e}(),F=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var a=r.selector,o=r.scoped,s=r.sheet,u=r.generateId;return a?i.selectorText=a:!1!==o&&(i.id=u(E(E(i)),s),i.selectorText="."+L(i.id)),i}_(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=A(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?c({},e,{allowEmpty:!0}):e;return P(this.selectorText,this.style,n)},w(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(M),U={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new F(e,t,n)}},V={indent:1,children:!0},j=/@([\w-]+)/,B=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var r=e.match(j);for(var i in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new fe(c({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=V);var t=N(e).linebreak;if(null==e.indent&&(e.indent=V.indent),null==e.children&&(e.children=V.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),z=/@media|@supports\s+/,q={onCreateRule:function(e,t,n){return z.test(e)?new B(e,t,n):null}},W={indent:1,children:!0},H=/@keyframes\s+([\w-]+)/,K=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var r=e.match(H);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var i=n.scoped,a=n.sheet,o=n.generateId;for(var s in this.id=!1===i?this.name:L(o(this,a)),this.rules=new fe(c({},n,{parent:this})),t)this.rules.add(s,t[s],c({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=W);var t=N(e).linebreak;if(null==e.indent&&(e.indent=W.indent),null==e.children&&(e.children=W.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),G=/@keyframes\s+/,Q=/\$([\w-]+)/g,Y=function(e,t){return"string"===typeof e?e.replace(Q,(function(e,n){return n in t?t[n]:e})):e},$=function(e,t,n){var r=e[t],i=Y(r,n);i!==r&&(e[t]=i)},J={onCreateRule:function(e,t,n){return"string"===typeof e&&G.test(e)?new K(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&$(e,"animation-name",n.keyframes),"animation"in e&&$(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return Y(e,r.keyframes);default:return e}}},X=function(e){function t(){return e.apply(this,arguments)||this}return _(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?c({},e,{allowEmpty:!0}):e;return P(this.key,this.style,n)},t}(M),Z={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new X(e,t,n):null}},ee=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=N(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=P(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return P(this.at,this.style,e)},e}(),te=/@font-face/,ne={onCreateRule:function(e,t,n){return te.test(e)?new ee(e,t,n):null}},re=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return P(this.key,this.style,e)},e}(),ie={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new re(e,t,n):null}},ae=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),oe={"@charset":!0,"@import":!0,"@namespace":!0},se={onCreateRule:function(e,t,n){return e in oe?new ae(e,t,n):null}},ue=[U,q,J,Z,ne,ie,se],ce={process:!0},le={force:!0,process:!0},fe=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,i=r.parent,a=r.sheet,o=r.jss,s=r.Renderer,u=r.generateId,l=r.scoped,f=c({classes:this.classes,parent:i,sheet:a,jss:o,Renderer:s,generateId:u,scoped:l,name:e,keyframes:this.keyframes,selector:void 0},n),h=e;e in this.raw&&(h=e+"-d"+this.counter++),this.raw[h]=t,h in this.classes&&(f.selector="."+L(this.classes[h]));var d=T(h,t,f);if(!d)return null;this.register(d);var p=void 0===f.index?this.index.length:f.index;return this.index.splice(p,0,d),d},t.replace=function(e,t,n){var r=this.get(e),i=this.index.indexOf(r);r&&this.remove(r);var a=n;return-1!==i&&(a=c({},n,{index:i})),this.add(e,t,a)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof F?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof K&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof F?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof K&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=ce);var i=this.options,a=i.jss.plugins,o=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var s=t.style;if(a.onUpdate(n,t,o,r),r.process&&s&&s!==t.style){for(var u in a.onProcessStyle(t.style,t,o),t.style){var c=t.style[u];c!==s[u]&&t.prop(u,c,le)}for(var l in s){var f=t.style[l],h=s[l];null==f&&f!==h&&t.prop(l,null,le)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=N(e).linebreak,a=0;a<this.index.length;a++){var o=this.index[a].toString(e);(o||r)&&(t&&(t+=i),t+=o)}return t},e}(),he=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=c({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new fe(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),de=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),pe=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=l(t,["attached"]),i=N(r).linebreak,a="",o=0;o<this.registry.length;o++){var s=this.registry[o];null!=n&&s.attached!==n||(a&&(a+=i),a+=s.toString(r))}return a},w(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),ve=new pe,me="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),ye="2f1acc6c3a606b082e5eef5e54414ffb";null==me[ye]&&(me[ye]=0);var ge=me[ye]++,ke=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",a="";return r&&(r.options.classNamePrefix&&(a=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(a||"c")+ge+i+t:a+n.key+"-"+ge+(i?"-"+i:"")+"-"+t}},be=function(e){var t;return function(){return t||(t=e()),t}},we=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},xe=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=A(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,r,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,r):e.style.setProperty(t,r)}catch(i){return!1}return!0},_e=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},Ee=function(e,t){return e.selectorText=t,e.selectorText===t},Se=be((function(){return document.querySelector("head")}));function Ie(e){var t=ve.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=Se(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var Te=be((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),Ce=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},Ae=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},Ne=function(){function e(e){this.getPropertyValue=we,this.setProperty=xe,this.removeProperty=_e,this.setSelector=Ee,this.hasInsertedRules=!1,this.cssRules=[],e&&ve.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var a=Te();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=Ie(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,a=i.parentNode;a&&a.insertBefore(e,i.nextSibling)}else Se().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var a=Ae(n,t);if(!1===(i=Ce(n,r.toString({children:!1}),a)))return!1;this.refCssRule(e,a,i)}return this.insertRules(r.rules,i),i}var o=e.toString();if(!o)return!1;var s=Ae(n,t),u=Ce(n,o,s);return!1!==u&&(this.hasInsertedRules=!0,this.refCssRule(e,s,u),u)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof he&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),Re=0,Pe=function(){function e(e){this.id=Re++,this.version="10.9.0",this.plugins=new de,this.options={id:{minify:!1},createGenerateId:ke,Renderer:k?Ne:null,plugins:[]},this.generateId=ke({minify:!1});for(var t=0;t<ue.length;t++)this.plugins.use(ue[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=c({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===ve.index?0:ve.index+1);var r=new he(e,c({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),ve.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var r=c({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var i=T(e,t,r);return i&&this.plugins.onProcessRule(i),i},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),De=function(e){return new Pe(e)},Oe="object"===typeof CSS&&null!=CSS&&"number"in CSS;function Le(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var a=Le(r);a&&(t||(t={}),t[n]=a)}}return t}De();function Me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var r=c({},t);return Object.keys(n).forEach((function(e){n[e]&&(r[e]="".concat(t[e]," ").concat(n[e]))})),r}var Fe={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},Ue=Fe;var Ve=t.createContext(null);function je(){return t.useContext(Ve)}var Be="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",ze=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var qe=Date.now(),We="fnValues"+qe,He="fnStyle"+ ++qe,Ke=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=T(e,{},n);return r[He]=t,r},onProcessStyle:function(e,t){if(We in t||He in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[We]=n,e},onUpdate:function(e,t,n,r){var i=t,a=i[He];a&&(i.style=a(e)||{});var o=i[We];if(o)for(var s in o)i.prop(s,o[s](e),r)}}},Ge="@global",Qe="@global ",Ye=function(){function e(e,t,n){for(var r in this.type="global",this.at=Ge,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new fe(c({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),$e=function(){function e(e,t,n){this.type="global",this.at=Ge,this.isProcessed=!1,this.key=e,this.options=n;var r=e.substr(Qe.length);this.rule=n.jss.createRule(r,t,c({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),Je=/\s*,\s*/g;function Xe(e,t){for(var n=e.split(Je),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var Ze=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===Ge)return new Ye(e,t,n);if("@"===e[0]&&e.substr(0,Qe.length)===Qe)return new $e(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,i=r?r[Ge]:null;if(i){for(var a in i)t.addRule(a,i[a],c({},n,{selector:Xe(a,e.selector)}));delete r[Ge]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var i in r)if("@"===i[0]&&i.substr(0,Ge.length)===Ge){var a=Xe(i.substr(Ge.length),e.selector);t.addRule(a,r[i],c({},n,{selector:a})),delete r[i]}}(e,t))}}},et=/\s*,\s*/g,tt=/&/g,nt=/\$([\w-]+)/g;var rt=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split(et),r=e.split(et),i="",a=0;a<n.length;a++)for(var o=n[a],s=0;s<r.length;s++){var u=r[s];i&&(i+=", "),i+=-1!==u.indexOf("&")?u.replace(tt,o):o+" "+u}return i}function n(e,t,n){if(n)return c({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var i=c({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete i.name,i}return{onProcessStyle:function(r,i,a){if("style"!==i.type)return r;var o,s,u=i,l=u.options.parent;for(var f in r){var h=-1!==f.indexOf("&"),d="@"===f[0];if(h||d){if(o=n(u,l,o),h){var p=t(f,u.selector);s||(s=e(l,a)),p=p.replace(nt,s);var v=u.key+"-"+f;"replaceRule"in l?l.replaceRule(v,r[f],c({},o,{selector:p})):l.addRule(v,r[f],c({},o,{selector:p}))}else d&&l.addRule(f,{},o).addRule(u.key,r[f],{selector:u.selector});delete r[f]}}return r}}},it=/[A-Z]/g,at=/^ms-/,ot={};function st(e){return"-"+e.toLowerCase()}var ut=function(e){if(ot.hasOwnProperty(e))return ot[e];var t=e.replace(it,st);return ot[e]=at.test(t)?"-"+t:t};function ct(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:ut(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(ct):t.fallbacks=ct(e.fallbacks)),t}var lt=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=ct(e[t]);return e}return ct(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=ut(t);return t===r?e:(n.prop(r,e),null)}}},ft=Oe&&CSS?CSS.px:"px",ht=Oe&&CSS?CSS.ms:"ms",dt=Oe&&CSS?CSS.percent:"%";function pt(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var vt=pt({"animation-delay":ht,"animation-duration":ht,"background-position":ft,"background-position-x":ft,"background-position-y":ft,"background-size":ft,border:ft,"border-bottom":ft,"border-bottom-left-radius":ft,"border-bottom-right-radius":ft,"border-bottom-width":ft,"border-left":ft,"border-left-width":ft,"border-radius":ft,"border-right":ft,"border-right-width":ft,"border-top":ft,"border-top-left-radius":ft,"border-top-right-radius":ft,"border-top-width":ft,"border-width":ft,"border-block":ft,"border-block-end":ft,"border-block-end-width":ft,"border-block-start":ft,"border-block-start-width":ft,"border-block-width":ft,"border-inline":ft,"border-inline-end":ft,"border-inline-end-width":ft,"border-inline-start":ft,"border-inline-start-width":ft,"border-inline-width":ft,"border-start-start-radius":ft,"border-start-end-radius":ft,"border-end-start-radius":ft,"border-end-end-radius":ft,margin:ft,"margin-bottom":ft,"margin-left":ft,"margin-right":ft,"margin-top":ft,"margin-block":ft,"margin-block-end":ft,"margin-block-start":ft,"margin-inline":ft,"margin-inline-end":ft,"margin-inline-start":ft,padding:ft,"padding-bottom":ft,"padding-left":ft,"padding-right":ft,"padding-top":ft,"padding-block":ft,"padding-block-end":ft,"padding-block-start":ft,"padding-inline":ft,"padding-inline-end":ft,"padding-inline-start":ft,"mask-position-x":ft,"mask-position-y":ft,"mask-size":ft,height:ft,width:ft,"min-height":ft,"max-height":ft,"min-width":ft,"max-width":ft,bottom:ft,left:ft,top:ft,right:ft,inset:ft,"inset-block":ft,"inset-block-end":ft,"inset-block-start":ft,"inset-inline":ft,"inset-inline-end":ft,"inset-inline-start":ft,"box-shadow":ft,"text-shadow":ft,"column-gap":ft,"column-rule":ft,"column-rule-width":ft,"column-width":ft,"font-size":ft,"font-size-delta":ft,"letter-spacing":ft,"text-decoration-thickness":ft,"text-indent":ft,"text-stroke":ft,"text-stroke-width":ft,"word-spacing":ft,motion:ft,"motion-offset":ft,outline:ft,"outline-offset":ft,"outline-width":ft,perspective:ft,"perspective-origin-x":dt,"perspective-origin-y":dt,"transform-origin":dt,"transform-origin-x":dt,"transform-origin-y":dt,"transform-origin-z":dt,"transition-delay":ht,"transition-duration":ht,"vertical-align":ft,"flex-basis":ft,"shape-margin":ft,size:ft,gap:ft,grid:ft,"grid-gap":ft,"row-gap":ft,"grid-row-gap":ft,"grid-column-gap":ft,"grid-template-rows":ft,"grid-template-columns":ft,"grid-auto-rows":ft,"grid-auto-columns":ft,"box-shadow-x":ft,"box-shadow-y":ft,"box-shadow-blur":ft,"box-shadow-spread":ft,"font-line-height":ft,"text-shadow-x":ft,"text-shadow-y":ft,"text-shadow-blur":ft});function mt(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=mt(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=mt(i,t[i],n);else for(var a in t)t[a]=mt(e+"-"+a,t[a],n);else if("number"===typeof t&&!1===isNaN(t)){var o=n[e]||vt[e];return!o||0===t&&o===ft?t.toString():"function"===typeof o?o(t).toString():""+t+o}return t}var yt=function(e){void 0===e&&(e={});var t=pt(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=mt(r,e[r],t);return e},onChangeValue:function(e,n){return mt(n,e,t)}}};function gt(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function kt(e){return function(e){if(Array.isArray(e))return a(e)}(e)||gt(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var bt="",wt="",xt="",_t="",Et=k&&"ontouchstart"in document.documentElement;if(k){var St={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},It=document.createElement("p").style;for(var Tt in St)if(Tt+"Transform"in It){bt=Tt,wt=St[Tt];break}"Webkit"===bt&&"msHyphens"in It&&(bt="ms",wt=St.ms,_t="edge"),"Webkit"===bt&&"-apple-trailing-word"in It&&(xt="apple")}var Ct=bt,At=wt,Nt=xt,Rt=_t,Pt=Et;var Dt={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===Ct?"-webkit-"+e:At+e)}},Ot={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===Ct?At+"print-"+e:e)}},Lt=/[-\s]+(.)?/g;function Mt(e,t){return t?t.toUpperCase():""}function Ft(e){return e.replace(Lt,Mt)}function Ut(e){return Ft("-"+e)}var Vt,jt={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===Ct){var n="mask-image";if(Ft(n)in t)return e;if(Ct+Ut(n)in t)return At+e}return e}},Bt={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==Nt||Pt?e:At+e)}},zt={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:At+e)}},qt={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:At+e)}},Wt={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===Ct||"ms"===Ct&&"edge"!==Rt?At+e:e)}},Ht={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===Ct||"ms"===Ct||"apple"===Nt?At+e:e)}},Kt={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===Ct?"WebkitColumn"+Ut(e)in t&&At+"column-"+e:"Moz"===Ct&&("page"+Ut(e)in t&&"page-"+e))}},Gt={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===Ct)return e;var n=e.replace("-inline","");return Ct+Ut(n)in t&&At+n}},Qt={supportedProperty:function(e,t){return Ft(e)in t&&e}},Yt={supportedProperty:function(e,t){var n=Ut(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:Ct+n in t?At+e:"Webkit"!==Ct&&"Webkit"+n in t&&"-webkit-"+e}},$t={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===Ct?""+At+e:e)}},Jt={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===Ct?At+"scroll-chaining":e)}},Xt={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Zt={supportedProperty:function(e,t){var n=Xt[e];return!!n&&(Ct+Ut(n)in t&&At+n)}},en={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},tn=Object.keys(en),nn=function(e){return At+e},rn={supportedProperty:function(e,t,n){var r=n.multiple;if(tn.indexOf(e)>-1){var i=en[e];if(!Array.isArray(i))return Ct+Ut(i)in t&&At+i;if(!r)return!1;for(var a=0;a<i.length;a++)if(!(Ct+Ut(i[0])in t))return!1;return i.map(nn)}return!1}},an=[Dt,Ot,jt,Bt,zt,qt,Wt,Ht,Kt,Gt,Qt,Yt,$t,Jt,Zt,rn],on=an.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),sn=an.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,kt(t.noPrefill)),e}),[]),un={};if(k){Vt=document.createElement("p");var cn=window.getComputedStyle(document.documentElement,"");for(var ln in cn)isNaN(ln)||(un[cn[ln]]=cn[ln]);sn.forEach((function(e){return delete un[e]}))}function fn(e,t){if(void 0===t&&(t={}),!Vt)return e;if(null!=un[e])return un[e];"transition"!==e&&"transform"!==e||(t[e]=e in Vt.style);for(var n=0;n<on.length&&(un[e]=on[n](e,Vt.style,t),!un[e]);n++);try{Vt.style[e]=""}catch(r){return!1}return un[e]}var hn,dn={},pn={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},vn=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function mn(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?fn(t):", "+fn(n);return r||(t||n)}function yn(e,t){var n=t;if(!hn||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=dn[r])return dn[r];try{hn.style[e]=n}catch(i){return dn[r]=!1,!1}if(pn[e])n=n.replace(vn,mn);else if(""===hn.style[e]&&("-ms-flex"===(n=At+n)&&(hn.style[e]="-ms-flexbox"),hn.style[e]=n,""===hn.style[e]))return dn[r]=!1,!1;return hn.style[e]="",dn[r]=n,dn[r]}k&&(hn=document.createElement("p"));var gn=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,a=fn(n);a&&a!==n&&(i=!0);var o=!1,s=yn(a,A(r));s&&s!==r&&(o=!0),(i||o)&&(i&&delete t[n],t[a||n]=s||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===Ct?e:"@"+At+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return yn(t,A(e))||e}}};var kn=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),a=0;a<i.length;a++)r[i[a]]=t[i[a]];return r}}};var bn=De({plugins:[Ke(),Ze(),rt(),lt(),yt(),"undefined"===typeof window?null:gn(),kn()]}),wn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,a=e.seed,o=void 0===a?"":a,s=""===o?"":"".concat(o,"-"),u=0,c=function(){return u+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==ze.indexOf(e.key))return"Mui-".concat(e.key);var a="".concat(s).concat(r,"-").concat(e.key);return t.options.theme[Be]&&""===o?"".concat(a,"-").concat(c()):a}return"".concat(s).concat(i).concat(c())}}(),xn={disableGeneration:!1,generateClassName:wn,jss:bn,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},_n=t.createContext(xn);var En=-1e9;function Sn(){return En+=1}function In(e){return In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},In(e)}function Tn(e){return e&&"object"===In(e)&&e.constructor===Object}function Cn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?c({},e):e;return Tn(e)&&Tn(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(Tn(t[i])&&i in e?r[i]=Cn(e[i],t[i],n):r[i]=t[i])})),r}function An(e){var t="function"===typeof e;return{create:function(n,r){var i;try{i=t?e(n):e}catch(s){throw s}if(!r||!n.overrides||!n.overrides[r])return i;var a=n.overrides[r],o=c({},i);return Object.keys(a).forEach((function(e){o[e]=Cn(o[e],a[e])})),o},options:{}}}var Nn={};function Rn(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=Me({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}function Pn(e,t){var n=e.state,r=e.theme,i=e.stylesOptions,a=e.stylesCreator,o=e.name;if(!i.disableGeneration){var s=Ue.get(i.sheetsManager,a,r);s||(s={refs:0,staticSheet:null,dynamicStyles:null},Ue.set(i.sheetsManager,a,r,s));var u=c({},a.options,i,{theme:r,flip:"boolean"===typeof i.flip?i.flip:"rtl"===r.direction});u.generateId=u.serverGenerateClassName||u.generateClassName;var l=i.sheetsRegistry;if(0===s.refs){var f;i.sheetsCache&&(f=Ue.get(i.sheetsCache,a,r));var h=a.create(r,o);f||((f=i.jss.createStyleSheet(h,c({link:!1},u))).attach(),i.sheetsCache&&Ue.set(i.sheetsCache,a,r,f)),l&&l.add(f),s.staticSheet=f,s.dynamicStyles=Le(h)}if(s.dynamicStyles){var d=i.jss.createStyleSheet(s.dynamicStyles,c({link:!0},u));d.update(t),d.attach(),n.dynamicSheet=d,n.classes=Me({baseClasses:s.staticSheet.classes,newClasses:d.classes}),l&&l.add(d)}else n.classes=s.staticSheet.classes;s.refs+=1}}function Dn(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function On(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var a=Ue.get(r.sheetsManager,i,n);a.refs-=1;var o=r.sheetsRegistry;0===a.refs&&(Ue.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(a.staticSheet),o&&o.remove(a.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),o&&o.remove(t.dynamicSheet))}}function Ln(e,n){var r,i=t.useRef([]),a=t.useMemo((function(){return{}}),n);i.current!==a&&(i.current=a,r=e()),t.useEffect((function(){return function(){r&&r()}}),[a])}function Mn(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.name,i=n.classNamePrefix,a=n.Component,o=n.defaultTheme,s=void 0===o?Nn:o,u=f(n,["name","classNamePrefix","Component","defaultTheme"]),l=An(e),h=r||i||"makeStyles";l.options={index:Sn(),name:r,meta:h,classNamePrefix:h};var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=je()||s,i=c({},t.useContext(_n),u),o=t.useRef(),f=t.useRef();Ln((function(){var t={name:r,state:{},stylesCreator:l,stylesOptions:i,theme:n};return Pn(t,e),f.current=!1,o.current=t,function(){On(t)}}),[n,l]),t.useEffect((function(){f.current&&Dn(o.current,e),f.current=!0}));var h=Rn(o.current,e.classes,a);return h};return d}function Fn(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,a=t.props[n];for(i in a)void 0===r[i]&&(r[i]=a[i]);return r}var Un=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r){var i=n.defaultTheme,a=n.withTheme,o=void 0!==a&&a,s=n.name,u=f(n,["defaultTheme","withTheme","name"]);var l=s,h=Mn(e,c({defaultTheme:i,Component:r,name:s||r.displayName,classNamePrefix:l},u)),d=t.forwardRef((function(e,n){e.classes;var a,u=e.innerRef,l=f(e,["classes","innerRef"]),d=h(c({},r.defaultProps,e)),p=l;return("string"===typeof s||o)&&(a=je()||i,s&&(p=Fn({theme:a,name:s,props:l})),o&&!p.theme&&(p.theme=a)),t.createElement(r,c({ref:u||n,classes:d},p))}));return y()(d,r),d}},Vn=["xs","sm","md","lg","xl"];function jn(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,s=f(e,["values","unit","step"]);function u(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function l(e,t){var r=Vn.indexOf(t);return r===Vn.length-1?u(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[Vn[r+1]]?n[Vn[r+1]]:t)-o/100).concat(i,")")}return c({keys:Vn,values:n,up:u,down:function(e){var t=Vn.indexOf(e)+1,r=n[Vn[t]];return t===Vn.length?u("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-o/100).concat(i,")")},between:l,only:function(e){return l(e,e)},width:function(e){return n[e]}},s)}function Bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zn(e,t,n){var r;return c({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),c({paddingLeft:t(2),paddingRight:t(2)},n,Bn({},e.up("sm"),c({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(r={minHeight:56},Bn(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),Bn(r,e.up("sm"),{minHeight:64}),r)},n)}function qn(e){for(var t="https://material-ui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}var Wn={black:"#000",white:"#fff"},Hn={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},Kn={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},Gn={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},Qn={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Yn={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},$n={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Jn={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function Xn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function Zn(e){if(e.type)return e;if("#"===e.charAt(0))return Zn(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(qn(3,e));var r=e.substring(t+1,e.length-1).split(",");return{type:n,values:r=r.map((function(e){return parseFloat(e)}))}}function er(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function tr(e){var t="hsl"===(e=Zn(e)).type?Zn(function(e){var t=(e=Zn(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},s="rgb",u=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(s+="a",u.push(t[3])),er({type:s,values:u})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function nr(e,t){return e=Zn(e),t=Xn(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,er(e)}function rr(e,t){if(e=Zn(e),t=Xn(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return er(e)}function ir(e,t){if(e=Zn(e),t=Xn(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return er(e)}var ar={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Wn.white,default:Hn[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},or={text:{primary:Wn.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:Hn[800],default:"#303030"},action:{active:Wn.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function sr(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=ir(e.main,i):"dark"===t&&(e.dark=rr(e.main,a)))}function ur(e){var t=e.primary,n=void 0===t?{light:Kn[300],main:Kn[500],dark:Kn[700]}:t,r=e.secondary,i=void 0===r?{light:Gn.A200,main:Gn.A400,dark:Gn.A700}:r,a=e.error,o=void 0===a?{light:Qn[300],main:Qn[500],dark:Qn[700]}:a,s=e.warning,u=void 0===s?{light:Yn[300],main:Yn[500],dark:Yn[700]}:s,l=e.info,h=void 0===l?{light:$n[300],main:$n[500],dark:$n[700]}:l,d=e.success,p=void 0===d?{light:Jn[300],main:Jn[500],dark:Jn[700]}:d,v=e.type,m=void 0===v?"light":v,y=e.contrastThreshold,g=void 0===y?3:y,k=e.tonalOffset,b=void 0===k?.2:k,w=f(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function x(e){var t=function(e,t){var n=tr(e),r=tr(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,or.text.primary)>=g?or.text.primary:ar.text.primary;return t}var _=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=c({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error(qn(4,t));if("string"!==typeof e.main)throw new Error(qn(5,JSON.stringify(e.main)));return sr(e,"light",n,b),sr(e,"dark",r,b),e.contrastText||(e.contrastText=x(e.main)),e},E={dark:or,light:ar};return Cn(c({common:Wn,type:m,primary:_(n),secondary:_(i,"A400","A200","A700"),error:_(o),warning:_(u),info:_(h),success:_(p),grey:Hn,contrastThreshold:g,getContrastText:x,augmentColor:_,tonalOffset:b},E[m]),w)}function cr(e){return Math.round(1e5*e)/1e5}function lr(e){return cr(e)}var fr={textTransform:"uppercase"},hr='"Roboto", "Helvetica", "Arial", sans-serif';function dr(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?hr:r,a=n.fontSize,o=void 0===a?14:a,s=n.fontWeightLight,u=void 0===s?300:s,l=n.fontWeightRegular,h=void 0===l?400:l,d=n.fontWeightMedium,p=void 0===d?500:d,v=n.fontWeightBold,m=void 0===v?700:v,y=n.htmlFontSize,g=void 0===y?16:y,k=n.allVariants,b=n.pxToRem,w=f(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var x=o/14,_=b||function(e){return"".concat(e/g*x,"rem")},E=function(e,t,n,r,a){return c({fontFamily:i,fontWeight:e,fontSize:_(t),lineHeight:n},i===hr?{letterSpacing:"".concat(cr(r/t),"em")}:{},a,k)},S={h1:E(u,96,1.167,-1.5),h2:E(u,60,1.2,-.5),h3:E(h,48,1.167,0),h4:E(h,34,1.235,.25),h5:E(h,24,1.334,0),h6:E(p,20,1.6,.15),subtitle1:E(h,16,1.75,.15),subtitle2:E(p,14,1.57,.1),body1:E(h,16,1.5,.15),body2:E(h,14,1.43,.15),button:E(p,14,1.75,.4,fr),caption:E(h,12,1.66,.4),overline:E(h,12,2.66,1,fr)};return Cn(c({htmlFontSize:g,pxToRem:_,round:lr,fontFamily:i,fontSize:o,fontWeightLight:u,fontWeightRegular:h,fontWeightMedium:p,fontWeightBold:m},S),w,{clone:!1})}function pr(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var vr=["none",pr(0,2,1,-1,0,1,1,0,0,1,3,0),pr(0,3,1,-2,0,2,2,0,0,1,5,0),pr(0,3,3,-2,0,3,4,0,0,1,8,0),pr(0,2,4,-1,0,4,5,0,0,1,10,0),pr(0,3,5,-1,0,5,8,0,0,1,14,0),pr(0,3,5,-1,0,6,10,0,0,1,18,0),pr(0,4,5,-2,0,7,10,1,0,2,16,1),pr(0,5,5,-3,0,8,10,1,0,3,14,2),pr(0,5,6,-3,0,9,12,1,0,3,16,2),pr(0,6,6,-3,0,10,14,1,0,4,18,3),pr(0,6,7,-4,0,11,15,1,0,4,20,3),pr(0,7,8,-4,0,12,17,2,0,5,22,4),pr(0,7,8,-4,0,13,19,2,0,5,24,4),pr(0,7,9,-4,0,14,21,2,0,5,26,4),pr(0,8,9,-5,0,15,22,2,0,6,28,5),pr(0,8,10,-5,0,16,24,2,0,6,30,5),pr(0,8,11,-5,0,17,26,2,0,6,32,5),pr(0,9,11,-5,0,18,28,2,0,7,34,6),pr(0,9,12,-6,0,19,29,2,0,7,36,6),pr(0,10,13,-6,0,20,31,3,0,8,38,7),pr(0,10,13,-6,0,21,33,3,0,8,40,7),pr(0,10,14,-6,0,22,35,3,0,8,42,7),pr(0,11,14,-7,0,23,36,3,0,9,44,8),pr(0,11,15,-7,0,24,38,3,0,9,46,8)],mr={borderRadius:4},yr={xs:0,sm:600,md:960,lg:1280,xl:1920},gr={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(yr[e],"px)")}};var kr=function(e,t){return t?Cn(e,t,{clone:!1}):e};var br={m:"margin",p:"padding"},wr={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},xr={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},_r=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!xr[e])return[e];e=xr[e]}var t=u(e.split(""),2),n=t[0],r=t[1],i=br[n],a=wr[r]||"";return Array.isArray(a)?a.map((function(e){return i+e})):[i+a]})),Er=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function Sr(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function Ir(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function Tr(e){var t=Sr(e.theme);return Object.keys(e).map((function(n){if(-1===Er.indexOf(n))return null;var r=Ir(_r(n),t),i=e[n];return function(e,t,n){if(Array.isArray(t)){var r=e.theme.breakpoints||gr;return t.reduce((function(e,i,a){return e[r.up(r.keys[a])]=n(t[a]),e}),{})}if("object"===In(t)){var i=e.theme.breakpoints||gr;return Object.keys(t).reduce((function(e,r){return e[i.up(r)]=n(t[r]),e}),{})}return n(t)}(e,i,r)})).reduce(kr,{})}Tr.propTypes={},Tr.filterProps=Er;function Cr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=Sr({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}var Ar={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Nr={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Rr(e){return"".concat(Math.round(e),"ms")}var Pr={easing:Ar,duration:Nr,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,r=void 0===n?Nr.standard:n,i=t.easing,a=void 0===i?Ar.easeInOut:i,o=t.delay,s=void 0===o?0:o;f(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof r?r:Rr(r)," ").concat(a," ").concat("string"===typeof s?s:Rr(s))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}},Dr={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Or(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,i=void 0===r?{}:r,a=e.palette,o=void 0===a?{}:a,s=e.spacing,u=e.typography,c=void 0===u?{}:u,l=f(e,["breakpoints","mixins","palette","spacing","typography"]),h=ur(o),d=jn(n),p=Cr(s),v=Cn({breakpoints:d,direction:"ltr",mixins:zn(d,p,i),overrides:{},palette:h,props:{},shadows:vr,typography:dr(h,c),spacing:p,shape:mr,transitions:Pr,zIndex:Dr},l),m=arguments.length,y=new Array(m>1?m-1:0),g=1;g<m;g++)y[g-1]=arguments[g];return v=y.reduce((function(e,t){return Cn(e,t)}),v)}var Lr=Or();var Mr=function(e,t){return Un(e,c({defaultTheme:Lr},t))};function Fr(e){if("string"!==typeof e)throw new Error(qn(7));return e.charAt(0).toUpperCase()+e.slice(1)}function Ur(e,n){return t.isValidElement(e)&&-1!==n.indexOf(e.type.muiName)}var Vr=t.createContext();var jr=Vr,Br=t.forwardRef((function(e,n){var r=e.children,i=e.classes,a=e.className,o=e.color,s=void 0===o?"primary":o,u=e.component,l=void 0===u?"div":u,h=e.disabled,p=void 0!==h&&h,m=e.error,y=void 0!==m&&m,g=e.fullWidth,k=void 0!==g&&g,b=e.focused,w=e.hiddenLabel,x=void 0!==w&&w,_=e.margin,E=void 0===_?"none":_,S=e.required,I=void 0!==S&&S,T=e.size,C=e.variant,A=void 0===C?"standard":C,N=f(e,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),R=t.useState((function(){var e=!1;return r&&t.Children.forEach(r,(function(t){if(Ur(t,["Input","Select"])){var n=Ur(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)}})),e})),P=R[0],D=R[1],O=t.useState((function(){var e=!1;return r&&t.Children.forEach(r,(function(t){Ur(t,["Input","Select"])&&v(t.props,!0)&&(e=!0)})),e})),L=O[0],M=O[1],F=t.useState(!1),U=F[0],V=F[1],j=void 0!==b?b:U;p&&j&&V(!1);var B=t.useCallback((function(){M(!0)}),[]),z={adornedStart:P,setAdornedStart:D,color:s,disabled:p,error:y,filled:L,focused:j,fullWidth:k,hiddenLabel:x,margin:("small"===T?"dense":void 0)||E,onBlur:function(){V(!1)},onEmpty:t.useCallback((function(){M(!1)}),[]),onFilled:B,onFocus:function(){V(!0)},registerEffect:undefined,required:I,variant:A};return t.createElement(jr.Provider,{value:z},t.createElement(l,c({className:d(i.root,a,"none"!==E&&i["margin".concat(Fr(E))],k&&i.fullWidth),ref:n},N),r))})),zr=Mr({root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},{name:"MuiFormControl"})(Br);function qr(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function Wr(e,n){return t.useMemo((function(){return null==e&&null==n?null:function(t){qr(e,t),qr(n,t)}}),[e,n])}function Hr(e,t){return parseInt(e[t],10)||0}var Kr="undefined"!==typeof window?t.useLayoutEffect:t.useEffect,Gr={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},Qr=t.forwardRef((function(e,n){var r=e.onChange,i=e.rows,a=e.rowsMax,o=e.rowsMin,s=e.maxRows,u=e.minRows,l=void 0===u?1:u,h=e.style,d=e.value,p=f(e,["onChange","rows","rowsMax","rowsMin","maxRows","minRows","style","value"]),v=s||a,m=i||o||l,y=t.useRef(null!=d).current,g=t.useRef(null),k=Wr(n,g),b=t.useRef(null),w=t.useRef(0),x=t.useState({}),_=x[0],E=x[1],S=t.useCallback((function(){var t=g.current,n=window.getComputedStyle(t),r=b.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var i=n["box-sizing"],a=Hr(n,"padding-bottom")+Hr(n,"padding-top"),o=Hr(n,"border-bottom-width")+Hr(n,"border-top-width"),s=r.scrollHeight-a;r.value="x";var u=r.scrollHeight-a,c=s;m&&(c=Math.max(Number(m)*u,c)),v&&(c=Math.min(Number(v)*u,c));var l=(c=Math.max(c,u))+("border-box"===i?a+o:0),f=Math.abs(c-s)<=1;E((function(e){return w.current<20&&(l>0&&Math.abs((e.outerHeightStyle||0)-l)>1||e.overflow!==f)?(w.current+=1,{overflow:f,outerHeightStyle:l}):e}))}),[v,m,e.placeholder]);t.useEffect((function(){var e=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=this,s=function(){e.apply(o,i)};clearTimeout(t),t=setTimeout(s,n)}return r.clear=function(){clearTimeout(t)},r}((function(){w.current=0,S()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[S]),Kr((function(){S()})),t.useEffect((function(){w.current=0}),[d]);return t.createElement(t.Fragment,null,t.createElement("textarea",c({value:d,onChange:function(e){w.current=0,y||S(),r&&r(e)},ref:k,rows:m,style:c({height:_.outerHeightStyle,overflow:_.overflow?"hidden":null},h)},p)),t.createElement("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:b,tabIndex:-1,style:c({},Gr,h)}))})),Yr=Qr,$r="undefined"===typeof window?t.useEffect:t.useLayoutEffect,Jr=t.forwardRef((function(e,n){var r=e["aria-describedby"],i=e.autoComplete,a=e.autoFocus,o=e.classes,s=e.className,u=(e.color,e.defaultValue),l=e.disabled,h=e.endAdornment,p=(e.error,e.fullWidth),m=void 0!==p&&p,y=e.id,g=e.inputComponent,k=void 0===g?"input":g,b=e.inputProps,w=void 0===b?{}:b,x=e.inputRef,_=(e.margin,e.multiline),E=void 0!==_&&_,S=e.name,I=e.onBlur,T=e.onChange,C=e.onClick,A=e.onFocus,N=e.onKeyDown,R=e.onKeyUp,P=e.placeholder,D=e.readOnly,O=e.renderSuffix,L=e.rows,M=e.rowsMax,F=e.rowsMin,U=e.maxRows,V=e.minRows,j=e.startAdornment,B=e.type,z=void 0===B?"text":B,q=e.value,W=f(e,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","maxRows","minRows","startAdornment","type","value"]),H=null!=w.value?w.value:q,K=t.useRef(null!=H).current,G=t.useRef(),Q=t.useCallback((function(e){0}),[]),Y=Wr(w.ref,Q),$=Wr(x,Y),J=Wr(G,$),X=t.useState(!1),Z=X[0],ee=X[1],te=t.useContext(Vr);var ne=function(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}({props:e,muiFormControl:te,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});ne.focused=te?te.focused:Z,t.useEffect((function(){!te&&l&&Z&&(ee(!1),I&&I())}),[te,l,Z,I]);var re=te&&te.onFilled,ie=te&&te.onEmpty,ae=t.useCallback((function(e){v(e)?re&&re():ie&&ie()}),[re,ie]);$r((function(){K&&ae({value:H})}),[H,ae,K]);t.useEffect((function(){ae(G.current)}),[]);var oe=k,se=c({},w,{ref:J});"string"!==typeof oe?se=c({inputRef:J,type:z},se,{ref:null}):E?!L||U||V||M||F?(se=c({minRows:L||V,rowsMax:M,maxRows:U},se),oe=Yr):oe="textarea":se=c({type:z},se);return t.useEffect((function(){te&&te.setAdornedStart(Boolean(j))}),[te,j]),t.createElement("div",c({className:d(o.root,o["color".concat(Fr(ne.color||"primary"))],s,ne.disabled&&o.disabled,ne.error&&o.error,m&&o.fullWidth,ne.focused&&o.focused,te&&o.formControl,E&&o.multiline,j&&o.adornedStart,h&&o.adornedEnd,"dense"===ne.margin&&o.marginDense),onClick:function(e){G.current&&e.currentTarget===e.target&&G.current.focus(),C&&C(e)},ref:n},W),j,t.createElement(jr.Provider,{value:null},t.createElement(oe,c({"aria-invalid":ne.error,"aria-describedby":r,autoComplete:i,autoFocus:a,defaultValue:u,disabled:ne.disabled,id:y,onAnimationStart:function(e){ae("mui-auto-fill-cancel"===e.animationName?G.current:{value:"x"})},name:S,placeholder:P,readOnly:D,required:ne.required,rows:L,value:H,onKeyDown:N,onKeyUp:R},se,{className:d(o.input,w.className,ne.disabled&&o.disabled,E&&o.inputMultiline,ne.hiddenLabel&&o.inputHiddenLabel,j&&o.inputAdornedStart,h&&o.inputAdornedEnd,"search"===z&&o.inputTypeSearch,"dense"===ne.margin&&o.inputMarginDense),onBlur:function(e){I&&I(e),w.onBlur&&w.onBlur(e),te&&te.onBlur?te.onBlur(e):ee(!1)},onChange:function(e){if(!K){var t=e.target||G.current;if(null==t)throw new Error(qn(1));ae({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];w.onChange&&w.onChange.apply(w,[e].concat(r)),T&&T.apply(void 0,[e].concat(r))},onFocus:function(e){ne.disabled?e.stopPropagation():(A&&A(e),w.onFocus&&w.onFocus(e),te&&te.onFocus?te.onFocus(e):ee(!0))}}))),h,O?O(c({},ne,{startAdornment:j})):null)})),Xr=Mr((function(e){var t="light"===e.palette.type,n={color:"currentColor",opacity:t?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},r={opacity:"0 !important"},i={opacity:t?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:c({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus:-ms-input-placeholder":i,"&:focus::-ms-input-placeholder":i},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}}),{name:"MuiInputBase"})(Jr),Zr=t.forwardRef((function(e,n){var r=e.disableUnderline,i=e.classes,a=e.fullWidth,o=void 0!==a&&a,s=e.inputComponent,u=void 0===s?"input":s,l=e.multiline,h=void 0!==l&&l,p=e.type,v=void 0===p?"text":p,m=f(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return t.createElement(Xr,c({classes:c({},i,{root:d(i.root,!r&&i.underline),underline:null}),fullWidth:o,inputComponent:u,multiline:h,ref:n,type:v},m))}));Zr.muiName="Input";var ei=Mr((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(t),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(t)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}}),{name:"MuiInput"})(Zr),ti="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;function ni(e){var n=t.useRef(e);return ti((function(){n.current=e})),t.useCallback((function(){return n.current.apply(void 0,arguments)}),[])}var ri=!0,ii=!1,ai=null,oi={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function si(e){e.metaKey||e.altKey||e.ctrlKey||(ri=!0)}function ui(){ri=!1}function ci(){"hidden"===this.visibilityState&&ii&&(ri=!0)}function li(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return ri||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!oi[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function fi(){ii=!0,window.clearTimeout(ai),ai=window.setTimeout((function(){ii=!1}),100)}function hi(){return{isFocusVisible:li,onBlurVisible:fi,ref:t.useCallback((function(e){var t,n=r.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",si,!0),t.addEventListener("mousedown",ui,!0),t.addEventListener("pointerdown",ui,!0),t.addEventListener("touchstart",ui,!0),t.addEventListener("visibilitychange",ci,!0))}),[])}}var di=t.createContext(null);function pi(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function vi(e,t,n){return null!=n[t]?n[t]:e.props[t]}function mi(e,n,r){var i=pi(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var s={};for(var u in t){if(i[u])for(r=0;r<i[u].length;r++){var c=i[u][r];s[i[u][r]]=n(c)}s[u]=n(u)}for(r=0;r<a.length;r++)s[a[r]]=n(a[r]);return s}(n,i);return Object.keys(a).forEach((function(o){var s=a[o];if((0,t.isValidElement)(s)){var u=o in n,c=o in i,l=n[o],f=(0,t.isValidElement)(l)&&!l.props.in;!c||u&&!f?c||!u||f?c&&u&&(0,t.isValidElement)(l)&&(a[o]=(0,t.cloneElement)(s,{onExited:r.bind(null,s),in:l.props.in,exit:vi(s,"exit",e),enter:vi(s,"enter",e)})):a[o]=(0,t.cloneElement)(s,{in:!1}):a[o]=(0,t.cloneElement)(s,{onExited:r.bind(null,s),in:!0,exit:vi(s,"exit",e),enter:vi(s,"enter",e)})}})),a}var yi=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},gi=function(e){function n(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(E(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}_(n,e);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,n){var r,i,a=n.children,o=n.handleExited;return{children:n.firstRender?(r=e,i=o,pi(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:vi(e,"appear",r),enter:vi(e,"enter",r),exit:vi(e,"exit",r)})}))):mi(e,a,o),firstRender:!1}},r.handleExited=function(e,t){var n=pi(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=c({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=l(e,["component","childFactory"]),a=this.state.contextValue,o=yi(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(di.Provider,{value:a},o):t.createElement(di.Provider,{value:a},t.createElement(n,i,o))},n}(t.Component);gi.propTypes={},gi.defaultProps={component:"div",childFactory:function(e){return e}};var ki=gi,bi="undefined"===typeof window?t.useEffect:t.useLayoutEffect;var wi=function(e){var n=e.classes,r=e.pulsate,i=void 0!==r&&r,a=e.rippleX,o=e.rippleY,s=e.rippleSize,u=e.in,c=e.onExited,l=void 0===c?function(){}:c,f=e.timeout,h=t.useState(!1),p=h[0],v=h[1],m=d(n.ripple,n.rippleVisible,i&&n.ripplePulsate),y={width:s,height:s,top:-s/2+o,left:-s/2+a},g=d(n.child,p&&n.childLeaving,i&&n.childPulsate),k=ni(l);return bi((function(){if(!u){v(!0);var e=setTimeout(k,f);return function(){clearTimeout(e)}}}),[k,u,f]),t.createElement("span",{className:m,style:y},t.createElement("span",{className:g}))},xi=t.forwardRef((function(e,n){var r=e.center,i=void 0!==r&&r,a=e.classes,o=e.className,s=f(e,["center","classes","className"]),u=t.useState([]),l=u[0],h=u[1],p=t.useRef(0),v=t.useRef(null);t.useEffect((function(){v.current&&(v.current(),v.current=null)}),[l]);var m=t.useRef(!1),y=t.useRef(null),g=t.useRef(null),k=t.useRef(null);t.useEffect((function(){return function(){clearTimeout(y.current)}}),[]);var b=t.useCallback((function(e){var n=e.pulsate,r=e.rippleX,i=e.rippleY,o=e.rippleSize,s=e.cb;h((function(e){return[].concat(kt(e),[t.createElement(wi,{key:p.current,classes:a,timeout:550,pulsate:n,rippleX:r,rippleY:i,rippleSize:o})])})),p.current+=1,v.current=s}),[a]),w=t.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,a=void 0!==r&&r,o=t.center,s=void 0===o?i||t.pulsate:o,u=t.fakeElement,c=void 0!==u&&u;if("mousedown"===e.type&&m.current)m.current=!1;else{"touchstart"===e.type&&(m.current=!0);var l,f,h,d=c?null:k.current,p=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches?e.touches[0]:e,w=v.clientX,x=v.clientY;l=Math.round(w-p.left),f=Math.round(x-p.top)}if(s)(h=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(h+=1);else{var _=2*Math.max(Math.abs((d?d.clientWidth:0)-l),l)+2,E=2*Math.max(Math.abs((d?d.clientHeight:0)-f),f)+2;h=Math.sqrt(Math.pow(_,2)+Math.pow(E,2))}e.touches?null===g.current&&(g.current=function(){b({pulsate:a,rippleX:l,rippleY:f,rippleSize:h,cb:n})},y.current=setTimeout((function(){g.current&&(g.current(),g.current=null)}),80)):b({pulsate:a,rippleX:l,rippleY:f,rippleSize:h,cb:n})}}),[i,b]),x=t.useCallback((function(){w({},{pulsate:!0})}),[w]),_=t.useCallback((function(e,t){if(clearTimeout(y.current),"touchend"===e.type&&g.current)return e.persist(),g.current(),g.current=null,void(y.current=setTimeout((function(){_(e,t)})));g.current=null,h((function(e){return e.length>0?e.slice(1):e})),v.current=t}),[]);return t.useImperativeHandle(n,(function(){return{pulsate:x,start:w,stop:_}}),[x,w,_]),t.createElement("span",c({className:d(a.root,o),ref:k},s),t.createElement(ki,{component:null,exit:!0},l))})),_i=Mr((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(t.memo(xi)),Ei=t.forwardRef((function(e,n){var i=e.action,a=e.buttonRef,o=e.centerRipple,s=void 0!==o&&o,u=e.children,l=e.classes,h=e.className,p=e.component,v=void 0===p?"button":p,m=e.disabled,y=void 0!==m&&m,g=e.disableRipple,k=void 0!==g&&g,b=e.disableTouchRipple,w=void 0!==b&&b,x=e.focusRipple,_=void 0!==x&&x,E=e.focusVisibleClassName,S=e.onBlur,I=e.onClick,T=e.onFocus,C=e.onFocusVisible,A=e.onKeyDown,N=e.onKeyUp,R=e.onMouseDown,P=e.onMouseLeave,D=e.onMouseUp,O=e.onTouchEnd,L=e.onTouchMove,M=e.onTouchStart,F=e.onDragLeave,U=e.tabIndex,V=void 0===U?0:U,j=e.TouchRippleProps,B=e.type,z=void 0===B?"button":B,q=f(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),W=t.useRef(null);var H=t.useRef(null),K=t.useState(!1),G=K[0],Q=K[1];y&&G&&Q(!1);var Y=hi(),$=Y.isFocusVisible,J=Y.onBlurVisible,X=Y.ref;function Z(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w;return ni((function(r){return t&&t(r),!n&&H.current&&H.current[e](r),!0}))}t.useImperativeHandle(i,(function(){return{focusVisible:function(){Q(!0),W.current.focus()}}}),[]),t.useEffect((function(){G&&_&&!k&&H.current.pulsate()}),[k,_,G]);var ee=Z("start",R),te=Z("stop",F),ne=Z("stop",D),re=Z("stop",(function(e){G&&e.preventDefault(),P&&P(e)})),ie=Z("start",M),ae=Z("stop",O),oe=Z("stop",L),se=Z("stop",(function(e){G&&(J(e),Q(!1)),S&&S(e)}),!1),ue=ni((function(e){W.current||(W.current=e.currentTarget),$(e)&&(Q(!0),C&&C(e)),T&&T(e)})),ce=function(){var e=r.findDOMNode(W.current);return v&&"button"!==v&&!("A"===e.tagName&&e.href)},le=t.useRef(!1),fe=ni((function(e){_&&!le.current&&G&&H.current&&" "===e.key&&(le.current=!0,e.persist(),H.current.stop(e,(function(){H.current.start(e)}))),e.target===e.currentTarget&&ce()&&" "===e.key&&e.preventDefault(),A&&A(e),e.target===e.currentTarget&&ce()&&"Enter"===e.key&&!y&&(e.preventDefault(),I&&I(e))})),he=ni((function(e){_&&" "===e.key&&H.current&&G&&!e.defaultPrevented&&(le.current=!1,e.persist(),H.current.stop(e,(function(){H.current.pulsate(e)}))),N&&N(e),I&&e.target===e.currentTarget&&ce()&&" "===e.key&&!e.defaultPrevented&&I(e)})),de=v;"button"===de&&q.href&&(de="a");var pe={};"button"===de?(pe.type=z,pe.disabled=y):("a"===de&&q.href||(pe.role="button"),pe["aria-disabled"]=y);var ve=Wr(a,n),me=Wr(X,W),ye=Wr(ve,me),ge=t.useState(!1),ke=ge[0],be=ge[1];t.useEffect((function(){be(!0)}),[]);var we=ke&&!k&&!y;return t.createElement(de,c({className:d(l.root,h,G&&[l.focusVisible,E],y&&l.disabled),onBlur:se,onClick:I,onFocus:ue,onKeyDown:fe,onKeyUp:he,onMouseDown:ee,onMouseLeave:re,onMouseUp:ne,onDragLeave:te,onTouchEnd:ae,onTouchMove:oe,onTouchStart:ie,ref:ye,tabIndex:y?-1:V},pe,q),u,we?t.createElement(_i,c({ref:H,center:s},j)):null)})),Si=Mr({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(Ei),Ii=t.forwardRef((function(e,n){var r=e.children,i=e.classes,a=e.className,o=e.color,s=void 0===o?"default":o,u=e.component,l=void 0===u?"button":u,h=e.disabled,p=void 0!==h&&h,v=e.disableElevation,m=void 0!==v&&v,y=e.disableFocusRipple,g=void 0!==y&&y,k=e.endIcon,b=e.focusVisibleClassName,w=e.fullWidth,x=void 0!==w&&w,_=e.size,E=void 0===_?"medium":_,S=e.startIcon,I=e.type,T=void 0===I?"button":I,C=e.variant,A=void 0===C?"text":C,N=f(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),R=S&&t.createElement("span",{className:d(i.startIcon,i["iconSize".concat(Fr(E))])},S),P=k&&t.createElement("span",{className:d(i.endIcon,i["iconSize".concat(Fr(E))])},k);return t.createElement(Si,c({className:d(i.root,i[A],a,"inherit"===s?i.colorInherit:"default"!==s&&i["".concat(A).concat(Fr(s))],"medium"!==E&&[i["".concat(A,"Size").concat(Fr(E))],i["size".concat(Fr(E))]],m&&i.disableElevation,p&&i.disabled,x&&i.fullWidth),component:l,disabled:p,focusRipple:!g,focusVisibleClassName:d(i.focusVisible,b),ref:n,type:T},N),t.createElement("span",{className:i.label},R,r,P))})),Ti=Mr((function(e){return{root:c({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:nr(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:nr(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:nr(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(nr(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:nr(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(nr(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:nr(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(Ii),Ci=t.forwardRef((function(e,n){var r=e.classes,i=e.className,a=e.component,o=void 0===a?"div":a,s=e.square,u=void 0!==s&&s,l=e.elevation,h=void 0===l?1:l,p=e.variant,v=void 0===p?"elevation":p,m=f(e,["classes","className","component","square","elevation","variant"]);return t.createElement(o,c({className:d(r.root,i,"outlined"===v?r.outlined:r["elevation".concat(h)],!u&&r.rounded),ref:n},m))})),Ai=Mr((function(e){var t={};return e.shadows.forEach((function(e,n){t["elevation".concat(n)]={boxShadow:e}})),c({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},t)}),{name:"MuiPaper"})(Ci),Ni=t.forwardRef((function(e,n){var r=e.classes,i=e.className,a=e.raised,o=void 0!==a&&a,s=f(e,["classes","className","raised"]);return t.createElement(Ai,c({className:d(r.root,i),elevation:o?8:1,ref:n},s))})),Ri=Mr({root:{overflow:"hidden"}},{name:"MuiCard"})(Ni),Pi=t.forwardRef((function(e,n){var r=e.classes,i=e.className,a=e.component,o=void 0===a?"div":a,s=f(e,["classes","className","component"]);return t.createElement(o,c({className:d(r.root,i),ref:n},s))})),Di=Mr({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(Pi),Oi={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},Li=t.forwardRef((function(e,n){var r=e.align,i=void 0===r?"inherit":r,a=e.classes,o=e.className,s=e.color,u=void 0===s?"initial":s,l=e.component,h=e.display,p=void 0===h?"initial":h,v=e.gutterBottom,m=void 0!==v&&v,y=e.noWrap,g=void 0!==y&&y,k=e.paragraph,b=void 0!==k&&k,w=e.variant,x=void 0===w?"body1":w,_=e.variantMapping,E=void 0===_?Oi:_,S=f(e,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),I=l||(b?"p":E[x]||Oi[x])||"span";return t.createElement(I,c({className:d(a.root,o,"inherit"!==x&&a[x],"initial"!==u&&a["color".concat(Fr(u))],g&&a.noWrap,m&&a.gutterBottom,b&&a.paragraph,"inherit"!==i&&a["align".concat(Fr(i))],"initial"!==p&&a["display".concat(Fr(p))]),ref:n},S))})),Mi=Mr((function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(Li),Fi=n(184),Ui=(0,t.forwardRef)((function(e,t){var n=e.text,r=e.Usernam===n.username;return(0,Fi.jsx)("div",{ref:t,className:"message ".concat(r&&"message__user"),children:(0,Fi.jsx)(Ri,{className:r?"message__usercard":"message__guestcard",children:(0,Fi.jsx)(Di,{children:(0,Fi.jsxs)(Mi,{variant:"h5",component:"h2",children:[!r&&"".concat(n.username||"Unkown User",": ")," ",n.text]})})})})}));function Vi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ji(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function Bi(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}function zi(e){return zi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},zi(e)}function qi(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Wi(e,t){if(t&&("object"===In(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return E(e)}function Hi(e){var t=qi();return function(){var n,r=zi(e);if(t){var i=zi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Wi(this,n)}}function Ki(e,t,n){return Ki=qi()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&x(i,n.prototype),i},Ki.apply(null,arguments)}function Gi(e){var t="function"===typeof Map?new Map:void 0;return Gi=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Ki(e,arguments,zi(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),x(n,e)},Gi(e)}var Qi=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Yi={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Qi(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},$i=function(e){return function(e){var t=Qi(e);return Yi.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ji=function(e){try{return Yi.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Xi(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&Zi(n)&&(e[n]=Xi(e[n],t[n]));return e}function Zi(e){return"__proto__"!==e}var ea=function(){function e(){var t=this;Vi(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return w(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function ta(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[$i(JSON.stringify({alg:"none",type:"JWT"})),$i(JSON.stringify(a)),""].join(".")}function na(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ra(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(na())}function ia(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function aa(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function oa(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function sa(){var e=na();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function ua(){return"object"===typeof indexedDB}var ca=function(e){Bi(n,e);var t=Hi(n);function n(e,r,i){var a;return Vi(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(E(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(E(a),la.prototype.create),a}return w(n)}(Gi(Error)),la=function(){function e(t,n,r){Vi(this,e),this.service=t,this.serviceName=n,this.errors=r}return w(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?fa(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new ca(n,a,t);return o}}]),e}();function fa(e,t){return e.replace(ha,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var ha=/\{\$([^}]+)}/g;function da(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function pa(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(va(s)&&va(u)){if(!pa(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function va(e){return null!==e&&"object"===typeof e}function ma(e){for(var t=[],n=function(){var e=u(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function ya(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=u(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function ga(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function ka(e,t){var n=new ba(e,t);return n.subscribe.bind(n)}var ba=function(){function e(t,n){var r=this;Vi(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return w(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=ji(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=wa),void 0===r.error&&(r.error=wa),void 0===r.complete&&(r.complete=wa);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function wa(){}function xa(e){return e&&e._delegate?e._delegate:e}function _a(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function Ea(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){_a(a,r,i,o,s,"next",e)}function s(e){_a(a,r,i,o,s,"throw",e)}o(void 0)}))}}var Sa=n(757),Ia=n.n(Sa),Ta=function(){function e(t,n,r){Vi(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return w(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Ca="[DEFAULT]",Aa=function(){function e(t,n){Vi(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return w(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new ea;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ca})}catch(c){}var t,n=ji(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=u(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ca;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Ea(Sa.mark((function e(){var t;return Sa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(kt(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),kt(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ca;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ca;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=ji(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=u(i.value,2),c=s[0],l=s[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=ji(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch($S){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Ca?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch($S){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ca;return this.component?this.component.multipleInstances?e:Ca:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Na,Ra,Pa=function(){function e(t){Vi(this,e),this.name=t,this.providers=new Map}return w(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Aa(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Da=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ra||(Ra={}));var Oa,La,Ma={debug:Ra.DEBUG,verbose:Ra.VERBOSE,info:Ra.INFO,warn:Ra.WARN,error:Ra.ERROR,silent:Ra.SILENT},Fa=Ra.INFO,Ua=(Bn(Na={},Ra.DEBUG,"log"),Bn(Na,Ra.VERBOSE,"log"),Bn(Na,Ra.INFO,"info"),Bn(Na,Ra.WARN,"warn"),Bn(Na,Ra.ERROR,"error"),Na),Va=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Ua[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},ja=function(){function e(t){Vi(this,e),this.name=t,this._logLevel=Fa,this._logHandler=Va,this._userLogHandler=null,Da.push(this)}return w(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Ra))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Ma[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ra.DEBUG].concat(t)),this._logHandler.apply(this,[this,Ra.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ra.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Ra.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ra.INFO].concat(t)),this._logHandler.apply(this,[this,Ra.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ra.WARN].concat(t)),this._logHandler.apply(this,[this,Ra.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ra.ERROR].concat(t)),this._logHandler.apply(this,[this,Ra.ERROR].concat(t))}}]),e}();var Ba=function(){function e(t){Vi(this,e),this.container=t}return w(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var za="@firebase/app",qa="0.7.12",Wa=new ja("@firebase/app"),Ha="[DEFAULT]",Ka=(Bn(Oa={},za,"fire-core"),Bn(Oa,"@firebase/app-compat","fire-core-compat"),Bn(Oa,"@firebase/analytics","fire-analytics"),Bn(Oa,"@firebase/analytics-compat","fire-analytics-compat"),Bn(Oa,"@firebase/app-check","fire-app-check"),Bn(Oa,"@firebase/app-check-compat","fire-app-check-compat"),Bn(Oa,"@firebase/auth","fire-auth"),Bn(Oa,"@firebase/auth-compat","fire-auth-compat"),Bn(Oa,"@firebase/database","fire-rtdb"),Bn(Oa,"@firebase/database-compat","fire-rtdb-compat"),Bn(Oa,"@firebase/functions","fire-fn"),Bn(Oa,"@firebase/functions-compat","fire-fn-compat"),Bn(Oa,"@firebase/installations","fire-iid"),Bn(Oa,"@firebase/installations-compat","fire-iid-compat"),Bn(Oa,"@firebase/messaging","fire-fcm"),Bn(Oa,"@firebase/messaging-compat","fire-fcm-compat"),Bn(Oa,"@firebase/performance","fire-perf"),Bn(Oa,"@firebase/performance-compat","fire-perf-compat"),Bn(Oa,"@firebase/remote-config","fire-rc"),Bn(Oa,"@firebase/remote-config-compat","fire-rc-compat"),Bn(Oa,"@firebase/storage","fire-gcs"),Bn(Oa,"@firebase/storage-compat","fire-gcs-compat"),Bn(Oa,"@firebase/firestore","fire-fst"),Bn(Oa,"@firebase/firestore-compat","fire-fst-compat"),Bn(Oa,"fire-js","fire-js"),Bn(Oa,"firebase","fire-js-all"),Oa),Ga=new Map,Qa=new Map;function Ya(e,t){try{e.container.addComponent(t)}catch(n){Wa.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function $a(e,t){e.container.addOrOverwriteComponent(t)}function Ja(e){var t=e.name;if(Qa.has(t))return Wa.debug("There were multiple attempts to register component ".concat(t,".")),!1;Qa.set(t,e);var n,r=ji(Ga.values());try{for(r.s();!(n=r.n()).done;){Ya(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Xa(e,t){return e.container.getProvider(t)}function Za(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ha;Xa(e,t).clearInstance(n)}function eo(){Qa.clear()}var to,no,ro=(Bn(La={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Bn(La,"bad-app-name","Illegal App name: '{$appName}"),Bn(La,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Bn(La,"app-deleted","Firebase App named '{$appName}' already deleted"),Bn(La,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Bn(La,"invalid-log-argument","First argument to `onLog` must be null or a function."),La),io=new la("app","Firebase",ro),ao=function(){function e(t,n,r){var i=this;Vi(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ta("app",(function(){return i}),"PUBLIC"))}return w(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw io.create("app-deleted",{appName:this._name})}}]),e}(),oo="9.6.2";function so(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Ha,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw io.create("bad-app-name",{appName:String(i)});var a=Ga.get(i);if(a){if(pa(e,a.options)&&pa(r,a.config))return a;throw io.create("duplicate-app",{appName:i})}var o,s=new Pa(i),u=ji(Qa.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new ao(e,r,s);return Ga.set(i,l),l}function uo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ha,t=Ga.get(e);if(!t)throw io.create("no-app",{appName:e});return t}function co(){return Array.from(Ga.values())}function lo(e){return fo.apply(this,arguments)}function fo(){return(fo=Ea(Sa.mark((function e(t){var n;return Sa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Ga.has(n)){e.next=6;break}return Ga.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ho(e,t,n){var r,i=null!==(r=Ka[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Wa.warn(s.join(" "))}Ja(new Ta("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function po(e,t){if(null!==e&&"function"!==typeof e)throw io.create("invalid-log-argument");!function(e,t){var n,r=ji(Da);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Ma[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Ra[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function vo(e){var t;t=e,Da.forEach((function(e){e.setLogLevel(t)}))}to="",Ja(new Ta("platform-logger",(function(e){return new Ba(e)}),"PRIVATE")),ho(za,qa,to),ho(za,qa,"esm2017"),ho("fire-js","");var mo=function(){function e(t,n){var r=this;Vi(this,e),this._delegate=t,this.firebase=n,Ya(t,new Ta("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return w(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),lo(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ha;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ha;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Ya(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){$a(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),yo=(Bn(no={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Bn(no,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),no),go=new la("app-compat","Firebase",yo);var ko=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=so(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(da(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:ho,setLogLevel:vo,onLog:po,apps:null,SDK_VERSION:oo,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Ja(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw go.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Xi(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!da(n,e=e||Ha))throw go.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(mo);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Xi(n,e)},createSubscribe:ka,ErrorFactory:la,deepExtend:Xi}),n}(),bo=new ja("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){bo.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var wo=self.firebase.SDK_VERSION;wo&&wo.indexOf("LITE")>=0&&bo.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var xo=ko;!function(e){ho("@firebase/app-compat","0.1.13",e)}();function _o(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=zi(e)););return e}function Eo(){return Eo="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_o(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Eo.apply(this,arguments)}xo.registerVersion("firebase","9.6.2","app-compat");function So(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Io;Object.create;var To="facebook.com",Co="github.com",Ao="google.com",No="password",Ro="twitter.com",Po="EMAIL_SIGNIN",Do="PASSWORD_RESET",Oo="RECOVER_EMAIL",Lo="REVERT_SECOND_FACTOR_ADDITION",Mo="VERIFY_AND_CHANGE_EMAIL",Fo="VERIFY_EMAIL";function Uo(){return Bn({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Vo=function(){var e;return Bn(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Bn(e,"argument-error",""),Bn(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Bn(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Bn(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Bn(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Bn(e,"cordova-not-ready","Cordova framework is not ready."),Bn(e,"cors-unsupported","This browser is not supported."),Bn(e,"credential-already-in-use","This credential is already associated with a different user account."),Bn(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Bn(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Bn(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Bn(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Bn(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Bn(e,"email-already-in-use","The email address is already in use by another account."),Bn(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Bn(e,"expired-action-code","The action code has expired."),Bn(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Bn(e,"internal-error","An internal AuthError has occurred."),Bn(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Bn(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Bn(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Bn(e,"invalid-auth-event","An internal AuthError has occurred."),Bn(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Bn(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Bn(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Bn(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Bn(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Bn(e,"invalid-email","The email address is badly formatted."),Bn(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Bn(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Bn(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Bn(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Bn(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Bn(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Bn(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Bn(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Bn(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Bn(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Bn(e,"wrong-password","The password is invalid or the user does not have a password."),Bn(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Bn(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Bn(e,"invalid-provider-id","The specified provider ID is invalid."),Bn(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Bn(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Bn(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Bn(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Bn(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Bn(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Bn(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Bn(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Bn(e,"missing-continue-uri","A continue URL must be provided in the request."),Bn(e,"missing-iframe-start","An internal AuthError has occurred."),Bn(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Bn(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Bn(e,"missing-multi-factor-info","No second factor identifier is provided."),Bn(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Bn(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Bn(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Bn(e,"app-deleted","This instance of FirebaseApp has been deleted."),Bn(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Bn(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Bn(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Bn(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Bn(e,"no-auth-event","An internal AuthError has occurred."),Bn(e,"no-such-provider","User was not linked to an account with the given provider."),Bn(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Bn(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Bn(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Bn(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Bn(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Bn(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Bn(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Bn(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Bn(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Bn(e,"rejected-credential","The request contains malformed or mismatching credentials."),Bn(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Bn(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Bn(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Bn(e,"timeout","The operation has timed out."),Bn(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Bn(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Bn(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Bn(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Bn(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Bn(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Bn(e,"unverified-email","The operation requires a verified email."),Bn(e,"user-cancelled","The user did not grant your application the permissions it requested."),Bn(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Bn(e,"user-disabled","The user account has been disabled by an administrator."),Bn(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Bn(e,"user-signed-out",""),Bn(e,"weak-password","The password must be 6 characters long or more."),Bn(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Bn(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},jo=Uo,Bo=new la("auth","Firebase",Uo()),zo=new ja("@firebase/auth");function qo(e){if(zo.logLevel<=Ra.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];zo.error.apply(zo,["Auth (".concat(oo,"): ").concat(e)].concat(n))}}function Wo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Qo.apply(void 0,[e].concat(n))}function Ho(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Qo.apply(void 0,[e].concat(n))}function Ko(e,t,n){var r=Object.assign(Object.assign({},jo()),Bn({},t,n));return new la("auth","Firebase",r).create(t,{appName:e.name})}function Go(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Wo(e,"argument-error"),Ko(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Qo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=kt(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(kt(o)))}return Bo.create.apply(Bo,[e].concat(n))}function Yo(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Qo.apply(void 0,[t].concat(r))}}function $o(e){var t="INTERNAL ASSERTION FAILED: "+e;throw qo(t),new Error(t)}function Jo(e,t){e||$o(t)}var Xo=new Map;function Zo(e){Jo(e instanceof Function,"Expected a class definition");var t=Xo.get(e);return t?(Jo(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Xo.set(e,t),t)}function es(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ts(){return"http:"===ns()||"https:"===ns()}function ns(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var rs=function(){function e(t,n){Vi(this,e),this.shortDelay=t,this.longDelay=n,Jo(n>t,"Short delay should be less than long delay!"),this.isMobile=ra()||oa()}return w(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ts()||aa()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function is(e,t){Jo(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var as=function(){function e(){Vi(this,e)}return w(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void $o("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void $o("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void $o("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),os=(Bn(Io={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Bn(Io,"MISSING_CUSTOM_TOKEN","internal-error"),Bn(Io,"INVALID_IDENTIFIER","invalid-email"),Bn(Io,"MISSING_CONTINUE_URI","internal-error"),Bn(Io,"INVALID_PASSWORD","wrong-password"),Bn(Io,"MISSING_PASSWORD","internal-error"),Bn(Io,"EMAIL_EXISTS","email-already-in-use"),Bn(Io,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Bn(Io,"INVALID_IDP_RESPONSE","invalid-credential"),Bn(Io,"INVALID_PENDING_TOKEN","invalid-credential"),Bn(Io,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Bn(Io,"MISSING_REQ_TYPE","internal-error"),Bn(Io,"EMAIL_NOT_FOUND","user-not-found"),Bn(Io,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Bn(Io,"EXPIRED_OOB_CODE","expired-action-code"),Bn(Io,"INVALID_OOB_CODE","invalid-action-code"),Bn(Io,"MISSING_OOB_CODE","internal-error"),Bn(Io,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Bn(Io,"INVALID_ID_TOKEN","invalid-user-token"),Bn(Io,"TOKEN_EXPIRED","user-token-expired"),Bn(Io,"USER_NOT_FOUND","user-token-expired"),Bn(Io,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Bn(Io,"INVALID_CODE","invalid-verification-code"),Bn(Io,"INVALID_SESSION_INFO","invalid-verification-id"),Bn(Io,"INVALID_TEMPORARY_PROOF","invalid-credential"),Bn(Io,"MISSING_SESSION_INFO","missing-verification-id"),Bn(Io,"SESSION_EXPIRED","code-expired"),Bn(Io,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Bn(Io,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Bn(Io,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Bn(Io,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Bn(Io,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Bn(Io,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Bn(Io,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Bn(Io,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Bn(Io,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Bn(Io,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Bn(Io,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Io),ss=new rs(3e4,6e4);function us(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function cs(e,t,n,r){return ls.apply(this,arguments)}function ls(){return ls=Ea(Ia().mark((function e(t,n,r,i){var a,o=arguments;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",fs(t,a,Ea(Ia().mark((function e(){var a,o,s,u;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=ma(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",as.fetch()(vs(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),ls.apply(this,arguments)}function fs(e,t,n){return hs.apply(this,arguments)}function hs(){return(hs=Ea(Ia().mark((function e(t,n,r){var i,a,o,s,c,l,f,h,d,p;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},os),n),e.prev=2,a=new ms(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw ys(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(c=o.ok?s.errorMessage:s.error.message,l=c.split(" : "),f=u(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw ys(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw ys(t,"email-already-in-use",s);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw Ko(t,p,d);case 30:Wo(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof ca)){e.next=37;break}throw e.t0;case 37:Wo(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])})))).apply(this,arguments)}function ds(e,t,n,r){return ps.apply(this,arguments)}function ps(){return ps=Ea(Ia().mark((function e(t,n,r,i){var a,o,s=arguments;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,cs(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Wo(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),ps.apply(this,arguments)}function vs(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?is(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var ms=function(){function e(t){var n=this;Vi(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Ho(n.auth,"timeout"))}),ss.get())}))}return w(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function ys(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Ho(e,t,r);return i.customData._tokenResponse=n,i}function gs(e,t){return ks.apply(this,arguments)}function ks(){return(ks=Ea(Ia().mark((function e(t,n){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cs(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bs(e,t){return ws.apply(this,arguments)}function ws(){return(ws=Ea(Ia().mark((function e(t,n){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cs(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xs(e,t){return _s.apply(this,arguments)}function _s(){return(_s=Ea(Ia().mark((function e(t,n){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cs(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Es(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Ss(){return Ss=Ea(Ia().mark((function e(t){var n,r,i,a,o,s,u=arguments;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=xa(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Yo((a=Ts(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Es(Is(a.auth_time)),issuedAtTime:Es(Is(a.iat)),expirationTime:Es(Is(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Ss.apply(this,arguments)}function Is(e){return 1e3*Number(e)}function Ts(e){var t=u(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return qo("JWT malformed, contained fewer than 3 sections"),null;try{var a=Ji(r);return a?JSON.parse(a):(qo("Failed to decode base64 JWT payload"),null)}catch(o){return qo("Caught error parsing JWT payload as JSON",o),null}}function Cs(e,t){return As.apply(this,arguments)}function As(){return As=Ea(Ia().mark((function e(t,n){var r=arguments;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof ca&&Ns(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),As.apply(this,arguments)}function Ns(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Rs=function(){function e(t){Vi(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return w(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Ea(Ia().mark((function t(){return Ia().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Ea(Ia().mark((function e(){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ps=function(){function e(t,n){Vi(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return w(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Es(this.lastLoginAt),this.creationTime=Es(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Ds(e){return Os.apply(this,arguments)}function Os(){return Os=Ea(Ia().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Cs(t,xs(r,{idToken:i}));case 6:Yo(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Fs(o.providerUserInfo):[],u=Ms(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ps(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Os.apply(this,arguments)}function Ls(){return(Ls=Ea(Ia().mark((function e(t){var n;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=xa(t),e.next=3,Ds(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ms(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(kt(n),kt(t))}function Fs(e){return e.map((function(e){var t=e.providerId,n=So(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Us(e,t){return Vs.apply(this,arguments)}function Vs(){return(Vs=Ea(Ia().mark((function e(t,n){var r;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fs(t,{},Ea(Ia().mark((function e(){var r,i,a,o,s,u;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ma({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=vs(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",as.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var js=function(){function e(){Vi(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return w(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Yo(e.idToken,"internal-error"),Yo("undefined"!==typeof e.idToken,"internal-error"),Yo("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Ts(e);return Yo(t,"internal-error"),Yo("undefined"!==typeof t.exp,"internal-error"),Yo("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Ea(Ia().mark((function e(t){var n,r=arguments;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Yo(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Ea(Ia().mark((function e(t,n){var r,i,a,o;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Us(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return $o("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Yo("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Yo("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Yo("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Bs(e,t){Yo("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var zs=function(){function e(t){Vi(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=So(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Rs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.metadata=new Ps(a.createdAt||void 0,a.lastLoginAt||void 0)}return w(e,[{key:"getIdToken",value:function(){var e=Ea(Ia().mark((function e(t){var n;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cs(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Yo(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Ss.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Ls.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Yo(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Yo(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Ea(Ia().mark((function e(t){var n,r,i=arguments;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Ds(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Ea(Ia().mark((function e(){var t;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Cs(this,gs(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;Yo(k&&_,t,"internal-error");var E=js.fromJSON(this.name,_);Yo("string"===typeof k,t,"internal-error"),Bs(f,t.name),Bs(h,t.name),Yo("boolean"===typeof b,t,"internal-error"),Yo("boolean"===typeof w,t,"internal-error"),Bs(d,t.name),Bs(p,t.name),Bs(v,t.name),Bs(m,t.name),Bs(y,t.name),Bs(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=Ea(Ia().mark((function t(n,r){var i,a,o,s=arguments;return Ia().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new js).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Ds(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),qs=function(){function e(){Vi(this,e),this.type="NONE",this.storage={}}return w(e,[{key:"_isAvailable",value:function(){var e=Ea(Ia().mark((function e(){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ea(Ia().mark((function e(t,n){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ea(Ia().mark((function e(t){var n;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ea(Ia().mark((function e(t){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();qs.type="NONE";var Ws=qs;function Hs(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Ks=function(){function e(t,n,r){Vi(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Hs(this.userKey,a.apiKey,o),this.fullPersistenceKey=Hs("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return w(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Ea(Ia().mark((function e(){var t;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?zs._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Ea(Ia().mark((function e(t){var n;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Ea(Ia().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return Ia().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Zo(Ws),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Ea(Ia().mark((function e(t){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Zo(Ws),s=Hs(i,n.config.apiKey,n.name),u=null,c=ji(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=zs._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Ea(Ia().mark((function e(t){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Gs(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Js(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Qs(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Zs(t))return"Blackberry";if(eu(t))return"Webos";if(Ys(t))return"Safari";if((t.includes("chrome/")||$s(t))&&!t.includes("edge/"))return"Chrome";if(Xs(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Qs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:na();return/firefox\//i.test(e)}function Ys(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:na(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function $s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:na();return/crios\//i.test(e)}function Js(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:na();return/iemobile/i.test(e)}function Xs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:na();return/android/i.test(e)}function Zs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:na();return/blackberry/i.test(e)}function eu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:na();return/webos/i.test(e)}function tu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:na();return/iphone|ipad|ipod/i.test(e)}function nu(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:na();return tu(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function ru(){return sa()&&10===document.documentMode}function iu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:na();return tu(e)||Xs(e)||eu(e)||Zs(e)||/windows phone/i.test(e)||Js(e)}function au(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Gs(na());break;case"Worker":t="".concat(Gs(na()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(oo,"/").concat(r)}var ou=function(){function e(t,n){Vi(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uu(this),this.idTokenSubscription=new uu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Bo,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return w(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Zo(t)),this._initializationPromise=this.queue(Ea(Ia().mark((function r(){var i,a;return Ia().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Ks.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Ea(Ia().mark((function e(){var t;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Ea(Ia().mark((function e(t){var n,r,i,a,o;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return Yo(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Ea(Ia().mark((function e(t){var n;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Ea(Ia().mark((function e(t){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ds(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Ea(Ia().mark((function e(){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Ea(Ia().mark((function e(t){var n;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?xa(t):null)&&Yo(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Ea(Ia().mark((function e(t){var n=this;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&Yo(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(Ea(Ia().mark((function e(){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Ea(Ia().mark((function e(){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Ea(Ia().mark((function n(){return Ia().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Zo(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new la("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Ea(Ia().mark((function e(t,n){var r;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Ea(Ia().mark((function e(t){var n;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Yo(n=t&&Zo(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Ks.create(this,[Zo(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Ea(Ia().mark((function e(t){var n,r;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Ea(Ia().mark((function e(){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Ea(Ia().mark((function e(t){var n=this;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Ea(Ia().mark((function e(){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Yo(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Ea(Ia().mark((function e(t){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Yo(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=au(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Ea(Ia().mark((function e(){var t;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Bn({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function su(e){return xa(e)}var uu=function(){function e(t){var n=this;Vi(this,e),this.auth=t,this.observer=null,this.addObserver=ka((function(e){return n.observer=e}))}return w(e,[{key:"next",get:function(){return Yo(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function cu(e,t,n){var r=su(e);Yo(r._canInitEmulator,r,"emulator-config-failed"),Yo(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=lu(t),o=function(e){var t=lu(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:fu(r.substr(a.length+1))}}var o=u(r.split(":"),2);return{host:o[0],port:fu(o[1])}}(t),s=o.host,c=o.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(a,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function lu(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function fu(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var hu=function(){function e(t,n){Vi(this,e),this.providerId=t,this.signInMethod=n}return w(e,[{key:"toJSON",value:function(){return $o("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return $o("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return $o("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return $o("not implemented")}}]),e}();function du(e,t){return pu.apply(this,arguments)}function pu(){return(pu=Ea(Ia().mark((function e(t,n){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cs(t,"POST","/v1/accounts:resetPassword",us(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vu(e,t){return mu.apply(this,arguments)}function mu(){return(mu=Ea(Ia().mark((function e(t,n){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cs(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yu(e,t){return gu.apply(this,arguments)}function gu(){return(gu=Ea(Ia().mark((function e(t,n){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cs(t,"POST","/v1/accounts:update",us(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ku(e,t){return bu.apply(this,arguments)}function bu(){return(bu=Ea(Ia().mark((function e(t,n){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ds(t,"POST","/v1/accounts:signInWithPassword",us(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wu(e,t){return xu.apply(this,arguments)}function xu(){return(xu=Ea(Ia().mark((function e(t,n){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cs(t,"POST","/v1/accounts:sendOobCode",us(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _u(e,t){return Eu.apply(this,arguments)}function Eu(){return(Eu=Ea(Ia().mark((function e(t,n){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wu(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Su(e,t){return Iu.apply(this,arguments)}function Iu(){return(Iu=Ea(Ia().mark((function e(t,n){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wu(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tu(e,t){return Cu.apply(this,arguments)}function Cu(){return(Cu=Ea(Ia().mark((function e(t,n){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wu(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Au(e,t){return Nu.apply(this,arguments)}function Nu(){return(Nu=Ea(Ia().mark((function e(t,n){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wu(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ru(e,t){return Pu.apply(this,arguments)}function Pu(){return(Pu=Ea(Ia().mark((function e(t,n){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ds(t,"POST","/v1/accounts:signInWithEmailLink",us(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Du(e,t){return Ou.apply(this,arguments)}function Ou(){return(Ou=Ea(Ia().mark((function e(t,n){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ds(t,"POST","/v1/accounts:signInWithEmailLink",us(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Lu=function(e){Bi(n,e);var t=Hi(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Vi(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return w(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Ea(Ia().mark((function e(t){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ku(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Ru(t,{email:this._email,oobCode:this._password}));case 5:Wo(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Ea(Ia().mark((function e(t,n){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",vu(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Du(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Wo(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(hu);function Mu(e,t){return Fu.apply(this,arguments)}function Fu(){return(Fu=Ea(Ia().mark((function e(t,n){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ds(t,"POST","/v1/accounts:signInWithIdp",us(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Uu=function(e){Bi(n,e);var t=Hi(n);function n(){var e;return Vi(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return w(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Mu(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Mu(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Mu(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ma(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Wo("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=So(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(hu);function Vu(e,t){return ju.apply(this,arguments)}function ju(){return(ju=Ea(Ia().mark((function e(t,n){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cs(t,"POST","/v1/accounts:sendVerificationCode",us(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bu(){return(Bu=Ea(Ia().mark((function e(t,n){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ds(t,"POST","/v1/accounts:signInWithPhoneNumber",us(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zu(){return(zu=Ea(Ia().mark((function e(t,n){var r;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ds(t,"POST","/v1/accounts:signInWithPhoneNumber",us(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw ys(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var qu=Bn({},"USER_NOT_FOUND","user-not-found");function Wu(){return(Wu=Ea(Ia().mark((function e(t,n){var r;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",ds(t,"POST","/v1/accounts:signInWithPhoneNumber",us(t,r),qu));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Hu=function(e){Bi(n,e);var t=Hi(n);function n(e){var r;return Vi(this,n),(r=t.call(this,"phone","phone")).params=e,r}return w(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Bu.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return zu.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Wu.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(hu);var Ku=function(){function e(t){var n,r,i,a,o,s;Vi(this,e);var u=ya(ga(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Yo(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return w(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=ya(ga(e)).link,n=t?ya(ga(t)).deep_link_id:null,r=ya(ga(e)).deep_link_id;return(r?ya(ga(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch($S){return null}}}]),e}();var Gu=function(){function e(){Vi(this,e),this.providerId=e.PROVIDER_ID}return w(e,null,[{key:"credential",value:function(e,t){return Lu._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Ku.parseLink(t);return Yo(n,"argument-error"),Lu._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Gu.PROVIDER_ID="password",Gu.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Gu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Qu=function(){function e(t){Vi(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return w(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Yu=function(e){Bi(n,e);var t=Hi(n);function n(){var e;return Vi(this,n),(e=t.apply(this,arguments)).scopes=[],e}return w(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return kt(this.scopes)}}]),n}(Qu),$u=function(e){Bi(n,e);var t=Hi(n);function n(){return Vi(this,n),t.apply(this,arguments)}return w(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Yo(e.idToken||e.accessToken,"argument-error"),Uu._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Yo("providerId"in t&&"signInMethod"in t,"argument-error"),Uu._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(Yu),Ju=function(e){Bi(n,e);var t=Hi(n);function n(){return Vi(this,n),t.call(this,"facebook.com")}return w(n,null,[{key:"credential",value:function(e){return Uu._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch($S){return null}}}]),n}(Yu);Ju.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ju.PROVIDER_ID="facebook.com";var Xu=function(e){Bi(n,e);var t=Hi(n);function n(){var e;return Vi(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return w(n,null,[{key:"credential",value:function(e,t){return Uu._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch($S){return null}}}]),n}(Yu);Xu.GOOGLE_SIGN_IN_METHOD="google.com",Xu.PROVIDER_ID="google.com";var Zu=function(e){Bi(n,e);var t=Hi(n);function n(){return Vi(this,n),t.call(this,"github.com")}return w(n,null,[{key:"credential",value:function(e){return Uu._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch($S){return null}}}]),n}(Yu);Zu.GITHUB_SIGN_IN_METHOD="github.com",Zu.PROVIDER_ID="github.com";var ec=function(e){Bi(n,e);var t=Hi(n);function n(e,r){var i;return Vi(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return w(n,[{key:"_getIdTokenResponse",value:function(e){return Mu(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Mu(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Mu(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(hu),tc=function(e){Bi(n,e);var t=Hi(n);function n(e){return Vi(this,n),Yo(e.startsWith("saml."),"argument-error"),t.call(this,e)}return w(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=ec.fromJSON(e);return Yo(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return ec._create(r,n)}catch(i){return null}}}]),n}(Qu),nc=function(e){Bi(n,e);var t=Hi(n);function n(){return Vi(this,n),t.call(this,"twitter.com")}return w(n,null,[{key:"credential",value:function(e,t){return Uu._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch($S){return null}}}]),n}(Yu);function rc(e,t){return ic.apply(this,arguments)}function ic(){return(ic=Ea(Ia().mark((function e(t,n){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ds(t,"POST","/v1/accounts:signUp",us(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}nc.TWITTER_SIGN_IN_METHOD="twitter.com",nc.PROVIDER_ID="twitter.com";var ac=function(){function e(t){Vi(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return w(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Ea(Ia().mark((function t(n,r,i){var a,o,s,u,c=arguments;return Ia().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,zs._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=oc(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Ea(Ia().mark((function t(n,r,i){var a;return Ia().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=oc(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function oc(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function sc(){return sc=Ea(Ia().mark((function e(t){var n,r,i,a;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=su(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new ac({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,rc(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,ac._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),sc.apply(this,arguments)}var uc=function(e){Bi(n,e);var t=Hi(n);function n(e,r,i,a){var o,s;return Vi(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(E(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return w(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(ca);function cc(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw uc._fromErrorAndOperation(e,n,t,r);throw n}))}function lc(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function fc(e,t){return hc.apply(this,arguments)}function hc(){return hc=Ea(Ia().mark((function e(t,n){var r,i,a,o;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xa(t),e.next=3,vc(!0,r,n);case 3:return e.t0=bs,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=lc(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),hc.apply(this,arguments)}function dc(e,t){return pc.apply(this,arguments)}function pc(){return pc=Ea(Ia().mark((function e(t,n){var r,i,a=arguments;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Cs,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",ac._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),pc.apply(this,arguments)}function vc(e,t,n){return mc.apply(this,arguments)}function mc(){return(mc=Ea(Ia().mark((function e(t,n,r){var i,a;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ds(n);case 2:i=lc(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Yo(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yc(e,t){return gc.apply(this,arguments)}function gc(){return gc=Ea(Ia().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Cs(t,cc(i,a,n,t),r);case 6:return Yo((o=e.sent).idToken,i,"internal-error"),Yo(s=Ts(o.idToken),i,"internal-error"),u=s.sub,Yo(t.uid===u,i,"user-mismatch"),e.abrupt("return",ac._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Wo(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),gc.apply(this,arguments)}function kc(e,t){return bc.apply(this,arguments)}function bc(){return bc=Ea(Ia().mark((function e(t,n){var r,i,a,o,s=arguments;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,cc(t,i,n);case 4:return a=e.sent,e.next=7,ac._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),bc.apply(this,arguments)}function wc(e,t){return xc.apply(this,arguments)}function xc(){return(xc=Ea(Ia().mark((function e(t,n){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kc(su(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _c(e,t){return Ec.apply(this,arguments)}function Ec(){return(Ec=Ea(Ia().mark((function e(t,n){var r;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xa(t),e.next=3,vc(!1,r,n.providerId);case 3:return e.abrupt("return",dc(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sc(e,t){return Ic.apply(this,arguments)}function Ic(){return(Ic=Ea(Ia().mark((function e(t,n){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yc(xa(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tc(e,t){return Cc.apply(this,arguments)}function Cc(){return(Cc=Ea(Ia().mark((function e(t,n){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ds(t,"POST","/v1/accounts:signInWithCustomToken",us(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ac(){return(Ac=Ea(Ia().mark((function e(t,n){var r,i,a;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=su(t),e.next=3,Tc(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,ac._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Nc=function(){function e(t,n){Vi(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return w(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Rc._fromServerResponse(e,t):Wo(e,"internal-error")}}]),e}(),Rc=function(e){Bi(n,e);var t=Hi(n);function n(e){var r;return Vi(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return w(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Nc);function Pc(e,t,n){var r;Yo((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Yo("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Yo(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Yo(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Dc(){return(Dc=Ea(Ia().mark((function e(t,n,r){var i,a;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=xa(t),a={requestType:"PASSWORD_RESET",email:n},r&&Pc(i,a,r),e.next=5,Su(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oc(){return(Oc=Ea(Ia().mark((function e(t,n,r){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,du(xa(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lc(){return(Lc=Ea(Ia().mark((function e(t,n){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yu(xa(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mc(e,t){return Fc.apply(this,arguments)}function Fc(){return(Fc=Ea(Ia().mark((function e(t,n){var r,i,a,o;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xa(t),e.next=3,du(r,{oobCode:n});case 3:i=e.sent,Yo(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Yo(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Yo(i.mfaInfo,r,"internal-error");case 13:Yo(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Nc._fromServerResponse(su(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uc(){return(Uc=Ea(Ia().mark((function e(t,n){var r,i;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mc(xa(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vc(e,t,n){return jc.apply(this,arguments)}function jc(){return(jc=Ea(Ia().mark((function e(t,n,r){var i,a,o;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=su(t),e.next=3,rc(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,ac._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bc(){return(Bc=Ea(Ia().mark((function e(t,n,r){var i,a;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=xa(t),a={requestType:"EMAIL_SIGNIN",email:n},Yo(r.handleCodeInApp,i,"argument-error"),r&&Pc(i,a,r),e.next=6,Tu(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zc(){return(zc=Ea(Ia().mark((function e(t,n,r){var i,a;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=xa(t),Yo((a=Gu.credentialWithLink(n,r||es()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",wc(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qc(e,t){return Wc.apply(this,arguments)}function Wc(){return(Wc=Ea(Ia().mark((function e(t,n){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cs(t,"POST","/v1/accounts:createAuthUri",us(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hc(){return(Hc=Ea(Ia().mark((function e(t,n){var r,i,a,o;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ts()?es():"http://localhost",i={identifier:n,continueUri:r},e.next=4,qc(xa(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kc(){return(Kc=Ea(Ia().mark((function e(t,n){var r,i,a,o;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xa(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Pc(r.auth,a,n),e.next=8,_u(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gc(){return(Gc=Ea(Ia().mark((function e(t,n,r){var i,a,o,s;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=xa(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Pc(i.auth,o,r),e.next=8,Au(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qc(e,t){return Yc.apply(this,arguments)}function Yc(){return(Yc=Ea(Ia().mark((function e(t,n){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cs(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $c(){return($c=Ea(Ia().mark((function e(t,n){var r,i,a,o,s,u,c;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=xa(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Cs(a,Qc(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jc(e,t,n){return Xc.apply(this,arguments)}function Xc(){return(Xc=Ea(Ia().mark((function e(t,n,r){var i,a,o,s;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Cs(t,vu(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Zc=w((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Vi(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),el=function(e){Bi(n,e);var t=Hi(n);function n(e,r,i,a){var o;return Vi(this,n),(o=t.call(this,e,r,i)).username=a,o}return w(n)}(Zc),tl=function(e){Bi(n,e);var t=Hi(n);function n(e,r){return Vi(this,n),t.call(this,e,"facebook.com",r)}return w(n)}(Zc),nl=function(e){Bi(n,e);var t=Hi(n);function n(e,r){return Vi(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return w(n)}(el),rl=function(e){Bi(n,e);var t=Hi(n);function n(e,r){return Vi(this,n),t.call(this,e,"google.com",r)}return w(n)}(Zc),il=function(e){Bi(n,e);var t=Hi(n);function n(e,r,i){return Vi(this,n),t.call(this,e,"twitter.com",r,i)}return w(n)}(el);function al(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Ts(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Zc(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new tl(a,i);case"github.com":return new nl(a,i);case"google.com":return new rl(a,i);case"twitter.com":return new il(a,i,e.screenName||null);case"custom":case"anonymous":return new Zc(a,null);default:return new Zc(a,r,i)}}(n)}var ol=function(){function e(t,n){Vi(this,e),this.type=t,this.credential=n}return w(e,[{key:"toJSON",value:function(){return{multiFactorSession:Bn({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),sl=function(){function e(t,n,r){Vi(this,e),this.session=t,this.hints=n,this.signInResolver=r}return w(e,[{key:"resolveSignIn",value:function(){var e=Ea(Ia().mark((function e(t){var n;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=su(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Nc._fromServerResponse(r,e)}));Yo(i.mfaPendingCredential,r,"internal-error");var o=ol._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Ea(Ia().mark((function e(t){var a,s,u;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,ac._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return Yo(n.user,r,"internal-error"),e.abrupt("return",ac._forOperation(n.user,n.operationType,s));case 17:Wo(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function ul(e,t){return cs(e,"POST","/v2/accounts/mfaEnrollment:start",us(e,t))}var cl=function(){function e(t){var n=this;Vi(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Nc._fromServerResponse(t.auth,e)})))}))}return w(e,[{key:"getSession",value:function(){var e=Ea(Ia().mark((function e(){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ol,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Ea(Ia().mark((function e(t,n){var r,i,a;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Cs(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Ea(Ia().mark((function e(t){var n,r,i;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,Cs(this.user,cs(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",us(a,{idToken:r,mfaEnrollmentId:n})));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var a}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),ll=new WeakMap;var fl="__sak",hl=function(){function e(t,n){Vi(this,e),this.storageRetriever=t,this.type=n}return w(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(fl,"1"),this.storage.removeItem(fl),Promise.resolve(!0)):Promise.resolve(!1)}catch($S){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var dl=function(e){Bi(n,e);var t=Hi(n);function n(){var e;return Vi(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=na();return Ys(e)||tu(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=iu(),e._shouldAllowMigration=!0,e}return w(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);ru()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Ea(Ia().mark((function e(t,r){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Eo(zi(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ea(Ia().mark((function e(t){var r;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Eo(zi(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ea(Ia().mark((function e(t){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Eo(zi(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(hl);dl.type="LOCAL";var pl=dl,vl=function(e){Bi(n,e);var t=Hi(n);function n(){return Vi(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return w(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(hl);vl.type="SESSION";var ml=vl;function yl(e){return Promise.all(e.map(function(){var e=Ea(Ia().mark((function e(t){var n;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var gl=function(){function e(t){Vi(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return w(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Ea(Ia().mark((function e(t){var n,r,i,a,o,s,u,c;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=Ea(Ia().mark((function e(t){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,yl(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function kl(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}gl.receivers=[];var bl=function(){function e(t){Vi(this,e),this.target=t,this.handlers=new Set}return w(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Ea(Ia().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=kl("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function wl(){return window}function xl(){return"undefined"!==typeof wl().WorkerGlobalScope&&"function"===typeof wl().importScripts}function _l(){return El.apply(this,arguments)}function El(){return(El=Ea(Ia().mark((function e(){var t;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Sl(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Il="firebaseLocalStorageDb",Tl="firebaseLocalStorage",Cl="fbase_key",Al=function(){function e(t){Vi(this,e),this.request=t}return w(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Nl(e,t){return e.transaction([Tl],t?"readwrite":"readonly").objectStore(Tl)}function Rl(){var e=indexedDB.deleteDatabase(Il);return new Al(e).toPromise()}function Pl(){var e=indexedDB.open(Il,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Tl,{keyPath:Cl})}catch(r){n(r)}})),e.addEventListener("success",Ea(Ia().mark((function n(){var r;return Ia().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Tl)){n.next=12;break}return r.close(),n.next=5,Rl();case 5:return n.t0=t,n.next=8,Pl();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Dl(e,t,n){return Ol.apply(this,arguments)}function Ol(){return Ol=Ea(Ia().mark((function e(t,n,r){var i,a;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Nl(t,!0).put((Bn(i={},Cl,n),Bn(i,"value",r),i)),e.abrupt("return",new Al(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Ol.apply(this,arguments)}function Ll(e,t){return Ml.apply(this,arguments)}function Ml(){return Ml=Ea(Ia().mark((function e(t,n){var r,i;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nl(t,!1).get(n),e.next=3,new Al(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Ml.apply(this,arguments)}function Fl(e,t){var n=Nl(e,!0).delete(t);return new Al(n).toPromise()}var Ul=function(){function e(){Vi(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return w(e,[{key:"_openDb",value:function(){var e=Ea(Ia().mark((function e(){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Pl();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Ea(Ia().mark((function e(t){var n,r;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Ea(Ia().mark((function e(){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xl()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Ea(Ia().mark((function e(){var t=this;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=gl._getInstance(xl()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Ea(Ia().mark((function e(n,r){var i;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Ea(Ia().mark((function e(t,n){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Ea(Ia().mark((function e(){var t,n,r;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_l();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new bl(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Ea(Ia().mark((function e(t){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Sl()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Ea(Ia().mark((function e(){var t;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Pl();case 5:return t=e.sent,e.next=8,Dl(t,fl,"1");case 8:return e.next=10,Fl(t,fl);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Ea(Ia().mark((function e(t){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ea(Ia().mark((function e(t,n){var r=this;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ea(Ia().mark((function e(){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Dl(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ea(Ia().mark((function e(t){var n;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Ll(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ea(Ia().mark((function e(t){var n=this;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ea(Ia().mark((function e(){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Fl(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Ea(Ia().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Nl(e,!1).getAll();return new Al(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=ji(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Ea(Ia().mark((function t(){return Ia().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Ul.type="LOCAL";var Vl=Ul;function jl(e,t){return cs(e,"POST","/v2/accounts/mfaSignIn:start",us(e,t))}function Bl(e){return zl.apply(this,arguments)}function zl(){return(zl=Ea(Ia().mark((function e(t){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cs(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ql(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Ho("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Wl(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Hl=1e12,Kl=function(){function e(t){Vi(this,e),this.auth=t,this.counter=Hl,this._widgets=new Map}return w(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Gl(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Hl;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Hl;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Ea(Ia().mark((function e(t){var n,r;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Hl,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Gl=function(){function e(t,n,r){var i=this;Vi(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Yo(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return w(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Ql=Wl("rcb"),Yl=new rs(3e4,6e4),$l="https://www.google.com/recaptcha/api.js?",Jl=function(){function e(){Vi(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!wl().grecaptcha}return w(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Yo(Xl(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(wl().grecaptcha):new Promise((function(r,i){var a=wl().setTimeout((function(){i(Ho(e,"network-request-failed"))}),Yl.get());wl()[Ql]=function(){wl().clearTimeout(a),delete wl()[Ql];var o=wl().grecaptcha;if(o){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Ho(e,"internal-error"))},ql("".concat($l,"?").concat(ma({onload:Ql,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Ho(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!wl().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Xl(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Zl=function(){function e(){Vi(this,e)}return w(e,[{key:"load",value:function(){var e=Ea(Ia().mark((function e(t){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Kl(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),ef="recaptcha",tf={theme:"light",type:"image"},nf=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},tf),r=arguments.length>2?arguments[2]:void 0;Vi(this,e),this.parameters=n,this.type=ef,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=su(r),this.isInvisible="invisible"===this.parameters.size,Yo("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Yo(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Zl:new Jl,this.validateStartingState()}return w(e,[{key:"verify",value:function(){var e=Ea(Ia().mark((function e(){var t,n,r,i=this;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Yo(!this.parameters.sitekey,this.auth,"argument-error"),Yo(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Yo("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=wl()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Yo(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Ea(Ia().mark((function e(){var t,n;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Ea(Ia().mark((function e(){var t;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yo(ts()&&!xl(),this.auth,"internal-error"),e.next=3,rf();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Bl(this.auth);case 8:Yo(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Yo(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function rf(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var af=function(){function e(t,n){Vi(this,e),this.verificationId=t,this.onConfirmation=n}return w(e,[{key:"confirm",value:function(e){var t=Hu._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function of(){return(of=Ea(Ia().mark((function e(t,n,r){var i,a;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=su(t),e.next=3,lf(i,n,xa(r));case 3:return a=e.sent,e.abrupt("return",new af(a,(function(e){return wc(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sf(e,t,n){return uf.apply(this,arguments)}function uf(){return(uf=Ea(Ia().mark((function e(t,n,r){var i,a;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=xa(t),e.next=3,vc(!1,i,"phone");case 3:return e.next=5,lf(i.auth,n,xa(r));case 5:return a=e.sent,e.abrupt("return",new af(a,(function(e){return _c(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cf(){return(cf=Ea(Ia().mark((function e(t,n,r){var i,a;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=xa(t),e.next=3,lf(i.auth,n,xa(r));case 3:return a=e.sent,e.abrupt("return",new af(a,(function(e){return Sc(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lf(e,t,n){return ff.apply(this,arguments)}function ff(){return ff=Ea(Ia().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Yo("string"===typeof a,t,"argument-error"),Yo(r.type===ef,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Yo("enroll"===s.type,t,"internal-error"),e.next=13,ul(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Yo("signin"===s.type,t,"internal-error"),Yo(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,jl(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Vu(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),ff.apply(this,arguments)}function hf(){return(hf=Ea(Ia().mark((function e(t,n){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dc(xa(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var df=function(){function e(t){Vi(this,e),this.providerId=e.PROVIDER_ID,this.auth=su(t)}return w(e,[{key:"verifyPhoneNumber",value:function(e,t){return lf(this.auth,e,xa(t))}}],[{key:"credential",value:function(e,t){return Hu._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Hu._fromTokenResponse(n,r):null}}]),e}();function pf(e,t){return t?Zo(t):(Yo(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}df.PROVIDER_ID="phone",df.PHONE_SIGN_IN_METHOD="phone";var vf=function(e){Bi(n,e);var t=Hi(n);function n(e){var r;return Vi(this,n),(r=t.call(this,"custom","custom")).params=e,r}return w(n,[{key:"_getIdTokenResponse",value:function(e){return Mu(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Mu(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Mu(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(hu);function mf(e){return kc(e.auth,new vf(e),e.bypassAuthState)}function yf(e){var t=e.auth,n=e.user;return Yo(n,t,"internal-error"),yc(n,new vf(e),e.bypassAuthState)}function gf(e){return kf.apply(this,arguments)}function kf(){return(kf=Ea(Ia().mark((function e(t){var n,r;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Yo(r=t.user,n,"internal-error"),e.abrupt("return",dc(r,new vf(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var bf=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Vi(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return w(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Ea(Ia().mark((function t(n,r){return Ia().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Ea(Ia().mark((function e(t){var n,r,i,a,o,s,u;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mf;case"linkViaPopup":case"linkViaRedirect":return gf;case"reauthViaPopup":case"reauthViaRedirect":return yf;default:Wo(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Jo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Jo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),wf=new rs(2e3,1e4);function xf(e,t,n){return _f.apply(this,arguments)}function _f(){return(_f=Ea(Ia().mark((function e(t,n,r){var i,a,o;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=su(t),Go(t,n,Qu),a=pf(i,r),o=new Tf(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ef(){return(Ef=Ea(Ia().mark((function e(t,n,r){var i,a,o;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Go((i=xa(t)).auth,n,Qu),a=pf(i.auth,r),o=new Tf(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sf(e,t,n){return If.apply(this,arguments)}function If(){return(If=Ea(Ia().mark((function e(t,n,r){var i,a,o;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Go((i=xa(t)).auth,n,Qu),a=pf(i.auth,r),o=new Tf(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Tf=function(e){Bi(n,e);var t=Hi(n);function n(e,r,i,a,o){var s;return Vi(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=E(s),s}return w(n,[{key:"executeNotNull",value:function(){var e=Ea(Ia().mark((function e(){var t;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Yo(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ea(Ia().mark((function e(){var t,n=this;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Jo(1===this.filter.length,"Popup operations only handle one event"),t=kl(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Ho(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Ho(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Ho(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,wf.get())}()}}]),n}(bf);Tf.currentPopupAction=null;var Cf=new Map,Af=function(e){Bi(n,e);var t=Hi(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Vi(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return w(n,[{key:"execute",value:function(){var e=Ea(Ia().mark((function e(){var t,r;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Cf.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Nf(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Eo(zi(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Cf.set(this.auth._key(),t);case 21:return this.bypassAuthState||Cf.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Ea(Ia().mark((function e(t){var r;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Eo(zi(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Eo(zi(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ea(Ia().mark((function e(){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(bf);function Nf(e,t){return Rf.apply(this,arguments)}function Rf(){return Rf=Ea(Ia().mark((function e(t,n){var r,i,a;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lf(n),i=Of(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Rf.apply(this,arguments)}function Pf(e,t){return Df.apply(this,arguments)}function Df(){return(Df=Ea(Ia().mark((function e(t,n){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Of(t)._set(Lf(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Of(e){return Zo(e._redirectPersistence)}function Lf(e){return Hs("pendingRedirect",e.config.apiKey,e.name)}function Mf(e,t,n){return function(e,t,n){return Ff.apply(this,arguments)}(e,t,n)}function Ff(){return(Ff=Ea(Ia().mark((function e(t,n,r){var i,a;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=su(t),Go(t,n,Qu),a=pf(i,r),e.next=5,Pf(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uf(e,t,n){return function(e,t,n){return Vf.apply(this,arguments)}(e,t,n)}function Vf(){return(Vf=Ea(Ia().mark((function e(t,n,r){var i,a,o;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Go((i=xa(t)).auth,n,Qu),a=pf(i.auth,r),e.next=5,Pf(a,i.auth);case 5:return e.next=7,Kf(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jf(e,t,n){return function(e,t,n){return Bf.apply(this,arguments)}(e,t,n)}function Bf(){return(Bf=Ea(Ia().mark((function e(t,n,r){var i,a,o;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Go((i=xa(t)).auth,n,Qu),a=pf(i.auth,r),e.next=5,vc(!1,i,n.providerId);case 5:return e.next=7,Pf(a,i.auth);case 7:return e.next=9,Kf(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zf(e,t){return qf.apply(this,arguments)}function qf(){return(qf=Ea(Ia().mark((function e(t,n){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,su(t)._initializationPromise;case 2:return e.abrupt("return",Wf(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wf(e,t){return Hf.apply(this,arguments)}function Hf(){return Hf=Ea(Ia().mark((function e(t,n){var r,i,a,o,s,u=arguments;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=su(t),a=pf(i,n),o=new Af(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),Hf.apply(this,arguments)}function Kf(e){return Gf.apply(this,arguments)}function Gf(){return(Gf=Ea(Ia().mark((function e(t){var n;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=kl("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Qf=function(){function e(t){Vi(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return w(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $f(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!$f(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ho(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yf(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Yf(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Yf(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function $f(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Jf(e){return Xf.apply(this,arguments)}function Xf(){return Xf=Ea(Ia().mark((function e(t){var n,r=arguments;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",cs(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Xf.apply(this,arguments)}var Zf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eh=/^https?/;function th(){return(th=Ea(Ia().mark((function e(t){var n,r,i,a,o;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Jf(t);case 4:n=e.sent,r=n.authorizedDomains,i=ji(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!nh(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Wo(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function nh(e){var t=es(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!eh.test(r))return!1;if(Zf.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var rh=new rs(3e4,6e4);function ih(){var e=wl().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=kt(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var ah=null;function oh(e){return ah=ah||function(e){return new Promise((function(t,n){var r,i,a;function o(){ih(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){ih(),n(Ho(e,"network-request-failed"))},timeout:rh.get()})}if(null===(i=null===(r=wl().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=wl().gapi)||void 0===a?void 0:a.load)){var s=Wl("iframefcb");return wl()[s]=function(){gapi.load?o():n(Ho(e,"network-request-failed"))},ql("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw ah=null,e}))}(e),ah}var sh=new rs(5e3,15e3),uh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ch=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lh(e){var t=e.config;Yo(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?is(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:oo},i=ch.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(ma(r).slice(1))}function fh(e){return hh.apply(this,arguments)}function hh(){return hh=Ea(Ia().mark((function e(t){var n,r;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oh(t);case 2:return n=e.sent,Yo(r=wl().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:lh(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uh,dontclear:!0},(function(e){return new Promise(function(){var n=Ea(Ia().mark((function n(r,i){var a,o,s;return Ia().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){wl().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Ho(t,"network-request-failed"),o=wl().setTimeout((function(){i(a)}),sh.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),hh.apply(this,arguments)}var dh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ph="_blank",vh="http://localhost",mh=function(){function e(t){Vi(this,e),this.window=t,this.associatedEvent=null}return w(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function yh(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",c=Object.assign(Object.assign({},dh),{width:r.toString(),height:i.toString(),top:a,left:o}),l=na().toLowerCase();n&&(s=$s(l)?ph:n),Qs(l)&&(t=t||vh,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=u(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(nu(l)&&"_self"!==s)return gh(t||"",s),new mh(null);var h=window.open(t||"",s,f);Yo(h,e,"popup-blocked");try{h.focus()}catch(d){}return new mh(h)}function gh(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var kh="__/auth/handler",bh="emulator/auth/handler";function wh(e,t,n,r,i,a){Yo(e.config.authDomain,e,"auth-domain-config-required"),Yo(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:oo,eventId:i};if(t instanceof Qu){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,c=Object.entries(a||{});s<c.length;s++){var l=u(c[s],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof Yu){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(kh);return is(t,bh)}(e),"?").concat(ma(p).slice(1))}var xh="webStorageSupport",_h=function(){function e(){Vi(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ml,this._completeRedirectFn=Wf}return w(e,[{key:"_openPopup",value:function(){var e=Ea(Ia().mark((function e(t,n,r,i){var a,o;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Jo(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=wh(t,n,r,es(),i),e.abrupt("return",yh(t,o,kl()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ea(Ia().mark((function e(t,n,r,i){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=wh(t,n,r,es(),i),wl().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Jo(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Ea(Ia().mark((function e(t){var n,r;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fh(t);case 2:return n=e.sent,r=new Qf(t),n.register("authEvent",(function(e){return Yo(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(xh,{type:xh},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Wo(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return th.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return iu()||Ys()||tu()}}]),e}(),Eh=_h,Sh=function(e){Bi(n,e);var t=Hi(n);function n(e){var r;return Vi(this,n),(r=t.call(this,"phone")).credential=e,r}return w(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return cs(e,"POST","/v2/accounts/mfaEnrollment:finalize",us(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return cs(e,"POST","/v2/accounts/mfaSignIn:finalize",us(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){Vi(this,e),this.factorId=t}return w(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return $o("unexpected MultiFactorSessionType")}}}]),e}()),Ih=function(){function e(){Vi(this,e)}return w(e,null,[{key:"assertion",value:function(e){return Sh._fromCredential(e)}}]),e}();Ih.FACTOR_ID="phone";var Th,Ch="@firebase/auth",Ah="0.19.5",Nh=function(){function e(t){Vi(this,e),this.auth=t,this.internalListeners=new Map}return w(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Ea(Ia().mark((function e(t){var n;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Yo(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Rh(){return window}Th="Browser",Ja(new Ta("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){Yo(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),Yo(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:Th,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:au(Th)},r=new ou(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Zo);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Ja(new Ta("auth-internal",(function(e){return function(e){return new Nh(e)}(su(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),ho(Ch,Ah,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Th)),ho(Ch,Ah,"esm2017");function Ph(e,t,n){return Dh.apply(this,arguments)}function Dh(){return Dh=Ea(Ia().mark((function e(t,n,r){var i,a,o,s,u;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Rh(),o=a.BuildInfo,Jo(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Vh(n.sessionId);case 4:return s=e.sent,u={},tu()?u.ibi=o.packageName:Xs()?u.apn=o.packageName:Wo(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",wh(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),Dh.apply(this,arguments)}function Oh(){return(Oh=Ea(Ia().mark((function e(t){var n,r,i;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Rh(),r=n.BuildInfo,i={},tu()?i.iosBundleId=r.packageName:Xs()?i.androidPackageName=r.packageName:Wo(t,"operation-not-supported-in-this-environment"),e.next=5,Jf(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lh(e){var t=Rh().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:na();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Mh(e,t,n){return Fh.apply(this,arguments)}function Fh(){return Fh=Ea(Ia().mark((function e(t,n,r){var i,a,o;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Rh(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(Ho(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),Xs()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Fh.apply(this,arguments)}function Uh(e){var t,n,r,i,a,o,s,u,c,l,f=Rh();Yo("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Yo("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Yo("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Yo("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Yo("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Vh(e){return jh.apply(this,arguments)}function jh(){return(jh=Ea(Ia().mark((function e(t){var n,r,i;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Bh(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bh(e){if(Jo(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var zh=function(e){Bi(n,e);var t=Hi(n);function n(){var e;return Vi(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return w(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Eo(zi(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Ea(Ia().mark((function e(){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Qf);function qh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Qh(),postBody:null,tenantId:e.tenantId,error:Ho(e,"no-auth-event")}}function Wh(e,t){return Yh()._set($h(e),t)}function Hh(e){return Kh.apply(this,arguments)}function Kh(){return(Kh=Ea(Ia().mark((function e(t){var n;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yh()._get($h(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Yh()._remove($h(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gh(e,t){var n,r,i=function(e){var t=Jh(e),n=t.link?decodeURIComponent(t.link):void 0,r=Jh(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Jh(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Jh(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?Ho(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Qh(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Yh(){return Zo(pl)}function $h(e){return Hs("authEvent",e.config.apiKey,e.name)}function Jh(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=i(t=n)||gt(t)||o(t)||s();r[0];return ya(r.slice(1).join("?"))}var Xh=function(){function e(){Vi(this,e),this._redirectPersistence=ml,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Wf}return w(e,[{key:"_initialize",value:function(){var e=Ea(Ia().mark((function e(t){var n,r;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new zh(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Wo(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Ea(Ia().mark((function e(t,n,r,i){var a,o,s,u;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Uh(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Cf.clear(),e.next=10,this._originValidation(t);case 10:return o=qh(t,r,i),e.next=13,Wh(t,o);case 13:return e.next=15,Ph(t,o,n);case 15:return s=e.sent,e.next=18,Lh(s);case 18:return u=e.sent,e.abrupt("return",Mh(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Oh.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Rh(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Ea(Ia().mark((function n(){return Ia().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Hh(e);case 2:t.onEvent(ed());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=Ea(Ia().mark((function n(r){var i,a;return Ia().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Hh(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Gh(i,r.url)),t.onEvent(a||ed());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");Rh().handleOpenURL=function(){var e=Ea(Ia().mark((function e(t){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Zh=Xh;function ed(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ho("no-auth-event")}}function td(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function nd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:na();return!("file:"!==td()&&"ionic:"!==td()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function rd(){return sa()&&11===(null===document||void 0===document?void 0:document.documentMode)}function id(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:na();return/Edge\/\d+/.test(e)}function ad(){try{var e=self.localStorage,t=kl();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:na();return rd()||id(e)}()||ua()}catch(n){return od()&&ua()}return!1}function od(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function sd(){return("http:"===td()||"https:"===td()||aa()||nd())&&!(oa()||ia())&&ad()&&!od()}function ud(){return nd()&&"undefined"!==typeof document}function cd(){return ld.apply(this,arguments)}function ld(){return(ld=Ea(Ia().mark((function e(){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ud()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var fd={LOCAL:"local",NONE:"none",SESSION:"session"},hd=Yo,dd="persistence";function pd(e,t){hd(Object.values(fd).includes(t),e,"invalid-persistence-type"),oa()?hd(t!==fd.SESSION,e,"unsupported-persistence-type"):ia()?hd(t===fd.NONE,e,"unsupported-persistence-type"):od()?hd(t===fd.NONE||t===fd.LOCAL&&ua(),e,"unsupported-persistence-type"):hd(t===fd.NONE||ad(),e,"unsupported-persistence-type")}function vd(e){return md.apply(this,arguments)}function md(){return md=Ea(Ia().mark((function e(t){var n,r;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=yd(),r=Hs(dd,t.config.apiKey,t.name),(null===n||void 0===n?void 0:n.sessionStorage)&&n.sessionStorage.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),md.apply(this,arguments)}function yd(){return"undefined"!==typeof window?window:null}var gd=Yo,kd=function(){function e(){Vi(this,e),this.browserResolver=Zo(Eh),this.cordovaResolver=Zo(Zh),this.underlyingResolver=null,this._redirectPersistence=ml,this._completeRedirectFn=Wf}return w(e,[{key:"_initialize",value:function(){var e=Ea(Ia().mark((function e(t){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Ea(Ia().mark((function e(t,n,r,i){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ea(Ia().mark((function e(t,n,r,i){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return ud()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return gd(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Ea(Ia().mark((function e(){var t;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,cd();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function bd(e){return e.unwrap()}function wd(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new Id(e,function(e,t){var n,r=xa(e),i=t;return Yo(t.customData.operationType,r,"argument-error"),Yo(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),sl._fromError(r,i)}(e,t));else if(r){var i=xd(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function xd(e){var t=(e instanceof ca?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof ca)&&"temporaryProof"in t&&"phoneNumber"in t)return df.credentialFromResult(e);var n,r=t.providerId;if(!r||r===No)return null;switch(r){case Ao:n=Xu;break;case To:n=Ju;break;case Co:n=Zu;break;case Ro:n=nc;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?ec._create(r,s):Uu._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new $u(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof ca?n.credentialFromError(e):n.credentialFromResult(e)}function _d(e,t){return t.catch((function(t){throw t instanceof ca&&wd(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,xd(t)),additionalUserInfo:al(e),user:Td.getOrCreate(r)}}))}function Ed(e,t){return Sd.apply(this,arguments)}function Sd(){return(Sd=Ea(Ia().mark((function e(t,n){var r;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return _d(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Id=function(){function e(t,n){Vi(this,e),this.resolver=n,this.auth=t.wrapped()}return w(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return _d(bd(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Td=function(){function e(t){Vi(this,e),this._delegate=t,this.multiFactor=function(e){var t=xa(e);return ll.has(t)||ll.set(t,cl._fromUser(t)),ll.get(t)}(t)}return w(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Ea(Ia().mark((function e(t){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_d(this.auth,_c(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Ea(Ia().mark((function e(t,n){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ed(this.auth,sf(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Ea(Ia().mark((function e(t){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_d(this.auth,Sf(this._delegate,t,kd)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Ea(Ia().mark((function e(t){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vd(su(this.auth));case 2:return e.abrupt("return",jf(this._delegate,t,kd));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Ea(Ia().mark((function e(t){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_d(this.auth,Sc(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Ed(this.auth,function(e,t,n){return cf.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return _d(this.auth,function(e,t,n){return Ef.apply(this,arguments)}(this._delegate,e,kd))}},{key:"reauthenticateWithRedirect",value:function(){var e=Ea(Ia().mark((function e(t){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vd(su(this.auth));case 2:return e.abrupt("return",Uf(this._delegate,t,kd));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Kc.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Ea(Ia().mark((function e(t){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fc(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Jc(xa(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Jc(xa(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return hf.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return $c.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Gc.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Td.USER_MAP=new WeakMap;var Cd=Yo,Ad=function(){function e(t,n){if(Vi(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Cd(r,"invalid-api-key",{appName:t.name}),Cd(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?kd:void 0;this._delegate=n.initialize({options:{persistence:Rd(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Vo),this.linkUnderlyingAuth()}return w(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Td.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){cu(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Lc.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Mc(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Oc.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Ea(Ia().mark((function e(t,n){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_d(this._delegate,Vc(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Hc.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Ku.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Ea(Ia().mark((function e(){var t;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cd(sd(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,zf(this._delegate,kd);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",_d(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){su(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Nd(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Nd(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Bc.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Dc.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Ea(Ia().mark((function e(t){var n,r;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:pd(this._delegate,t),e.t0=t,e.next=e.t0===fd.SESSION?4:e.t0===fd.LOCAL?6:e.t0===fd.NONE?11:13;break;case 4:return n=ml,e.abrupt("break",14);case 6:return e.next=8,Zo(Vl)._isAvailable();case 8:return r=e.sent,n=r?Vl:pl,e.abrupt("break",14);case 11:return n=Ws,e.abrupt("break",14);case 13:return e.abrupt("return",Wo("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return _d(this._delegate,function(e){return sc.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return _d(this._delegate,wc(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return _d(this._delegate,function(e,t){return Ac.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return _d(this._delegate,function(e,t,n){return wc(xa(e),Gu.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return _d(this._delegate,function(e,t,n){return zc.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Ed(this._delegate,function(e,t,n){return of.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Ea(Ia().mark((function e(t){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cd(sd(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",_d(this._delegate,xf(this._delegate,t,kd)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Ea(Ia().mark((function e(t){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cd(sd(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,vd(this._delegate);case 3:return e.abrupt("return",Mf(this._delegate,t,kd));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Uc.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Nd(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Td.getOrCreate(e))},error:t,complete:n}}function Rd(e,t){var n=function(e,t){var n=yd();if(!(null===n||void 0===n?void 0:n.sessionStorage))return[];var r=Hs(dd,e,t);switch(n.sessionStorage.getItem(r)){case fd.NONE:return[Ws];case fd.LOCAL:return[Vl,ml];case fd.SESSION:return[ml];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Vl)||n.push(Vl),"undefined"!==typeof window)for(var r=0,i=[pl,ml];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Ws)||n.push(Ws),n}Ad.Persistence=fd;var Pd=function(){function e(){Vi(this,e),this.providerId="phone",this._delegate=new df(bd(xo.auth()))}return w(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return df.credential(e,t)}}]),e}();Pd.PHONE_SIGN_IN_METHOD=df.PHONE_SIGN_IN_METHOD,Pd.PROVIDER_ID=df.PROVIDER_ID;var Dd,Od=Yo,Ld=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xo.app();Vi(this,e),Od(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new nf(t,n,i.auth()),this.type=this._delegate.type}return w(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Dd=xo).INTERNAL.registerComponent(new Ta("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Ad(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Po,PASSWORD_RESET:Do,RECOVER_EMAIL:Oo,REVERT_SECOND_FACTOR_ADDITION:Lo,VERIFY_AND_CHANGE_EMAIL:Mo,VERIFY_EMAIL:Fo}},EmailAuthProvider:Gu,FacebookAuthProvider:Ju,GithubAuthProvider:Zu,GoogleAuthProvider:Xu,OAuthProvider:$u,SAMLAuthProvider:tc,PhoneAuthProvider:Pd,PhoneMultiFactorGenerator:Ih,RecaptchaVerifier:Ld,TwitterAuthProvider:nc,Auth:Ad,AuthCredential:hu,Error:ca}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Dd.registerVersion("@firebase/auth-compat","0.2.5");var Md,Fd="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Ud={},Vd=Vd||{},jd=Fd||self;function Bd(){}function zd(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function qd(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Wd="closure_uid_"+(1e9*Math.random()>>>0),Hd=0;function Kd(e,t,n){return e.call.apply(e.bind,arguments)}function Gd(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Qd(e,t,n){return(Qd=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Kd:Gd).apply(null,arguments)}function Yd(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function $d(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Jd(){this.s=this.s,this.o=this.o}var Xd={};Jd.prototype.s=!1,Jd.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Wd)&&e[Wd]||(e[Wd]=++Hd)}(this);delete Xd[e]}},Jd.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Zd=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},ep=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function tp(e){return Array.prototype.concat.apply([],arguments)}function np(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function rp(e){return/^[\s\xa0]*$/.test(e)}var ip,ap=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function op(e,t){return-1!=e.indexOf(t)}function sp(e,t){return e<t?-1:e>t?1:0}e:{var up=jd.navigator;if(up){var cp=up.userAgent;if(cp){ip=cp;break e}}ip=""}function lp(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function fp(e){var t={};for(var n in e)t[n]=e[n];return t}var hp="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dp(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<hp.length;a++)n=hp[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function pp(e){return pp[" "](e),e}pp[" "]=Bd;var vp,mp=op(ip,"Opera"),yp=op(ip,"Trident")||op(ip,"MSIE"),gp=op(ip,"Edge"),kp=gp||yp,bp=op(ip,"Gecko")&&!(op(ip.toLowerCase(),"webkit")&&!op(ip,"Edge"))&&!(op(ip,"Trident")||op(ip,"MSIE"))&&!op(ip,"Edge"),wp=op(ip.toLowerCase(),"webkit")&&!op(ip,"Edge");function xp(){var e=jd.document;return e?e.documentMode:void 0}e:{var _p="",Ep=function(){var e=ip;return bp?/rv:([^\);]+)(\)|;)/.exec(e):gp?/Edge\/([\d\.]+)/.exec(e):yp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):wp?/WebKit\/(\S+)/.exec(e):mp?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Ep&&(_p=Ep?Ep[1]:""),yp){var Sp=xp();if(null!=Sp&&Sp>parseFloat(_p)){vp=String(Sp);break e}}vp=_p}var Ip,Tp={};function Cp(){return function(e){var t=Tp;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=ap(String(vp)).split("."),n=ap("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=sp(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||sp(0==a[2].length,0==o[2].length)||sp(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(jd.document&&yp){var Ap=xp();Ip=Ap||(parseInt(vp,10)||void 0)}else Ip=void 0;var Np=Ip,Rp=function(){if(!jd.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{jd.addEventListener("test",Bd,t),jd.removeEventListener("test",Bd,t)}catch(n){}return e}();function Pp(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Dp(e,t){if(Pp.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(bp){e:{try{pp(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Op[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Dp.Z.h.call(this)}}Pp.prototype.h=function(){this.defaultPrevented=!0},$d(Dp,Pp);var Op={2:"touch",3:"pen",4:"mouse"};Dp.prototype.h=function(){Dp.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Lp="closure_listenable_"+(1e6*Math.random()|0),Mp=0;function Fp(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Mp,this.ca=this.fa=!1}function Up(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Vp(e){this.src=e,this.g={},this.h=0}function jp(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Zd(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Up(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Bp(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Vp.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Bp(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Fp(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var zp="closure_lm_"+(1e6*Math.random()|0),qp={};function Wp(e,t,n,r,i){if(r&&r.once)return Kp(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Wp(e,t[a],n,r,i);return null}return n=Zp(n),e&&e[Lp]?e.N(t,n,qd(r)?!!r.capture:!!r,i):Hp(e,t,n,!1,r,i)}function Hp(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=qd(i)?!!i.capture:!!i,s=Jp(e);if(s||(e[zp]=s=new Vp(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=$p;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Rp||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Yp(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Kp(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Kp(e,t[a],n,r,i);return null}return n=Zp(n),e&&e[Lp]?e.O(t,n,qd(r)?!!r.capture:!!r,i):Hp(e,t,n,!0,r,i)}function Gp(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Gp(e,t[a],n,r,i);else r=qd(r)?!!r.capture:!!r,n=Zp(n),e&&e[Lp]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Bp(a=e.g[t],n,r,i))&&(Up(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Jp(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Bp(t,n,r,i)),(n=-1<e?t[e]:null)&&Qp(n))}function Qp(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Lp])jp(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Yp(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Jp(t))?(jp(n,e),0==n.h&&(n.src=null,t[zp]=null)):Up(e)}}}function Yp(e){return e in qp?qp[e]:qp[e]="on"+e}function $p(e,t){if(e.ca)e=!0;else{t=new Dp(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Qp(e),e=n.call(r,t)}return e}function Jp(e){return(e=e[zp])instanceof Vp?e:null}var Xp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zp(e){return"function"===typeof e?e:(e[Xp]||(e[Xp]=function(t){return e.handleEvent(t)}),e[Xp])}function ev(){Jd.call(this),this.i=new Vp(this),this.P=this,this.I=null}function tv(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Pp(t,e);else if(t instanceof Pp)t.target=t.target||e;else{var i=t;dp(t=new Pp(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=nv(o,r,!0,t)&&i}if(i=nv(o=t.g=e,r,!0,t)&&i,i=nv(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=nv(o=t.g=n[a],r,!1,t)&&i}function nv(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&jp(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}$d(ev,Jd),ev.prototype[Lp]=!0,ev.prototype.removeEventListener=function(e,t,n,r){Gp(this,e,t,n,r)},ev.prototype.M=function(){if(ev.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Up(n[r]);delete t.g[e],t.h--}}this.I=null},ev.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ev.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var rv=jd.JSON.stringify;function iv(){var e=hv,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var av,ov=function(){function e(){Vi(this,e),this.h=this.g=null}return w(e,[{key:"add",value:function(e,t){var n=sv.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),sv=new(function(){function e(t,n){Vi(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return w(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new uv}),(function(e){return e.reset()})),uv=function(){function e(){Vi(this,e),this.next=this.g=this.h=null}return w(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function cv(e){jd.setTimeout((function(){throw e}),0)}function lv(e,t){av||function(){var e=jd.Promise.resolve(void 0);av=function(){e.then(dv)}}(),fv||(av(),fv=!0),hv.add(e,t)}var fv=!1,hv=new ov;function dv(){for(var e;e=iv();){try{e.h.call(e.g)}catch(n){cv(n)}var t=sv;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}fv=!1}function pv(e,t){ev.call(this),this.h=e||1,this.g=t||jd,this.j=Qd(this.kb,this),this.l=Date.now()}function vv(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function mv(e,t,n){if("function"===typeof e)n&&(e=Qd(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Qd(e.handleEvent,e)}return 2147483647<Number(t)?-1:jd.setTimeout(e,t||0)}function yv(e){e.g=mv((function(){e.g=null,e.i&&(e.i=!1,yv(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}$d(pv,ev),(Md=pv.prototype).da=!1,Md.S=null,Md.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),tv(this,"tick"),this.da&&(vv(this),this.start()))}},Md.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Md.M=function(){pv.Z.M.call(this),vv(this),delete this.g};var gv=function(e){Bi(n,e);var t=Hi(n);function n(e,r){var i;return Vi(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return w(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:yv(this)}},{key:"M",value:function(){Eo(zi(n.prototype),"M",this).call(this),this.g&&(jd.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Jd);function kv(e){Jd.call(this),this.h=e,this.g={}}$d(kv,Jd);var bv=[];function wv(e,t,n,r){Array.isArray(n)||(n&&(bv[0]=n.toString()),n=bv);for(var i=0;i<n.length;i++){var a=Wp(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function xv(e){lp(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Qp(e)}),e),e.g={}}function _v(){this.g=!0}function Ev(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return rv(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}kv.prototype.M=function(){kv.Z.M.call(this),xv(this)},kv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},_v.prototype.Aa=function(){this.g=!1},_v.prototype.info=function(){};var Sv={},Iv=null;function Tv(){return Iv=Iv||new ev}function Cv(e){Pp.call(this,Sv.Ma,e)}function Av(e){var t=Tv();tv(t,new Cv(t,e))}function Nv(e,t){Pp.call(this,Sv.STAT_EVENT,e),this.stat=t}function Rv(e){var t=Tv();tv(t,new Nv(t,e))}function Pv(e,t){Pp.call(this,Sv.Na,e),this.size=t}function Dv(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return jd.setTimeout((function(){e()}),t)}Sv.Ma="serverreachability",$d(Cv,Pp),Sv.STAT_EVENT="statevent",$d(Nv,Pp),Sv.Na="timingevent",$d(Pv,Pp);var Ov={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Lv={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Mv(){}function Fv(e){return e.h||(e.h=e.i())}function Uv(){}Mv.prototype.h=null;var Vv,jv={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Bv(){Pp.call(this,"d")}function zv(){Pp.call(this,"c")}function qv(){}function Wv(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new kv(this),this.P=Kv,e=kp?125:void 0,this.W=new pv(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Hv}function Hv(){this.i=null,this.g="",this.h=!1}$d(Bv,Pp),$d(zv,Pp),$d(qv,Mv),qv.prototype.g=function(){return new XMLHttpRequest},qv.prototype.i=function(){return{}},Vv=new qv;var Kv=45e3,Gv={},Qv={};function Yv(e,t,n){e.K=1,e.v=gm(hm(t)),e.s=n,e.U=!0,$v(e,null)}function $v(e,t){e.F=Date.now(),em(e),e.A=hm(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Rm(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Hv,e.g=Dy(e.l,n?t:null,!e.s),0<e.O&&(e.L=new gv(Qd(e.Ia,e,e.g),e.O)),wv(e.V,e.g,"readystatechange",e.gb),t=e.H?fp(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Av(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Jv(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Xv(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Zv(e,n))==Qv){4==t&&(e.o=4,Rv(14),i=!1),Ev(e.j,e.m,null,"[Incomplete Response]");break}if(r==Gv){e.o=4,Rv(15),Ev(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ev(e.j,e.m,r,null),am(e,r)}Jv(e)&&r!=Qv&&r!=Gv&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Rv(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Sy(t),t.L=!0,Rv(11))):(Ev(e.j,e.m,n,"[Invalid Chunked Response]"),im(e),rm(e))}function Zv(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Qv:(n=Number(t.substring(n,r)),isNaN(n)?Gv:(r+=1)+n>t.length?Qv:(t=t.substr(r,n),e.C=r+n,t))}function em(e){e.Y=Date.now()+e.P,tm(e,e.P)}function tm(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Dv(Qd(e.eb,e),t)}function nm(e){e.B&&(jd.clearTimeout(e.B),e.B=null)}function rm(e){0==e.l.G||e.I||Cy(e.l,e)}function im(e){nm(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,vv(e.W),xv(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function am(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Vm(n.i,e)))if(n.I=e.N,!e.J&&Vm(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Ty(n),my(n)}Ey(n),Rv(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Dv(Qd(n.ab,n),6e3));if(1>=Um(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Ny(n,11)}else if((e.J||n.g==e)&&Ty(n),!rp(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(op(l,"spdy")||op(l,"quic")||op(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(jm(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,ym(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Py(r,r.H?r.la:null,r.W),d.J){Bm(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(nm(p),em(p)),r.g=d}else _y(r);0<n.l.length&&ky(n)}else"stop"!=a[0]&&"close"!=a[0]||Ny(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Ny(n,7):vy(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Av(4)}catch(a){}}function om(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(zd(e)||"string"===typeof e)ep(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(zd(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(zd(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function sm(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof sm)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function um(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];cm(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)cm(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function cm(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Md=Wv.prototype).setTimeout=function(e){this.P=e},Md.gb=function(e){e=e.target;var t=this.L;t&&3==ly(e)?t.l():this.Ia(e)},Md.Ia=function(e){try{if(e==this.g)e:{var t=ly(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||kp||this.g&&(this.h.h||this.g.ga()||fy(this.g)))){this.I||4!=t||7==n||Av(8==n||0>=r?3:2),nm(this);var i=this.g.ba();this.N=i;t:if(Jv(this)){var a=fy(this.g);e="";var o=a.length,s=4==ly(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){im(this),rm(this);var u="";break t}this.h.i=new jd.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rp(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Rv(12),im(this),rm(this);break e}Ev(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,am(this,i)}this.U?(Xv(this,t,u),kp&&this.i&&3==t&&(wv(this.V,this.W,"tick",this.fb),this.W.start())):(Ev(this.j,this.m,u,null),am(this,u)),4==t&&im(this),this.i&&!this.I&&(4==t?Cy(this.l,this):(this.i=!1,em(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Rv(12)):(this.o=0,Rv(13)),im(this),rm(this)}}}catch(t){}},Md.fb=function(){if(this.g){var e=ly(this.g),t=this.g.ga();this.C<t.length&&(nm(this),Xv(this,e,t),this.i&&4!=e&&em(this))}},Md.cancel=function(){this.I=!0,im(this)},Md.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Av(3),Rv(17)),im(this),this.o=2,rm(this)):tm(this,this.Y-e)},(Md=sm.prototype).R=function(){um(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Md.T=function(){return um(this),this.g.concat()},Md.get=function(e,t){return cm(this.h,e)?this.h[e]:t},Md.set=function(e,t){cm(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Md.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var lm=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function fm(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof fm){this.g=void 0!==t?t:e.g,dm(this,e.j),this.s=e.s,pm(this,e.i),vm(this,e.m),this.l=e.l,t=e.h;var n=new Tm;n.i=t.i,t.g&&(n.g=new sm(t.g),n.h=t.h),mm(this,n),this.o=e.o}else e&&(n=String(e).match(lm))?(this.g=!!t,dm(this,n[1]||"",!0),this.s=km(n[2]||""),pm(this,n[3]||"",!0),vm(this,n[4]),this.l=km(n[5]||"",!0),mm(this,n[6]||"",!0),this.o=km(n[7]||"")):(this.g=!!t,this.h=new Tm(null,this.g))}function hm(e){return new fm(e)}function dm(e,t,n){e.j=n?km(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function pm(e,t,n){e.i=n?km(t,!0):t}function vm(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function mm(e,t,n){t instanceof Tm?(e.h=t,function(e,t){t&&!e.j&&(Cm(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Am(this,t),Rm(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=bm(t,Sm)),e.h=new Tm(t,e.g))}function ym(e,t,n){e.h.set(t,n)}function gm(e){return ym(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function km(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function bm(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,wm),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function wm(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}fm.prototype.toString=function(){var e=[],t=this.j;t&&e.push(bm(t,xm,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(bm(t,xm,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(bm(n,"/"==n.charAt(0)?Em:_m,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",bm(n,Im)),e.join("")};var xm=/[#\/\?@]/g,_m=/[#\?:]/g,Em=/[#\?]/g,Sm=/[#\?@]/g,Im=/#/g;function Tm(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Cm(e){e.g||(e.g=new sm,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Am(e,t){Cm(e),t=Pm(e,t),cm(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,cm((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&um(e)))}function Nm(e,t){return Cm(e),t=Pm(e,t),cm(e.g.h,t)}function Rm(e,t,n){Am(e,t),0<n.length&&(e.i=null,e.g.set(Pm(e,t),np(n)),e.h+=n.length)}function Pm(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Md=Tm.prototype).add=function(e,t){Cm(this),this.i=null,e=Pm(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Md.forEach=function(e,t){Cm(this),this.g.forEach((function(n,r){ep(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Md.T=function(){Cm(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Md.R=function(e){Cm(this);var t=[];if("string"===typeof e)Nm(this,e)&&(t=tp(t,this.g.get(Pm(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=tp(t,e[n])}return t},Md.set=function(e,t){return Cm(this),this.i=null,Nm(this,e=Pm(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Md.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Md.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Dm=w((function e(t,n){Vi(this,e),this.h=t,this.g=n}));function Om(e){this.l=e||Mm,jd.PerformanceNavigationTiming?e=0<(e=jd.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(jd.g&&jd.g.Ea&&jd.g.Ea()&&jd.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Lm,Mm=10;function Fm(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Um(e){return e.h?1:e.g?e.g.size:0}function Vm(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function jm(e,t){e.g?e.g.add(t):e.h=t}function Bm(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function zm(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=ji(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return np(e.i)}function qm(){}function Wm(){this.g=new qm}function Hm(e,t,n){var r=n||"";try{om(e,(function(e,n){var i=e;qd(e)&&(i=rv(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Km(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Gm(e){this.l=e.$b||null,this.j=e.ib||!1}function Qm(e,t){ev.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Ym,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Om.prototype.cancel=function(){if(this.i=zm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=ji(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},qm.prototype.stringify=function(e){return jd.JSON.stringify(e,void 0)},qm.prototype.parse=function(e){return jd.JSON.parse(e,void 0)},$d(Gm,Mv),Gm.prototype.g=function(){return new Qm(this.l,this.j)},Gm.prototype.i=(Lm={},function(){return Lm}),$d(Qm,ev);var Ym=0;function $m(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Jm(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Xm(e)}function Xm(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Md=Qm.prototype).open=function(e,t){if(this.readyState!=Ym)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Xm(this)},Md.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||jd).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Md.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Jm(this)),this.readyState=Ym},Md.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Xm(this)),this.g&&(this.readyState=3,Xm(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof jd.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$m(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Md.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Jm(this):Xm(this),3==this.readyState&&$m(this)}},Md.Ua=function(e){this.g&&(this.response=this.responseText=e,Jm(this))},Md.Ta=function(e){this.g&&(this.response=e,Jm(this))},Md.ha=function(){this.g&&Jm(this)},Md.setRequestHeader=function(e,t){this.v.append(e,t)},Md.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Md.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Qm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Zm=jd.JSON.parse;function ey(e){ev.call(this),this.headers=new sm,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ty,this.K=this.L=!1}$d(ey,ev);var ty="",ny=/^https?$/i,ry=["POST","PUT"];function iy(e){return"content-type"==e.toLowerCase()}function ay(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,oy(e),uy(e)}function oy(e){e.D||(e.D=!0,tv(e,"complete"),tv(e,"error"))}function sy(e){if(e.h&&"undefined"!=typeof Vd&&(!e.C[1]||4!=ly(e)||2!=e.ba()))if(e.v&&4==ly(e))mv(e.Fa,0,e);else if(tv(e,"readystatechange"),4==ly(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(lm)[1]||null;if(!a&&jd.self&&jd.self.location){var o=jd.self.location.protocol;a=o.substr(0,o.length-1)}i=!ny.test(a?a.toLowerCase():"")}t=i}if(t)tv(e,"complete"),tv(e,"success");else{e.m=6;try{var s=2<ly(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",oy(e)}}finally{uy(e)}}}function uy(e,t){if(e.g){cy(e);var n=e.g,r=e.C[0]?Bd:null;e.g=null,e.C=null,t||tv(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function cy(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(jd.clearTimeout(e.A),e.A=null)}function ly(e){return e.g?e.g.readyState:0}function fy(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case ty:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function hy(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return lp(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ym(e,t,n))}function dy(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function py(e){this.za=0,this.l=[],this.h=new _v,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=dy("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=dy("baseRetryDelayMs",5e3,e),this.$a=dy("retryDelaySeedMs",1e4,e),this.Ya=dy("forwardChannelMaxRetries",2,e),this.ra=dy("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Om(e&&e.concurrentRequestLimit),this.Ca=new Wm,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function vy(e){if(yy(e),3==e.G){var t=e.V++,n=hm(e.F);ym(n,"SID",e.J),ym(n,"RID",t),ym(n,"TYPE","terminate"),wy(e,n),(t=new Wv(e,e.h,t,void 0)).K=2,t.v=gm(hm(n)),n=!1,jd.navigator&&jd.navigator.sendBeacon&&(n=jd.navigator.sendBeacon(t.v.toString(),"")),!n&&jd.Image&&((new Image).src=t.v,n=!0),n||(t.g=Dy(t.l,null),t.g.ea(t.v)),t.F=Date.now(),em(t)}Ry(e)}function my(e){e.g&&(Sy(e),e.g.cancel(),e.g=null)}function yy(e){my(e),e.u&&(jd.clearTimeout(e.u),e.u=null),Ty(e),e.i.cancel(),e.m&&("number"===typeof e.m&&jd.clearTimeout(e.m),e.m=null)}function gy(e,t){e.l.push(new Dm(e.Za++,t)),3==e.G&&ky(e)}function ky(e){Fm(e.i)||e.m||(e.m=!0,lv(e.Ha,e),e.C=0)}function by(e,t){var n;n=t?t.m:e.V++;var r=hm(e.F);ym(r,"SID",e.J),ym(r,"RID",n),ym(r,"AID",e.U),wy(e,r),e.o&&e.s&&hy(r,e.o,e.s),n=new Wv(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=xy(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),jm(e.i,n),Yv(n,r,t)}function wy(e,t){e.j&&om({},(function(e,n){ym(t,n,e)}))}function xy(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Qd(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{Hm(l,o,"req"+c+"_")}catch(lg){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function _y(e){e.g||e.u||(e.Y=1,lv(e.Ga,e),e.A=0)}function Ey(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Dv(Qd(e.Ga,e),Ay(e,e.A)),e.A++,!0)}function Sy(e){null!=e.B&&(jd.clearTimeout(e.B),e.B=null)}function Iy(e){e.g=new Wv(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=hm(e.oa);ym(t,"RID","rpc"),ym(t,"SID",e.J),ym(t,"CI",e.N?"0":"1"),ym(t,"AID",e.U),wy(e,t),ym(t,"TYPE","xmlhttp"),e.o&&e.s&&hy(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=gm(hm(t)),n.s=null,n.U=!0,$v(n,e)}function Ty(e){null!=e.v&&(jd.clearTimeout(e.v),e.v=null)}function Cy(e,t){var n=null;if(e.g==t){Ty(e),Sy(e),e.g=null;var r=2}else{if(!Vm(e.i,t))return;n=t.D,Bm(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;tv(r=Tv(),new Pv(r,n,t,i)),ky(e)}else _y(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Um(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Dv(Qd(e.Ha,e,t),Ay(e,e.C)),e.C++,!0))}(e,t)||2==r&&Ey(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Ny(e,5);break;case 4:Ny(e,10);break;case 3:Ny(e,6);break;default:Ny(e,2)}}function Ay(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Ny(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Qd(e.jb,e);n||(n=new fm("//www.google.com/images/cleardot.gif"),jd.location&&"http"==jd.location.protocol||dm(n,"https"),gm(n)),function(e,t){var n=new _v;if(jd.Image){var r=new Image;r.onload=Yd(Km,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Yd(Km,n,r,"TestLoadImage: error",!1,t),r.onabort=Yd(Km,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Yd(Km,n,r,"TestLoadImage: timeout",!1,t),jd.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Rv(2);e.G=0,e.j&&e.j.va(t),Ry(e),yy(e)}function Ry(e){e.G=0,e.I=-1,e.j&&(0==zm(e.i).length&&0==e.l.length||(e.i.i.length=0,np(e.l),e.l.length=0),e.j.ua())}function Py(e,t,n){var r=function(e){return e instanceof fm?hm(e):new fm(e,void 0)}(n);if(""!=r.i)t&&pm(r,t+"."+r.i),vm(r,r.m);else{var i=jd.location;r=function(e,t,n,r){var i=new fm(null,void 0);return e&&dm(i,e),t&&pm(i,t),n&&vm(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&lp(e.aa,(function(e,t){ym(r,t,e)})),t=e.D,n=e.sa,t&&n&&ym(r,t,n),ym(r,"VER",e.ma),wy(e,r),r}function Dy(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new ey(new Gm({ib:!0})):new ey(e.qa)).L=e.H,t}function Oy(){}function Ly(){if(yp&&!(10<=Number(Np)))throw Error("Environmental error: no available transport.")}function My(e,t){ev.call(this),this.g=new py(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!rp(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!rp(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Vy(this)}function Fy(e){Bv.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Uy(){zv.call(this),this.status=1}function Vy(e){this.g=e}(Md=ey.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Vv.g(),this.C=this.u?Fv(this.u):Fv(Vv),this.g.onreadystatechange=Qd(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void ay(this,a)}e=n||"";var i=new sm(this.headers);r&&om(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=iy,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=jd.FormData&&e instanceof jd.FormData,!(0<=Zd(ry,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{cy(this),0<this.B&&((this.K=function(e){return yp&&Cp()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qd(this.pa,this)):this.A=mv(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){ay(this,a)}},Md.pa=function(){"undefined"!=typeof Vd&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,tv(this,"timeout"),this.abort(8))},Md.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,tv(this,"complete"),tv(this,"abort"),uy(this))},Md.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),uy(this,!0)),ey.Z.M.call(this)},Md.Fa=function(){this.s||(this.F||this.v||this.l?sy(this):this.cb())},Md.cb=function(){sy(this)},Md.ba=function(){try{return 2<ly(this)?this.g.status:-1}catch(Lm){return-1}},Md.ga=function(){try{return this.g?this.g.responseText:""}catch(Lm){return""}},Md.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Zm(t)}},Md.Da=function(){return this.m},Md.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Md=py.prototype).ma=8,Md.G=1,Md.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Md.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Wv(this,this.h,e,void 0),n=this.s;if(this.P&&(n?dp(n=fp(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=xy(this,t,r),ym(i=hm(this.F),"RID",e),ym(i,"CVER",22),this.D&&ym(i,"X-HTTP-Session-Id",this.D),wy(this,i),this.o&&n&&hy(i,this.o,n),jm(this.i,t),this.Ra&&ym(i,"TYPE","init"),this.ja?(ym(i,"$req",r),ym(i,"SID","null"),t.$=!0,Yv(t,i,null)):Yv(t,i,r),this.G=2}}else 3==this.G&&(e?by(this,e):0==this.l.length||Fm(this.i)||by(this))},Md.Ga=function(){if(this.u=null,Iy(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Dv(Qd(this.bb,this),e)}},Md.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Rv(10),my(this),Iy(this))},Md.ab=function(){null!=this.v&&(this.v=null,my(this),Ey(this),Rv(19))},Md.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Rv(2)):(this.h.info("Failed to ping google.com"),Rv(1))},(Md=Oy.prototype).xa=function(){},Md.wa=function(){},Md.va=function(){},Md.ua=function(){},Md.Oa=function(){},Ly.prototype.g=function(e,t){return new My(e,t)},$d(My,ev),My.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),lv(Qd(e.hb,e,t))),Rv(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Py(e,null,e.W),ky(e)},My.prototype.close=function(){vy(this.g)},My.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,gy(this.g,t)}else this.v?((t={}).__data__=rv(e),gy(this.g,t)):gy(this.g,e)},My.prototype.M=function(){this.g.j=null,delete this.j,vy(this.g),delete this.g,My.Z.M.call(this)},$d(Fy,Bv),$d(Uy,zv),$d(Vy,Oy),Vy.prototype.xa=function(){tv(this.g,"a")},Vy.prototype.wa=function(e){tv(this.g,new Fy(e))},Vy.prototype.va=function(e){tv(this.g,new Uy(e))},Vy.prototype.ua=function(){tv(this.g,"b")},Ly.prototype.createWebChannel=Ly.prototype.g,My.prototype.send=My.prototype.u,My.prototype.open=My.prototype.m,My.prototype.close=My.prototype.close,Ov.NO_ERROR=0,Ov.TIMEOUT=8,Ov.HTTP_ERROR=6,Lv.COMPLETE="complete",Uv.EventType=jv,jv.OPEN="a",jv.CLOSE="b",jv.ERROR="c",jv.MESSAGE="d",ev.prototype.listen=ev.prototype.N,ey.prototype.listenOnce=ey.prototype.O,ey.prototype.getLastError=ey.prototype.La,ey.prototype.getLastErrorCode=ey.prototype.Da,ey.prototype.getStatus=ey.prototype.ba,ey.prototype.getResponseJson=ey.prototype.Qa,ey.prototype.getResponseText=ey.prototype.ga,ey.prototype.send=ey.prototype.ea;var jy=Ud.createWebChannelTransport=function(){return new Ly},By=Ud.getStatEventTarget=function(){return Tv()},zy=Ud.ErrorCode=Ov,qy=Ud.EventType=Lv,Wy=Ud.Event=Sv,Hy=Ud.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ky=Ud.FetchXmlHttpFactory=Gm,Gy=Ud.WebChannel=Uv,Qy=Ud.XhrIo=ey,Yy="@firebase/firestore",$y=function(){function e(t){Vi(this,e),this.uid=t}return w(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();$y.UNAUTHENTICATED=new $y(null),$y.GOOGLE_CREDENTIALS=new $y("google-credentials-uid"),$y.FIRST_PARTY=new $y("first-party-uid"),$y.MOCK_USER=new $y("mock-user");var Jy="9.6.2",Xy=new ja("@firebase/firestore");function Zy(){return Xy.logLevel}function eg(e){if(Xy.logLevel<=Ra.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(rg);Xy.debug.apply(Xy,["Firestore (".concat(Jy,"): ").concat(e)].concat(kt(i)))}}function tg(e){if(Xy.logLevel<=Ra.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(rg);Xy.error.apply(Xy,["Firestore (".concat(Jy,"): ").concat(e)].concat(kt(i)))}}function ng(e){if(Xy.logLevel<=Ra.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(rg);Xy.warn.apply(Xy,["Firestore (".concat(Jy,"): ").concat(e)].concat(kt(i)))}}function rg(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function ig(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Jy,") INTERNAL ASSERTION FAILED: ")+e;throw tg(t),new Error(t)}function ag(e,t){e||ig()}function og(e,t){return e}var sg={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ug=function(e){Bi(n,e);var t=Hi(n);function n(e,r){var i;return Vi(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return w(n)}(ca),cg=w((function e(){var t=this;Vi(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),lg=w((function e(t,n){Vi(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),fg=function(){function e(){Vi(this,e)}return w(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t($y.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),hg=function(){function e(t){Vi(this,e),this.token=t,this.changeListener=null}return w(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),dg=function(){function e(t){Vi(this,e),this.t=t,this.currentUser=$y.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return w(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new cg;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new cg,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Ea(Ia().mark((function e(){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){eg("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(eg("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new cg)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(eg("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(ag("string"==typeof n.accessToken),new lg(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return ag(null===e||"string"==typeof e),new $y(e)}}]),e}(),pg=w((function e(t,n,r){Vi(this,e),this.type="FirstParty",this.user=$y.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),vg=function(){function e(t,n,r){Vi(this,e),this.h=t,this.l=n,this.m=r}return w(e,[{key:"getToken",value:function(){return Promise.resolve(new pg(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t($y.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),mg=w((function e(t){Vi(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),yg=function(){function e(t){Vi(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null}return w(e,[{key:"start",value:function(e,t){var n=this;this.o=function(n){e.enqueueRetryable((function(){return function(e){return null!=e.error&&eg("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message)),t(e.token)}(n)}))};var r=function(e){eg("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return r(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?r(e):eg("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((function(e){return e?(ag("string"==typeof e.token),new mg(e.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),gg=function(){function e(t,n){var r=this;Vi(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.p(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return w(e,[{key:"p",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function kg(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}gg.I=-1;var bg=function(){function e(){Vi(this,e)}return w(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=kg(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function wg(e,t){return e<t?-1:e>t?1:0}function xg(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function _g(e){return e+"\0"}var Eg=function(){function e(t,n){if(Vi(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new ug(sg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ug(sg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new ug(sg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ug(sg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return w(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?wg(this.nanoseconds,e.nanoseconds):wg(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Sg=function(){function e(t){Vi(this,e),this.timestamp=t}return w(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Eg(0,0))}}]),e}();function Ig(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Tg(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Cg(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Ag=function(){function e(t,n,r){Vi(this,e),void 0===n?n=0:n>t.length&&ig(),void 0===r?r=t.length-n:r>t.length-n&&ig(),this.segments=t,this.offset=n,this.len=r}return w(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Ng=function(e){Bi(n,e);var t=Hi(n);function n(){return Vi(this,n),t.apply(this,arguments)}return w(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new ug(sg.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,kt(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ag),Rg=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Pg=function(e){Bi(n,e);var t=Hi(n);function n(){return Vi(this,n),t.apply(this,arguments)}return w(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Rg.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new ug(sg.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new ug(sg.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new ug(sg.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new ug(sg.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ag),Dg=function(){function e(t){Vi(this,e),this.fields=t,t.sort(Pg.comparator)}return w(e,[{key:"covers",value:function(e){var t,n=ji(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return xg(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var Og=function(e){function t(e){Vi(this,t),this.binaryString=e}return w(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return wg(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Og.EMPTY_BYTE_STRING=new Og("");var Lg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mg(e){if(ag(!!e),"string"==typeof e){var t=0,n=Lg.exec(e);if(ag(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Fg(e.seconds),nanos:Fg(e.nanos)}}function Fg(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ug(e){return"string"==typeof e?Og.fromBase64String(e):Og.fromUint8Array(e)}function Vg(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function jg(e){var t=e.mapValue.fields.__previous_value__;return Vg(t)?jg(t):t}function Bg(e){var t=Mg(e.mapValue.fields.__local_write_time__.timestampValue);return new Eg(t.seconds,t.nanos)}function zg(e){return null==e}function qg(e){return 0===e&&1/e==-1/0}function Wg(e){return"number"==typeof e&&Number.isInteger(e)&&!qg(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Hg=function(){function e(t){Vi(this,e),this.path=t}return w(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"isEqual",value:function(e){return null!==e&&0===Ng.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Ng.fromString(t))}},{key:"fromName",value:function(t){return new e(Ng.fromString(t).popFirst(5))}},{key:"comparator",value:function(e,t){return Ng.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Ng(t.slice()))}}]),e}();function Kg(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Vg(e)?4:10:ig()}function Gg(e,t){if(e===t)return!0;var n=Kg(e);if(n!==Kg(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Bg(e).isEqual(Bg(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Mg(e.timestampValue),r=Mg(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ug(e.bytesValue).isEqual(Ug(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Fg(e.geoPointValue.latitude)===Fg(t.geoPointValue.latitude)&&Fg(e.geoPointValue.longitude)===Fg(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Fg(e.integerValue)===Fg(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Fg(e.doubleValue),r=Fg(t.doubleValue);return n===r?qg(n)===qg(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return xg(e.arrayValue.values||[],t.arrayValue.values||[],Gg);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ig(n)!==Ig(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Gg(n[i],r[i])))return!1;return!0}(e,t);default:return ig()}}function Qg(e,t){return void 0!==(e.values||[]).find((function(e){return Gg(e,t)}))}function Yg(e,t){if(e===t)return 0;var n=Kg(e),r=Kg(t);if(n!==r)return wg(n,r);switch(n){case 0:return 0;case 1:return wg(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Fg(e.integerValue||e.doubleValue),r=Fg(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return $g(e.timestampValue,t.timestampValue);case 4:return $g(Bg(e),Bg(t));case 5:return wg(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Ug(e),r=Ug(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=wg(n[i],r[i]);if(0!==a)return a}return wg(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=wg(Fg(e.latitude),Fg(t.latitude));return 0!==n?n:wg(Fg(e.longitude),Fg(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Yg(n[i],r[i]);if(a)return a}return wg(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=wg(r[o],a[o]);if(0!==s)return s;var u=Yg(n[r[o]],i[a[o]]);if(0!==u)return u}return wg(r.length,a.length)}(e.mapValue,t.mapValue);default:throw ig()}}function $g(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return wg(e,t);var n=Mg(e),r=Mg(t),i=wg(n.seconds,r.seconds);return 0!==i?i:wg(n.nanos,r.nanos)}function Jg(e){return Xg(e)}function Xg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Mg(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ug(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Hg.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=ji(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Xg(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=ji(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Xg(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):ig();var t,n}function Zg(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function ek(e){return!!e&&"integerValue"in e}function tk(e){return!!e&&"arrayValue"in e}function nk(e){return!!e&&"nullValue"in e}function rk(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ik(e){return!!e&&"mapValue"in e}function ak(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Tg(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=ak(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=ak(e.arrayValue.values[r]);return n}return Object.assign({},e)}var ok=function(){function e(t){Vi(this,e),this.value=t}return w(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!ik(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ak(t)}},{key:"setAll",value:function(e){var t=this,n=Pg.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=ak(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());ik(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Gg(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];ik(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Tg(t,(function(t,n){return e[t]=n}));var r,i=ji(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(ak(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function sk(e){var t=[];return Tg(e.fields,(function(e,n){var r=new Pg([e]);if(ik(n)){var i=sk(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=ji(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Dg(t)}var uk=function(){function e(t,n,r,i,a){Vi(this,e),this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=a}return w(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=ok.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=ok.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Sg.min(),ok.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,ok.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,ok.empty(),2)}}]),e}(),ck=w((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Vi(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.R=null}));function lk(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new ck(e,t,n,r,i,a,o)}function fk(e){var t=og(e);if(null===t.R){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+Jg(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),zg(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Ek(t.startAt)),t.endAt&&(n+="|ub:",n+=Ek(t.endAt)),t.R=n}return t.R}function hk(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Ik(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Gg(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ck(e.startAt,t.startAt)&&Ck(e.endAt,t.endAt)}function dk(e){return Hg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var pk=function(e){Bi(n,e);var t=Hi(n);function n(e,r,i){var a;return Vi(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return w(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Yg(t,this.value)):null!==t&&Kg(this.value)===Kg(t)&&this.v(Yg(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ig()}}},{key:"V",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new vk(e,t,r):"array-contains"===t?new kk(e,r):"in"===t?new bk(e,r):"not-in"===t?new wk(e,r):"array-contains-any"===t?new xk(e,r):new n(e,t,r)}},{key:"P",value:function(e,t,n){return"in"===t?new mk(e,n):new yk(e,n)}}]),n}(function(){return w((function e(){Vi(this,e)}))}());var vk=function(e){Bi(n,e);var t=Hi(n);function n(e,r,i){var a;return Vi(this,n),(a=t.call(this,e,r,i)).key=Hg.fromName(i.referenceValue),a}return w(n,[{key:"matches",value:function(e){var t=Hg.comparator(e.key,this.key);return this.v(t)}}]),n}(pk),mk=function(e){Bi(n,e);var t=Hi(n);function n(e,r){var i;return Vi(this,n),(i=t.call(this,e,"in",r)).keys=gk("in",r),i}return w(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(pk),yk=function(e){Bi(n,e);var t=Hi(n);function n(e,r){var i;return Vi(this,n),(i=t.call(this,e,"not-in",r)).keys=gk("not-in",r),i}return w(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(pk);function gk(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Hg.fromName(e.referenceValue)}))}var kk=function(e){Bi(n,e);var t=Hi(n);function n(e,r){return Vi(this,n),t.call(this,e,"array-contains",r)}return w(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return tk(t)&&Qg(t.arrayValue,this.value)}}]),n}(pk),bk=function(e){Bi(n,e);var t=Hi(n);function n(e,r){return Vi(this,n),t.call(this,e,"in",r)}return w(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Qg(this.value.arrayValue,t)}}]),n}(pk),wk=function(e){Bi(n,e);var t=Hi(n);function n(e,r){return Vi(this,n),t.call(this,e,"not-in",r)}return w(n,[{key:"matches",value:function(e){if(Qg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Qg(this.value.arrayValue,t)}}]),n}(pk),xk=function(e){Bi(n,e);var t=Hi(n);function n(e,r){return Vi(this,n),t.call(this,e,"array-contains-any",r)}return w(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!tk(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Qg(t.value.arrayValue,e)}))}}]),n}(pk),_k=w((function e(t,n){Vi(this,e),this.position=t,this.before=n}));function Ek(e){return"".concat(e.before?"b":"a",":").concat(e.position.map((function(e){return Jg(e)})).join(","))}var Sk=w((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Vi(this,e),this.field=t,this.dir=n}));function Ik(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Tk(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Hg.comparator(Hg.fromName(o.referenceValue),n.key):Yg(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Ck(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Gg(e.position[n],t.position[n]))return!1;return!0}var Ak=w((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Vi(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.S=null,this.D=null,this.startAt,this.endAt}));function Nk(e,t,n,r,i,a,o,s){return new Ak(e,t,n,r,i,a,o,s)}function Rk(e){return new Ak(e)}function Pk(e){return!zg(e.limit)&&"F"===e.limitType}function Dk(e){return!zg(e.limit)&&"L"===e.limitType}function Ok(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Lk(e){var t,n=ji(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.V())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Mk(e){return null!==e.collectionGroup}function Fk(e){var t=og(e);if(null===t.S){t.S=[];var n=Lk(t),r=Ok(t);if(null!==n&&null===r)n.isKeyField()||t.S.push(new Sk(n)),t.S.push(new Sk(Pg.keyField(),"asc"));else{var i,a=!1,o=ji(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.S.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new Sk(Pg.keyField(),u))}}}return t.S}function Uk(e){var t=og(e);if(!t.D)if("F"===t.limitType)t.D=lk(t.path,t.collectionGroup,Fk(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=ji(Fk(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Sk(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new _k(t.endAt.position,!t.endAt.before):null,u=t.startAt?new _k(t.startAt.position,!t.startAt.before):null;t.D=lk(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.D}function Vk(e,t,n){return new Ak(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function jk(e,t){return hk(Uk(e),Uk(t))&&e.limitType===t.limitType}function Bk(e){return"".concat(fk(Uk(e)),"|lt:").concat(e.limitType)}function zk(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Jg(t.value));var t})).join(", "),"]")),zg(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: "+Ek(e.startAt)),e.endAt&&(t+=", endAt: "+Ek(e.endAt)),"Target(".concat(t,")")}(Uk(e)),"; limitType=").concat(e.limitType,")")}function qk(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Hg.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=ji(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=ji(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!Tk(e.startAt,Fk(e),t))&&(!e.endAt||!Tk(e.endAt,Fk(e),t))}(e,t)}function Wk(e){return function(t,n){var r,i=!1,a=ji(Fk(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Hk(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Hk(e,t,n){var r=e.field.isKeyField()?Hg.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Yg(r,i):ig()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ig()}}function Kk(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qg(t)?"-0":t}}function Gk(e){return{integerValue:""+e}}function Qk(e,t){return Wg(t)?Gk(t):Kk(e,t)}var Yk=w((function e(){Vi(this,e),this._=void 0}));function $k(e,t,n){return e instanceof Zk?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof eb?tb(e,t):e instanceof nb?rb(e,t):function(e,t){var n=Xk(e,t),r=ab(n)+ab(e.N);return ek(n)&&ek(e.N)?Gk(r):Kk(e.k,r)}(e,t)}function Jk(e,t,n){return e instanceof eb?tb(e,t):e instanceof nb?rb(e,t):n}function Xk(e,t){return e instanceof ib?ek(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Zk=function(e){Bi(n,e);var t=Hi(n);function n(){return Vi(this,n),t.apply(this,arguments)}return w(n)}(Yk),eb=function(e){Bi(n,e);var t=Hi(n);function n(e){var r;return Vi(this,n),(r=t.call(this)).elements=e,r}return w(n)}(Yk);function tb(e,t){var n,r=ob(t),i=ji(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Gg(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var nb=function(e){Bi(n,e);var t=Hi(n);function n(e){var r;return Vi(this,n),(r=t.call(this)).elements=e,r}return w(n)}(Yk);function rb(e,t){var n,r=ob(t),i=ji(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Gg(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var ib=function(e){Bi(n,e);var t=Hi(n);function n(e,r){var i;return Vi(this,n),(i=t.call(this)).k=e,i.N=r,i}return w(n)}(Yk);function ab(e){return Fg(e.integerValue||e.doubleValue)}function ob(e){return tk(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var sb=w((function e(t,n){Vi(this,e),this.field=t,this.transform=n}));var ub=w((function e(t,n){Vi(this,e),this.version=t,this.transformResults=n})),cb=function(){function e(t,n){Vi(this,e),this.updateTime=t,this.exists=n}return w(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function lb(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var fb=w((function e(){Vi(this,e)}));function hb(e,t,n){e instanceof yb?function(e,t,n){var r=e.value.clone(),i=bb(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof gb?function(e,t,n){if(lb(e.precondition,t)){var r=bb(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(kb(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function db(e,t,n){e instanceof yb?function(e,t,n){if(lb(e.precondition,t)){var r=e.value.clone(),i=wb(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(mb(t),r).setHasLocalMutations()}}(e,t,n):e instanceof gb?function(e,t,n){if(lb(e.precondition,t)){var r=wb(e.fieldTransforms,n,t),i=t.data;i.setAll(kb(e)),i.setAll(r),t.convertToFoundDocument(mb(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){lb(e.precondition,t)&&t.convertToNoDocument(Sg.min())}(e,t)}function pb(e,t){var n,r=null,i=ji(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Xk(a.transform,o||null);null!=s&&(null==r&&(r=ok.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function vb(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&xg(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof eb&&t instanceof eb||e instanceof nb&&t instanceof nb?xg(e.elements,t.elements,Gg):e instanceof ib&&t instanceof ib?Gg(e.N,t.N):e instanceof Zk&&t instanceof Zk}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function mb(e){return e.isFoundDocument()?e.version:Sg.min()}var yb=function(e){Bi(n,e);var t=Hi(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Vi(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return w(n)}(fb),gb=function(e){Bi(n,e);var t=Hi(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Vi(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return w(n)}(fb);function kb(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function bb(e,t,n){var r=new Map;ag(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Jk(o,s,n[i]))}return r}function wb(e,t,n){var r,i=new Map,a=ji(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,$k(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var xb,_b,Eb=function(e){Bi(n,e);var t=Hi(n);function n(e,r){var i;return Vi(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return w(n)}(fb),Sb=function(e){Bi(n,e);var t=Hi(n);function n(e,r){var i;return Vi(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return w(n)}(fb),Ib=w((function e(t){Vi(this,e),this.count=t}));function Tb(e){switch(e){default:return ig();case sg.CANCELLED:case sg.UNKNOWN:case sg.DEADLINE_EXCEEDED:case sg.RESOURCE_EXHAUSTED:case sg.INTERNAL:case sg.UNAVAILABLE:case sg.UNAUTHENTICATED:return!1;case sg.INVALID_ARGUMENT:case sg.NOT_FOUND:case sg.ALREADY_EXISTS:case sg.PERMISSION_DENIED:case sg.FAILED_PRECONDITION:case sg.ABORTED:case sg.OUT_OF_RANGE:case sg.UNIMPLEMENTED:case sg.DATA_LOSS:return!0}}function Cb(e){if(void 0===e)return tg("GRPC error has no .code"),sg.UNKNOWN;switch(e){case xb.OK:return sg.OK;case xb.CANCELLED:return sg.CANCELLED;case xb.UNKNOWN:return sg.UNKNOWN;case xb.DEADLINE_EXCEEDED:return sg.DEADLINE_EXCEEDED;case xb.RESOURCE_EXHAUSTED:return sg.RESOURCE_EXHAUSTED;case xb.INTERNAL:return sg.INTERNAL;case xb.UNAVAILABLE:return sg.UNAVAILABLE;case xb.UNAUTHENTICATED:return sg.UNAUTHENTICATED;case xb.INVALID_ARGUMENT:return sg.INVALID_ARGUMENT;case xb.NOT_FOUND:return sg.NOT_FOUND;case xb.ALREADY_EXISTS:return sg.ALREADY_EXISTS;case xb.PERMISSION_DENIED:return sg.PERMISSION_DENIED;case xb.FAILED_PRECONDITION:return sg.FAILED_PRECONDITION;case xb.ABORTED:return sg.ABORTED;case xb.OUT_OF_RANGE:return sg.OUT_OF_RANGE;case xb.UNIMPLEMENTED:return sg.UNIMPLEMENTED;case xb.DATA_LOSS:return sg.DATA_LOSS;default:return ig()}}(_b=xb||(xb={}))[_b.OK=0]="OK",_b[_b.CANCELLED=1]="CANCELLED",_b[_b.UNKNOWN=2]="UNKNOWN",_b[_b.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_b[_b.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_b[_b.NOT_FOUND=5]="NOT_FOUND",_b[_b.ALREADY_EXISTS=6]="ALREADY_EXISTS",_b[_b.PERMISSION_DENIED=7]="PERMISSION_DENIED",_b[_b.UNAUTHENTICATED=16]="UNAUTHENTICATED",_b[_b.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_b[_b.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_b[_b.ABORTED=10]="ABORTED",_b[_b.OUT_OF_RANGE=11]="OUT_OF_RANGE",_b[_b.UNIMPLEMENTED=12]="UNIMPLEMENTED",_b[_b.INTERNAL=13]="INTERNAL",_b[_b.UNAVAILABLE=14]="UNAVAILABLE",_b[_b.DATA_LOSS=15]="DATA_LOSS";var Ab=function(){function e(t,n){Vi(this,e),this.comparator=t,this.root=n||Rb.EMPTY}return w(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Rb.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Rb.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Nb(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Nb(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Nb(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Nb(this.root,e,this.comparator,!0)}}]),e}(),Nb=function(){function e(t,n,r,i){Vi(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return w(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Rb=function(){function e(t,n,r,i,a){Vi(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return w(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw ig();if(this.right.isRed())throw ig();var e=this.left.check();if(e!==this.right.check())throw ig();return e+(this.isRed()?0:1)}}]),e}();Rb.EMPTY=null,Rb.RED=!0,Rb.BLACK=!1,Rb.EMPTY=new(function(){function e(){Vi(this,e),this.size=0}return w(e,[{key:"key",get:function(){throw ig()}},{key:"value",get:function(){throw ig()}},{key:"color",get:function(){throw ig()}},{key:"left",get:function(){throw ig()}},{key:"right",get:function(){throw ig()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Rb(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Pb=function(){function e(t){Vi(this,e),this.comparator=t,this.data=new Ab(this.comparator)}return w(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Db(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Db(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Db=function(){function e(t){Vi(this,e),this.iter=t}return w(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),Ob=new Ab(Hg.comparator);function Lb(){return Ob}var Mb=new Ab(Hg.comparator);function Fb(){return Mb}var Ub=new Ab(Hg.comparator);function Vb(){return Ub}var jb=new Pb(Hg.comparator);function Bb(){for(var e=jb,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var zb=new Pb(wg);function qb(){return zb}var Wb=function(){function e(t,n,r,i,a){Vi(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return w(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Hb.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Sg.min(),r,qb(),Lb(),Bb())}}]),e}(),Hb=function(){function e(t,n,r,i,a){Vi(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return w(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Og.EMPTY_BYTE_STRING,n,Bb(),Bb(),Bb())}}]),e}(),Kb=w((function e(t,n,r,i){Vi(this,e),this.$=t,this.removedTargetIds=n,this.key=r,this.O=i})),Gb=w((function e(t,n){Vi(this,e),this.targetId=t,this.F=n})),Qb=w((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Og.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Vi(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Yb=function(){function e(){Vi(this,e),this.M=0,this.L=Xb(),this.B=Og.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}return w(e,[{key:"current",get:function(){return this.U}},{key:"resumeToken",get:function(){return this.B}},{key:"K",get:function(){return 0!==this.M}},{key:"j",get:function(){return this.q}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}},{key:"G",value:function(){var e=Bb(),t=Bb(),n=Bb();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ig()}})),new Hb(this.B,this.U,e,t,n)}},{key:"H",value:function(){this.q=!1,this.L=Xb()}},{key:"J",value:function(e,t){this.q=!0,this.L=this.L.insert(e,t)}},{key:"Y",value:function(e){this.q=!0,this.L=this.L.remove(e)}},{key:"X",value:function(){this.M+=1}},{key:"Z",value:function(){this.M-=1}},{key:"tt",value:function(){this.q=!0,this.U=!0}}]),e}(),$b=function(){function e(t){Vi(this,e),this.et=t,this.nt=new Map,this.st=Lb(),this.it=Jb(),this.rt=new Pb(wg)}return w(e,[{key:"ot",value:function(e){var t,n=ji(e.$);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.O&&e.O.isFoundDocument()?this.at(r,e.O):this.ct(r,e.key,e.O)}}catch(s){n.e(s)}finally{n.f()}var i,a=ji(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.O)}}catch(s){a.e(s)}finally{a.f()}}},{key:"ut",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ht(n);switch(e.state){case 0:t.lt(n)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||t.removeTarget(n);break;case 3:t.lt(n)&&(r.tt(),r.W(e.resumeToken));break;case 4:t.lt(n)&&(t.ft(n),r.W(e.resumeToken));break;default:ig()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((function(e,r){n.lt(r)&&t(r)}))}},{key:"dt",value:function(e){var t=e.targetId,n=e.F.count,r=this.wt(t);if(r){var i=r.target;if(dk(i))if(0===n){var a=new Hg(i.path);this.ct(t,a,uk.newNoDocument(a,Sg.min()))}else ag(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}},{key:"gt",value:function(e){var t=this,n=new Map;this.nt.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&dk(a.target)){var o=new Hg(a.target.path);null!==t.st.get(o)||t.yt(i,o)||t.ct(i,o,uk.newNoDocument(o,e))}r.j&&(n.set(i,r.G()),r.H())}}));var r=Bb();this.it.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new Wb(e,n,this.rt,this.st,r);return this.st=Lb(),this.it=Jb(),this.rt=new Pb(wg),i}},{key:"at",value:function(e,t){if(this.lt(e)){var n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.lt(e)){var r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}}},{key:"removeTarget",value:function(e){this.nt.delete(e)}},{key:"_t",value:function(e){var t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"X",value:function(e){this.ht(e).X()}},{key:"ht",value:function(e){var t=this.nt.get(e);return t||(t=new Yb,this.nt.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.it.get(e);return t||(t=new Pb(wg),this.it=this.it.insert(e,t)),t}},{key:"lt",value:function(e){var t=null!==this.wt(e);return t||eg("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}},{key:"ft",value:function(e){var t=this;this.nt.set(e,new Yb),this.et.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"yt",value:function(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}]),e}();function Jb(){return new Ab(Hg.comparator)}function Xb(){return new Ab(Hg.comparator)}var Zb={asc:"ASCENDING",desc:"DESCENDING"},ew={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tw=w((function e(t,n){Vi(this,e),this.databaseId=t,this.C=n}));function nw(e,t){return e.C?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function rw(e,t){return e.C?t.toBase64():t.toUint8Array()}function iw(e,t){return nw(e,t.toTimestamp())}function aw(e){return ag(!!e),Sg.fromTimestamp(function(e){var t=Mg(e);return new Eg(t.seconds,t.nanos)}(e))}function ow(e,t){return function(e){return new Ng(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function sw(e){var t=Ng.fromString(e);return ag(Pw(t)),t}function uw(e,t){return ow(e.databaseId,t.path)}function cw(e,t){var n=sw(t);if(n.get(1)!==e.databaseId.projectId)throw new ug(sg.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ug(sg.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Hg(dw(n))}function lw(e,t){return ow(e.databaseId,t)}function fw(e){var t=sw(e);return 4===t.length?Ng.emptyPath():dw(t)}function hw(e){return new Ng(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function dw(e){return ag(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function pw(e,t,n){return{name:uw(e,t),fields:n.value.mapValue.fields}}function vw(e,t,n){var r=cw(e,t.name),i=aw(t.updateTime),a=new ok({mapValue:{fields:t.fields}}),o=uk.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function mw(e,t){return"found"in t?function(e,t){ag(!!t.found),t.found.name,t.found.updateTime;var n=cw(e,t.found.name),r=aw(t.found.updateTime),i=new ok({mapValue:{fields:t.found.fields}});return uk.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){ag(!!t.missing),ag(!!t.readTime);var n=cw(e,t.missing),r=aw(t.readTime);return uk.newNoDocument(n,r)}(e,t):ig()}function yw(e,t){var n;if(t instanceof yb)n={update:pw(e,t.key,t.value)};else if(t instanceof Eb)n={delete:uw(e,t.key)};else if(t instanceof gb)n={update:pw(e,t.key,t.data),updateMask:Rw(t.fieldMask)};else{if(!(t instanceof Sb))return ig();n={verify:uw(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Zk)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof eb)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof nb)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ib)return{fieldPath:t.field.canonicalString(),increment:n.N};throw ig()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:iw(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ig()}(e,t.precondition)),n}function gw(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?cb.updateTime(aw(e.updateTime)):void 0!==e.exists?cb.exists(e.exists):cb.none()}(t.currentDocument):cb.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)ag("REQUEST_TIME"===t.setToServerValue),n=new Zk;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new eb(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new nb(i)}else"increment"in t?n=new ib(e,t.increment):ig();var a=Pg.fromServerFormat(t.fieldPath);return new sb(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=cw(e,t.update.name),a=new ok({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Dg(t.map((function(e){return Pg.fromServerFormat(e)})))}(t.updateMask);return new gb(i,a,o,n,r)}return new yb(i,a,n,r)}if(t.delete){var s=cw(e,t.delete);return new Eb(s,n)}if(t.verify){var u=cw(e,t.verify);return new Sb(u,n)}return ig()}function kw(e,t){return{documents:[lw(e,t.path)]}}function bw(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=lw(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=lw(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(rk(e.value))return{unaryFilter:{field:Tw(e.field),op:"IS_NAN"}};if(nk(e.value))return{unaryFilter:{field:Tw(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(rk(e.value))return{unaryFilter:{field:Tw(e.field),op:"IS_NOT_NAN"}};if(nk(e.value))return{unaryFilter:{field:Tw(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tw(e.field),op:Iw(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Tw(e.field),direction:Sw(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=function(e,t){return e.C||zg(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=_w(t.startAt)),t.endAt&&(n.structuredQuery.endAt=_w(t.endAt)),n}function ww(e){var t=fw(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ag(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=xw(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Sk(Cw(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return zg(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=Ew(n.startAt));var l=null;return n.endAt&&(l=Ew(n.endAt)),Nk(t,i,s,o,u,"F",c,l)}function xw(e){return e?void 0!==e.unaryFilter?[Nw(e)]:void 0!==e.fieldFilter?[Aw(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return xw(e)})).reduce((function(e,t){return e.concat(t)})):ig():[]}function _w(e){return{before:e.before,values:e.position}}function Ew(e){var t=!!e.before,n=e.values||[];return new _k(n,t)}function Sw(e){return Zb[e]}function Iw(e){return ew[e]}function Tw(e){return{fieldPath:e.canonicalString()}}function Cw(e){return Pg.fromServerFormat(e.fieldPath)}function Aw(e){return pk.create(Cw(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ig()}}(e.fieldFilter.op),e.fieldFilter.value)}function Nw(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Cw(e.unaryFilter.field);return pk.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Cw(e.unaryFilter.field);return pk.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Cw(e.unaryFilter.field);return pk.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Cw(e.unaryFilter.field);return pk.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ig()}}function Rw(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Pw(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Dw(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Lw(t)),t=Ow(e.get(n),t);return Lw(t)}function Ow(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Lw(e){return e+"\x01\x01"}function Mw(e){var t=e.length;if(ag(t>=2),2===t)return ag("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Ng.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&ig(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:ig()}a=o+2}return new Ng(r)}var Fw=w((function e(t,n){Vi(this,e),this.seconds=t,this.nanoseconds=n})),Uw=w((function e(t,n,r){Vi(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));Uw.store="owner",Uw.key="owner";var Vw=w((function e(t,n,r){Vi(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));Vw.store="mutationQueues",Vw.keyPath="userId";var jw=w((function e(t,n,r,i,a){Vi(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));jw.store="mutations",jw.keyPath="batchId",jw.userMutationsIndex="userMutationsIndex",jw.userMutationsKeyPath=["userId","batchId"];var Bw=function(){function e(){Vi(this,e)}return w(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,Dw(t)]}},{key:"key",value:function(e,t,n){return[e,Dw(t),n]}}]),e}();Bw.store="documentMutations",Bw.PLACEHOLDER=new Bw;var zw=w((function e(t,n){Vi(this,e),this.path=t,this.readTime=n})),qw=w((function e(t,n){Vi(this,e),this.path=t,this.version=n})),Ww=w((function e(t,n,r,i,a,o){Vi(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o}));Ww.store="remoteDocuments",Ww.readTimeIndex="readTimeIndex",Ww.readTimeIndexPath="readTime",Ww.collectionReadTimeIndex="collectionReadTimeIndex",Ww.collectionReadTimeIndexPath=["parentPath","readTime"];var Hw=w((function e(t){Vi(this,e),this.byteSize=t}));Hw.store="remoteDocumentGlobal",Hw.key="remoteDocumentGlobalKey";var Kw=w((function e(t,n,r,i,a,o,s){Vi(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=s}));Kw.store="targets",Kw.keyPath="targetId",Kw.queryTargetsIndexName="queryTargetsIndex",Kw.queryTargetsKeyPath=["canonicalId","targetId"];var Gw=w((function e(t,n,r){Vi(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));Gw.store="targetDocuments",Gw.keyPath=["targetId","path"],Gw.documentTargetsIndex="documentTargetsIndex",Gw.documentTargetsKeyPath=["path","targetId"];var Qw=w((function e(t,n,r,i){Vi(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));Qw.key="targetGlobalKey",Qw.store="targetGlobal";var Yw=w((function e(t,n){Vi(this,e),this.collectionId=t,this.parent=n}));Yw.store="collectionParents",Yw.keyPath=["collectionId","parent"];var $w=w((function e(t,n,r,i){Vi(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));$w.store="clientMetadata",$w.keyPath="clientId";var Jw=w((function e(t,n,r){Vi(this,e),this.bundleId=t,this.createTime=n,this.version=r}));Jw.store="bundles",Jw.keyPath="bundleId";var Xw=w((function e(t,n,r){Vi(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));Xw.store="namedQueries",Xw.keyPath="name";var Zw=[Vw.store,jw.store,Bw.store,Ww.store,Kw.store,Uw.store,Qw.store,Gw.store].concat([$w.store]).concat([Hw.store]).concat([Yw.store]).concat([Jw.store,Xw.store]),ex="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",tx=function(){function e(){Vi(this,e),this.onCommittedListeners=[]}return w(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),nx=function(){function e(t){var n=this;Vi(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return w(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&ig(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=ji(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),rx=function(){function e(t,n){var r=this;Vi(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.It=new cg,this.transaction.oncomplete=function(){r.It.resolve()},this.transaction.onabort=function(){n.error?r.It.reject(new ox(t,n.error)):r.It.resolve()},this.transaction.onerror=function(e){var n=fx(e.target.error);r.It.reject(new ox(t,n))}}return w(e,[{key:"At",get:function(){return this.It.promise}},{key:"abort",value:function(e){e&&this.It.reject(e),this.aborted||(eg("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new ux(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new ox(n,t)}}}]),e}(),ix=function(){function e(t,n,r){Vi(this,e),this.name=t,this.version=n,this.Rt=r,12.2===e.bt(na())&&tg("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return w(e,[{key:"Ct",value:function(){var e=Ea(Ia().mark((function e(t){var n=this;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return eg("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new ox(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new ug(sg.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new ug(sg.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new ox(t,n))},i.onupgradeneeded=function(e){eg("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Rt.Nt(t,i.transaction,e.oldVersion,n.version).next((function(){eg("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.kt&&(this.db.onversionchange=function(e){return n.kt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"xt",value:function(e){this.kt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Ea(Ia().mark((function e(t,n,r,i){var a,o,s,u,c=this;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Ia().mark((function e(){var n,o;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Ct(t);case 2:return c.db=e.sent,n=rx.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).catch((function(e){return n.abort(e),nx.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.At;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u="FirebaseError"!==e.t1.name&&o<3,eg("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",u),this.close(),u){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return eg("SimpleDb","Removing database:",e),cx(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"Pt",value:function(){if(!ua())return!1;if(e.vt())return!0;var t=na(),n=e.bt(t),r=0<n&&n<10,i=e.Vt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"vt",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.St)}},{key:"Dt",value:function(e,t){return e.store(t)}},{key:"bt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Vt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),ax=function(){function e(t){Vi(this,e),this.$t=t,this.Ot=!1,this.Ft=null}return w(e,[{key:"isDone",get:function(){return this.Ot}},{key:"Mt",get:function(){return this.Ft}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ot=!0}},{key:"Lt",value:function(e){this.Ft=e}},{key:"delete",value:function(){return cx(this.$t.delete())}}]),e}(),ox=function(e){Bi(n,e);var t=Hi(n);function n(e,r){var i;return Vi(this,n),(i=t.call(this,sg.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return w(n)}(ug);function sx(e){return"IndexedDbTransactionError"===e.name}var ux=function(){function e(t){Vi(this,e),this.store=t}return w(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(eg("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(eg("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),cx(n)}},{key:"add",value:function(e){return eg("SimpleDb","ADD",this.store.name,e,e),cx(this.store.add(e))}},{key:"get",value:function(e){var t=this;return cx(this.store.get(e)).next((function(n){return void 0===n&&(n=null),eg("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return eg("SimpleDb","DELETE",this.store.name,e),cx(this.store.delete(e))}},{key:"count",value:function(){return eg("SimpleDb","COUNT",this.store.name),cx(this.store.count())}},{key:"Bt",value:function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Ut(n,(function(e,t){r.push(t)})).next((function(){return r}))}},{key:"qt",value:function(e,t){eg("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Kt=!1;var r=this.cursor(n);return this.Ut(r,(function(e,t,n){return n.delete()}))}},{key:"jt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Ut(r,t)}},{key:"Qt",value:function(e){var t=this.cursor({});return new nx((function(n,r){t.onerror=function(e){var t=fx(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Ut",value:function(e,t){var n=[];return new nx((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new ax(i),o=t(i.primaryKey,i.value,a);if(o instanceof nx){var s=o.catch((function(e){return a.done(),nx.reject(e)}));n.push(s)}a.isDone?r():null===a.Mt?i.continue():i.continue(a.Mt)}else r()}})).next((function(){return nx.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function cx(e){return new nx((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=fx(e.target.error);n(t)}}))}var lx=!1;function fx(e){var t=ix.bt(na());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new ug("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return lx||(lx=!0,setTimeout((function(){throw r}),0)),r}}return e}var hx=function(e){Bi(n,e);var t=Hi(n);function n(e,r){var i;return Vi(this,n),(i=t.call(this)).Wt=e,i.currentSequenceNumber=r,i}return w(n)}(tx);function dx(e,t){var n=og(e);return ix.Dt(n.Wt,t)}var px=function(){function e(t,n,r,i){Vi(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return w(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&hb(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=ji(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&db(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,a=ji(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&db(o,e,this.localWriteTime)}}catch(s){a.e(s)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Sg.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Bb())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&xg(this.mutations,e.mutations,(function(e,t){return vb(e,t)}))&&xg(this.baseMutations,e.baseMutations,(function(e,t){return vb(e,t)}))}}]),e}(),vx=function(){function e(t,n,r,i){Vi(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return w(e,null,[{key:"from",value:function(t,n,r){ag(t.mutations.length===r.length);for(var i=Vb(),a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),mx=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Sg.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Sg.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Og.EMPTY_BYTE_STRING;Vi(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return w(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),yx=w((function e(t){Vi(this,e),this.Gt=t}));function gx(e,t){if(t.document)return vw(e.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Hg.fromSegments(t.noDocument.path),r=_x(t.noDocument.readTime),i=uk.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var a=Hg.fromSegments(t.unknownDocument.path),o=_x(t.unknownDocument.version);return uk.newUnknownDocument(a,o)}return ig()}function kx(e,t,n){var r=bx(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var a=function(e,t){return{name:uw(e,t.key),fields:t.data.value.mapValue.fields,updateTime:nw(e,t.version.toTimestamp())}}(e.Gt,t),o=t.hasCommittedMutations;return new Ww(null,null,a,o,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=xx(t.version),c=t.hasCommittedMutations;return new Ww(null,new zw(s,u),null,c,r,i)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),f=xx(t.version);return new Ww(new qw(l,f),null,null,!0,r,i)}return ig()}function bx(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function wx(e){var t=new Eg(e[0],e[1]);return Sg.fromTimestamp(t)}function xx(e){var t=e.toTimestamp();return new Fw(t.seconds,t.nanoseconds)}function _x(e){var t=new Eg(e.seconds,e.nanoseconds);return Sg.fromTimestamp(t)}function Ex(e,t){for(var n=(t.baseMutations||[]).map((function(t){return gw(e.Gt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return gw(e.Gt,t)})),s=Eg.fromMillis(t.localWriteTimeMs);return new px(t.batchId,s,n,o)}function Sx(e){var t,n,r=_x(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?_x(e.lastLimboFreeSnapshotVersion):Sg.min();return void 0!==e.query.documents?(ag(1===(n=e.query).documents.length),t=Uk(Rk(fw(n.documents[0])))):t=function(e){return Uk(ww(e))}(e.query),new mx(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Og.fromBase64String(e.resumeToken))}function Ix(e,t){var n,r=xx(t.snapshotVersion),i=xx(t.lastLimboFreeSnapshotVersion);n=dk(t.target)?kw(e.Gt,t.target):bw(e.Gt,t.target);var a=t.resumeToken.toBase64();return new Kw(t.targetId,fk(t.target),r,a,t.sequenceNumber,i,n)}function Tx(e){var t=ww({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Vk(t,t.limit,"L"):t}var Cx=function(){function e(){Vi(this,e)}return w(e,[{key:"getBundleMetadata",value:function(e,t){return Ax(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:_x(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Ax(e).put({bundleId:(n=t).id,createTime:xx(aw(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Nx(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Tx(t.bundledQuery),readTime:_x(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Nx(e).put(function(e){return{name:e.name,readTime:xx(aw(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Ax(e){return dx(e,Jw.store)}function Nx(e){return dx(e,Xw.store)}var Rx=function(){function e(){Vi(this,e),this.zt=new Px}return w(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.zt.add(t),nx.resolve()}},{key:"getCollectionParents",value:function(e,t){return nx.resolve(this.zt.getEntries(t))}}]),e}(),Px=function(){function e(){Vi(this,e),this.index={}}return w(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Pb(Ng.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Pb(Ng.comparator)).toArray()}}]),e}(),Dx=function(){function e(){Vi(this,e),this.Ht=new Px}return w(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ht.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ht.add(t)}));var a={collectionId:r,parent:Dw(i)};return Ox(e).put(a)}return nx.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[_g(t),""],!1,!0);return Ox(e).Bt(r).next((function(e){var r,i=ji(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Mw(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}}]),e}();function Ox(e){return dx(e,Yw.store)}var Lx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Mx=function(){function e(t,n,r){Vi(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return w(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Fx(e,t,n){var r=e.store(jw.store),i=e.store(Bw.store),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.jt({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){ag(1===s)})));var c,l=[],f=ji(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Bw.key(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return nx.waitFor(a).next((function(){return l}))}function Ux(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ig();t=e.noDocument}return JSON.stringify(t).length}Mx.DEFAULT_COLLECTION_PERCENTILE=10,Mx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mx.DEFAULT=new Mx(41943040,Mx.DEFAULT_COLLECTION_PERCENTILE,Mx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mx.DISABLED=new Mx(-1,0,0);var Vx=function(){function e(t,n,r,i){Vi(this,e),this.userId=t,this.k=n,this.Jt=r,this.referenceDelegate=i,this.Yt={}}return w(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Bx(e).jt({index:jw.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=zx(e),o=Bx(e);return o.add({}).next((function(s){ag("number"==typeof s);var u,c=new px(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return yw(e.Gt,t)})),i=n.mutations.map((function(t){return yw(e.Gt,t)}));return new jw(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.k,i.userId,c),f=[],h=new Pb((function(e,t){return wg(e.canonicalString(),t.canonicalString())})),d=ji(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=Bw.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Bw.PLACEHOLDER))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.Jt.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Yt[s]=c.keys()})),nx.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Bx(e).get(t).next((function(e){return e?(ag(e.userId===n.userId),Ex(n.k,e)):null}))}},{key:"Zt",value:function(e,t){var n=this;return this.Yt[t]?nx.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Yt[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Bx(e).jt({index:jw.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(ag(t.batchId>=r),a=Ex(n.k,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Bx(e).jt({index:jw.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Bx(e).Bt(jw.userMutationsIndex,n).next((function(e){return e.map((function(e){return Ex(t.k,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Bw.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return zx(e).jt({range:i},(function(r,i,o){var s=u(r,3),c=s[0],l=s[1],f=s[2],h=Mw(l);if(c===n.userId&&t.path.isEqual(h))return Bx(e).get(f).next((function(e){if(!e)throw ig();ag(e.userId===n.userId),a.push(Ex(n.k,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Pb(wg),i=[];return t.forEach((function(t){var a=Bw.prefixForPath(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=zx(e).jt({range:o},(function(e,i,a){var o=u(e,3),s=o[0],c=o[1],l=o[2],f=Mw(c);s===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(s)})),nx.waitFor(i).next((function(){return n.te(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Bw.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new Pb(wg);return zx(e).jt({range:o},(function(e,t,a){var o=u(e,3),c=o[0],l=o[1],f=o[2],h=Mw(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.te(e,s)}))}},{key:"te",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Bx(e).get(t).next((function(e){if(null===e)throw ig();ag(e.userId===n.userId),r.push(Ex(n.k,e))})))})),nx.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Fx(e.Wt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.ee(t.batchId)})),nx.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"ee",value:function(e){delete this.Yt[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return nx.resolve();var r=IDBKeyRange.lowerBound(Bw.prefixForUser(t.userId)),i=[];return zx(e).jt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Mw(e[1]);i.push(a)}else r.done()})).next((function(){ag(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return jx(e,this.userId,t)}},{key:"ne",value:function(e){var t=this;return qx(e).get(this.userId).next((function(e){return e||new Vw(t.userId,-1,"")}))}}],[{key:"Xt",value:function(t,n,r,i){return ag(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function jx(e,t,n){var r=Bw.prefixForPath(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return zx(e).jt({range:a,Kt:!0},(function(e,n,r){var a=u(e,3),s=a[0],c=a[1];a[2];s===t&&c===i&&(o=!0),r.done()})).next((function(){return o}))}function Bx(e){return dx(e,jw.store)}function zx(e){return dx(e,Bw.store)}function qx(e){return dx(e,Vw.store)}var Wx=function(){function e(t){Vi(this,e),this.se=t}return w(e,[{key:"next",value:function(){return this.se+=2,this.se}}],[{key:"ie",value:function(){return new e(0)}},{key:"re",value:function(){return new e(-1)}}]),e}(),Hx=function(){function e(t,n){Vi(this,e),this.referenceDelegate=t,this.k=n}return w(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.oe(e).next((function(n){var r=new Wx(n.highestTargetId);return n.highestTargetId=r.next(),t.ae(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.oe(e).next((function(e){return Sg.fromTimestamp(new Eg(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.oe(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.oe(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.ae(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.ce(e,t).next((function(){return n.oe(e).next((function(r){return r.targetCount+=1,n.ue(t,r),n.ae(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.ce(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Kx(e).delete(t.targetId)})).next((function(){return n.oe(e)})).next((function(t){return ag(t.targetCount>0),t.targetCount-=1,n.ae(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Kx(e).jt((function(o,s){var u=Sx(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return nx.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Kx(e).jt((function(e,n){var r=Sx(n);t(r)}))}},{key:"oe",value:function(e){return Gx(e).get(Qw.key).next((function(e){return ag(null!==e),e}))}},{key:"ae",value:function(e,t){return Gx(e).put(Qw.key,t)}},{key:"ce",value:function(e,t){return Kx(e).put(Ix(this.k,t))}},{key:"ue",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.oe(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=fk(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Kx(e).jt({range:r,index:Kw.queryTargetsIndexName},(function(e,n,r){var a=Sx(n);hk(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Qx(e);return t.forEach((function(t){var o=Dw(t.path);i.push(a.put(new Gw(n,o))),i.push(r.referenceDelegate.addReference(e,n,t))})),nx.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Qx(e);return nx.forEach(t,(function(t){var a=Dw(t.path);return nx.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Qx(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Qx(e),i=Bb();return r.jt({range:n,Kt:!0},(function(e,t,n){var r=Mw(e[1]),a=new Hg(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Dw(t.path),r=IDBKeyRange.bound([n],[_g(n)],!1,!0),i=0;return Qx(e).jt({index:Gw.documentTargetsIndex,Kt:!0,range:r},(function(e,t,n){var r=u(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return Kx(e).get(t).next((function(e){return e?Sx(e):null}))}}]),e}();function Kx(e){return dx(e,Kw.store)}function Gx(e){return dx(e,Qw.store)}function Qx(e){return dx(e,Gw.store)}function Yx(e){return $x.apply(this,arguments)}function $x(){return $x=Ea(Ia().mark((function e(t){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===sg.FAILED_PRECONDITION&&t.message===ex){e.next=2;break}throw t;case 2:eg("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),$x.apply(this,arguments)}function Jx(e,t){var n=u(e,2),r=n[0],i=n[1],a=u(t,2),o=a[0],s=a[1],c=wg(r,o);return 0===c?wg(i,s):c}var Xx=function(){function e(t){Vi(this,e),this.he=t,this.buffer=new Pb(Jx),this.le=0}return w(e,[{key:"fe",value:function(){return++this.le}},{key:"de",value:function(e){var t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Jx(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Zx=function(){function e(t,n){Vi(this,e),this.garbageCollector=t,this.asyncQueue=n,this.we=!1,this._e=null}return w(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}},{key:"stop",value:function(){this._e&&(this._e.cancel(),this._e=null)}},{key:"started",get:function(){return null!==this._e}},{key:"me",value:function(e){var t=this,n=this.we?3e5:6e4;eg("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,Ea(Ia().mark((function n(){return Ia().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t._e=null,t.we=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!sx(n.t0)){n.next=12;break}eg("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,Yx(n.t0);case 14:return n.next=16,t.me(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),e_=function(){function e(t,n){Vi(this,e),this.ge=t,this.params=n}return w(e,[{key:"calculateTargetCount",value:function(e,t){return this.ge.ye(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return nx.resolve(gg.I);var r=new Xx(t);return this.ge.forEachTarget(e,(function(e){return r.de(e.sequenceNumber)})).next((function(){return n.ge.pe(e,(function(e){return r.de(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.ge.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.ge.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(eg("LruGarbageCollector","Garbage collection skipped; disabled"),nx.resolve(Lx)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(eg("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Lx):n.Te(e,t)}))}},{key:"getCacheSize",value:function(e){return this.ge.getCacheSize(e)}},{key:"Te",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(eg("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),Zy()<=Ra.DEBUG&&eg("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),nx.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),t_=function(){function e(t,n){Vi(this,e),this.db=t,this.garbageCollector=function(e,t){return new e_(e,t)}(this,n)}return w(e,[{key:"ye",value:function(e){var t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Ee",value:function(e){var t=0;return this.pe(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"pe",value:function(e,t){return this.Ie(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return n_(e,n)}},{key:"removeReference",value:function(e,t,n){return n_(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return n_(e,t)}},{key:"Ae",value:function(e,t){return function(e,t){var n=!1;return qx(e).Qt((function(r){return jx(e,r,t).next((function(e){return e&&(n=!0),nx.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ie(e,(function(o,s){if(s<=t){var u=n.Ae(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o),Qx(e).delete([0,Dw(o.path)])}))}));i.push(u)}})).next((function(){return nx.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return n_(e,t)}},{key:"Ie",value:function(e,t){var n,r=Qx(e),i=gg.I;return r.jt({index:Gw.documentTargetsIndex},(function(e,r){var a=u(e,2),o=a[0],s=(a[1],r.path),c=r.sequenceNumber;0===o?(i!==gg.I&&t(new Hg(Mw(n)),i),i=c,n=s):i=gg.I})).next((function(){i!==gg.I&&t(new Hg(Mw(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function n_(e,t){return Qx(e).put(function(e,t){return new Gw(0,Dw(e.path),t)}(t,e.currentSequenceNumber))}var r_=function(){function e(t,n){Vi(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return w(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=ji(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){Tg(this.inner,(function(t,n){var r,i=ji(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Cg(this.inner)}}]),e}(),i_=function(){function e(){Vi(this,e),this.changes=new r_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return w(e,[{key:"getReadTime",value:function(e){var t=this.changes.get(e);return t?t.readTime:Sg.min()}},{key:"addEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}},{key:"removeEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:uk.newInvalidDocument(e),readTime:t})}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?nx.resolve(n.document):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),a_=function(){function e(t,n){Vi(this,e),this.k=t,this.Jt=n}return w(e,[{key:"addEntry",value:function(e,t,n){return u_(e).put(c_(t),n)}},{key:"removeEntry",value:function(e,t){var n=u_(e),r=c_(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Re(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return u_(e).get(c_(t)).next((function(e){return n.be(t,e)}))}},{key:"Pe",value:function(e,t){var n=this;return u_(e).get(c_(t)).next((function(e){return{document:n.be(t,e),size:Ux(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=Lb();return this.ve(e,t,(function(e,t){var i=n.be(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ve",value:function(e,t){var n=this,r=Lb(),i=new Ab(Hg.comparator);return this.ve(e,t,(function(e,t){var a=n.be(e,t);r=r.insert(e,a),i=i.insert(e,Ux(t))})).next((function(){return{documents:r,Se:i}}))}},{key:"ve",value:function(e,t,n){if(t.isEmpty())return nx.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return u_(e).jt({range:r},(function(e,t,r){for(var o=Hg.fromSegments(e);a&&Hg.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.Lt(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){var r=this,i=Lb(),a=t.path.length+1,o={};if(n.isEqual(Sg.min())){var s=t.path.toArray();o.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=bx(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=Ww.collectionReadTimeIndex}return u_(e).jt(o,(function(e,n,o){if(e.length===a){var s=gx(r.k,n);t.path.isPrefixOf(s.key.path)?qk(t,s)&&(i=i.insert(s.key,s)):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new o_(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return s_(e).get(Hw.key).next((function(e){return ag(!!e),e}))}},{key:"Re",value:function(e,t){return s_(e).put(Hw.key,t)}},{key:"be",value:function(e,t){if(t){var n=gx(this.k,t);if(!n.isNoDocument()||!n.version.isEqual(Sg.min()))return n}return uk.newInvalidDocument(e)}}]),e}(),o_=function(e){Bi(n,e);var t=Hi(n);function n(e,r){var i;return Vi(this,n),(i=t.call(this)).De=e,i.trackRemovals=r,i.Ce=new r_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return w(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Pb((function(e,t){return wg(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.Ce.get(a);if(o.document.isValidDocument()){var u=kx(t.De.k,o.document,t.getReadTime(a));i=i.add(a.path.popLast());var c=Ux(u);r+=c-s,n.push(t.De.addEntry(e,a,u))}else if(r-=s,t.trackRemovals){var l=kx(t.De.k,uk.newNoDocument(a,Sg.min()),t.getReadTime(a));n.push(t.De.addEntry(e,a,l))}else n.push(t.De.removeEntry(e,a))})),i.forEach((function(r){n.push(t.De.Jt.addToCollectionParentIndex(e,r))})),n.push(this.De.updateMetadata(e,r)),nx.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.De.Pe(e,t).next((function(e){return n.Ce.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.De.Ve(e,t).next((function(e){var t=e.documents;return e.Se.forEach((function(e,t){n.Ce.set(e,t)})),t}))}}]),n}(i_);function s_(e){return dx(e,Hw.store)}function u_(e){return dx(e,Ww.store)}function c_(e){return e.path.toArray()}var l_=function(){function e(t){Vi(this,e),this.k=t}return w(e,[{key:"Nt",value:function(e,t,n,r){var i=this;ag(n<r&&n>=0&&r<=11);var a=new rx("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Uw.store)}(e),function(e){e.createObjectStore(Vw.store,{keyPath:Vw.keyPath}),e.createObjectStore(jw.store,{keyPath:jw.keyPath,autoIncrement:!0}).createIndex(jw.userMutationsIndex,jw.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Bw.store)}(e),f_(e),function(e){e.createObjectStore(Ww.store)}(e));var o=nx.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Gw.store),e.deleteObjectStore(Kw.store),e.deleteObjectStore(Qw.store)}(e),f_(e)),o=o.next((function(){return function(e){var t=e.store(Qw.store),n=new Qw(0,0,Sg.min().toTimestamp(),0);return t.put(Qw.key,n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(jw.store).Bt().next((function(n){e.deleteObjectStore(jw.store),e.createObjectStore(jw.store,{keyPath:jw.keyPath,autoIncrement:!0}).createIndex(jw.userMutationsIndex,jw.userMutationsKeyPath,{unique:!0});var r=t.store(jw.store),i=n.map((function(e){return r.put(e)}));return nx.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore($w.store,{keyPath:$w.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ne(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(Hw.store)}(e),i.ke(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.xe(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.$e(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Ww.store);t.createIndex(Ww.readTimeIndex,Ww.readTimeIndexPath,{unique:!1}),t.createIndex(Ww.collectionReadTimeIndex,Ww.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.Oe(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore(Jw.store,{keyPath:Jw.keyPath})}(e),function(e){e.createObjectStore(Xw.store,{keyPath:Xw.keyPath})}(e)}))),o}},{key:"ke",value:function(e){var t=0;return e.store(Ww.store).jt((function(e,n){t+=Ux(n)})).next((function(){var n=new Hw(t);return e.store(Hw.store).put(Hw.key,n)}))}},{key:"Ne",value:function(e){var t=this,n=e.store(Vw.store),r=e.store(jw.store);return n.Bt().next((function(n){return nx.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Bt(jw.userMutationsIndex,i).next((function(r){return nx.forEach(r,(function(r){ag(r.userId===n.userId);var i=Ex(t.k,r);return Fx(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"xe",value:function(e){var t=e.store(Gw.store),n=e.store(Ww.store);return e.store(Qw.store).get(Qw.key).next((function(e){var r=[];return n.jt((function(n,i){var a=new Ng(n),o=function(e){return[0,Dw(e)]}(a);r.push(t.get(o).next((function(n){return n?nx.resolve():function(n){return t.put(new Gw(0,Dw(n),e.highestListenSequenceNumber))}(a)})))})).next((function(){return nx.waitFor(r)}))}))}},{key:"$e",value:function(e,t){e.createObjectStore(Yw.store,{keyPath:Yw.keyPath});var n=t.store(Yw.store),r=new Px,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Dw(i)})}};return t.store(Ww.store).jt({Kt:!0},(function(e,t){var n=new Ng(e);return i(n.popLast())})).next((function(){return t.store(Bw.store).jt({Kt:!0},(function(e,t){var n=u(e,3),r=(n[0],n[1]),a=(n[2],Mw(r));return i(a.popLast())}))}))}},{key:"Oe",value:function(e){var t=this,n=e.store(Kw.store);return n.jt((function(e,r){var i=Sx(r),a=Ix(t.k,i);return n.put(a)}))}}]),e}();function f_(e){e.createObjectStore(Gw.store,{keyPath:Gw.keyPath}).createIndex(Gw.documentTargetsIndex,Gw.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Kw.store,{keyPath:Kw.keyPath}).createIndex(Kw.queryTargetsIndexName,Kw.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Qw.store)}var h_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",d_=function(){function e(t,n,r,i,a,o,s,u,c,l){if(Vi(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Fe=a,this.window=o,this.document=s,this.Me=c,this.Le=l,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=function(e){return Promise.resolve()},!e.Pt())throw new ug(sg.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new t_(this,i),this.Ge=n+"main",this.k=new yx(u),this.ze=new ix(this.Ge,11,new l_(this.k)),this.He=new Hx(this.referenceDelegate,this.k),this.Jt=new Dx,this.Je=function(e,t){return new a_(e,t)}(this.k,this.Jt),this.Ye=new Cx,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===l&&tg("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return w(e,[{key:"start",value:function(){var e=this;return this.Ze().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new ug(sg.FAILED_PRECONDITION,h_);return e.tn(),e.en(),e.nn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.He.getHighestSequenceNumber(t)}))})).then((function(t){e.Be=new gg(t,e.Me)})).then((function(){e.Ue=!0})).catch((function(t){return e.ze&&e.ze.close(),Promise.reject(t)}))}},{key:"sn",value:function(e){var t=this;return this.We=function(){var n=Ea(Ia().mark((function n(r){return Ia().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ze.xt(function(){var t=Ea(Ia().mark((function t(n){return Ia().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Fe.enqueueAndForget(Ea(Ia().mark((function e(){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ze();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ze",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return v_(t).put(new $w(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.rn(t).next((function(t){t||(e.isPrimary=!1,e.Fe.enqueueRetryable((function(){return e.We(!1)})))}))})).next((function(){return e.on(t)})).next((function(n){return e.isPrimary&&!n?e.an(t).next((function(){return!1})):!!n&&e.cn(t).next((function(){return!0}))}))})).catch((function(t){if(sx(t))return eg("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return eg("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Fe.enqueueRetryable((function(){return e.We(t)})),e.isPrimary=t}))}},{key:"rn",value:function(e){var t=this;return p_(e).get(Uw.key).next((function(e){return nx.resolve(t.un(e))}))}},{key:"hn",value:function(e){return v_(e).delete(this.clientId)}},{key:"ln",value:function(){var e=Ea(Ia().mark((function e(){var t,n,r,i,a=this;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.fn(this.Qe,18e5)){e.next=6;break}return this.Qe=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=dx(e,$w.store);return t.Bt().next((function(e){var n=a.dn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return nx.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Xe){n=ji(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Xe.removeItem(this.wn(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nn",value:function(){var e=this;this.je=this.Fe.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ze().then((function(){return e.ln()})).then((function(){return e.nn()}))}))}},{key:"un",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"on",value:function(e){var t=this;return this.Le?nx.resolve(!0):p_(e).get(Uw.key).next((function(n){if(null!==n&&t.fn(n.leaseTimestampMs,5e3)&&!t._n(n.ownerId)){if(t.un(n)&&t.networkEnabled)return!0;if(!t.un(n)){if(!n.allowTabSynchronization)throw new ug(sg.FAILED_PRECONDITION,h_);return!1}}return!(!t.networkEnabled||!t.inForeground)||v_(e).Bt().next((function(e){return void 0===t.dn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&eg("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Ea(Ia().mark((function e(){var t=this;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ue=!1,this.mn(),this.je&&(this.je.cancel(),this.je=null),this.gn(),this.yn(),e.next=7,this.ze.runTransaction("shutdown","readwrite",[Uw.store,$w.store],(function(e){var n=new hx(e,gg.I);return t.an(n).next((function(){return t.hn(n)}))}));case 7:this.ze.close(),this.pn();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dn",value:function(e,t){var n=this;return e.filter((function(e){return n.fn(e.updateTimeMs,t)&&!n._n(e.clientId)}))}},{key:"Tn",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return v_(t).Bt().next((function(t){return e.dn(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ue}},{key:"getMutationQueue",value:function(e){return Vx.Xt(e,this.k,this.Jt,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;eg("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite";return this.ze.runTransaction(e,a,Zw,(function(a){return i=new hx(a,r.Be?r.Be.next():gg.I),"readwrite-primary"===t?r.rn(i).next((function(e){return!!e||r.on(i)})).next((function(t){if(!t)throw tg("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Fe.enqueueRetryable((function(){return r.We(!1)})),new ug(sg.FAILED_PRECONDITION,ex);return n(i)})).next((function(e){return r.cn(i).next((function(){return e}))})):r.En(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"En",value:function(e){var t=this;return p_(e).get(Uw.key).next((function(e){if(null!==e&&t.fn(e.leaseTimestampMs,5e3)&&!t._n(e.ownerId)&&!t.un(e)&&!(t.Le||t.allowTabSynchronization&&e.allowTabSynchronization))throw new ug(sg.FAILED_PRECONDITION,h_)}))}},{key:"cn",value:function(e){var t=new Uw(this.clientId,this.allowTabSynchronization,Date.now());return p_(e).put(Uw.key,t)}},{key:"an",value:function(e){var t=this,n=p_(e);return n.get(Uw.key).next((function(e){return t.un(e)?(eg("IndexedDbPersistence","Releasing primary lease."),n.delete(Uw.key)):nx.resolve()}))}},{key:"fn",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(tg("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"tn",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=function(){e.Fe.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ze()}))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}},{key:"gn",value:function(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}},{key:"en",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=function(){t.mn(),!ia()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Fe.enterRestrictedMode(!0),t.Fe.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.qe))}},{key:"yn",value:function(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}},{key:"_n",value:function(e){var t;try{var n=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return eg("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return tg("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"mn",value:function(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch($d){tg("Failed to set zombie client id.",$d)}}},{key:"pn",value:function(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch($d){}}},{key:"wn",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"Pt",value:function(){return ix.Pt()}}]),e}();function p_(e){return dx(e,Uw.store)}function v_(e){return dx(e,$w.store)}function m_(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var y_=w((function e(t,n){Vi(this,e),this.progress=t,this.In=n})),g_=function(){function e(t,n,r){Vi(this,e),this.Je=t,this.An=n,this.Jt=r}return w(e,[{key:"Rn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.bn(e,t,r)}))}},{key:"bn",value:function(e,t,n){return this.Je.getEntry(e,t).next((function(e){var t,r=ji(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Pn",value:function(e,t){e.forEach((function(e,n){var r,i=ji(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"vn",value:function(e,t){var n=this;return this.Je.getEntries(e,t).next((function(t){return n.Vn(e,t).next((function(){return t}))}))}},{key:"Vn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Pn(t,e)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Hg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):Mk(t)?this.Dn(e,t,n):this.Cn(e,t,n)}},{key:"Sn",value:function(e,t){return this.Rn(e,new Hg(t)).next((function(e){var t=Fb();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Dn",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Fb();return this.Jt.getCollectionParents(e,i).next((function(o){return nx.forEach(o,(function(o){var s=function(e,t){return new Ak(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Cn(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Cn",value:function(e,t,n){var r,i,a=this;return this.Je.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,a.An.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,a.Nn(e,i,r).next((function(e){r=e;var t,n=ji(i);try{for(n.s();!(t=n.n()).done;){var a,o=t.value,s=ji(o.mutations);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=u.key,l=r.get(c);null==l&&(l=uk.newInvalidDocument(c),r=r.insert(c,l)),db(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}catch(f){s.e(f)}finally{s.f()}}}catch(f){n.e(f)}finally{n.f()}}))})).next((function(){return r.forEach((function(e,n){qk(t,n)||(r=r.remove(e))})),r}))}},{key:"Nn",value:function(e,t,n){var r,i=Bb(),a=ji(t);try{for(a.s();!(r=a.n()).done;){var o,s=ji(r.value.mutations);try{for(s.s();!(o=s.n()).done;){var u=o.value;u instanceof gb&&null===n.get(u.key)&&(i=i.add(u.key))}}catch(l){s.e(l)}finally{s.f()}}}catch(l){a.e(l)}finally{a.f()}var c=n;return this.Je.getEntries(e,i).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))}}]),e}(),k_=function(){function e(t,n,r,i){Vi(this,e),this.targetId=t,this.fromCache=n,this.kn=r,this.xn=i}return w(e,null,[{key:"$n",value:function(t,n){var r,i=Bb(),a=Bb(),o=ji(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),b_=function(){function e(){Vi(this,e)}return w(e,[{key:"On",value:function(e){this.Fn=e}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Sg.min())?this.Mn(e,t):this.Fn.vn(e,r).next((function(a){var o=i.Ln(t,a);return(Pk(t)||Dk(t))&&i.Bn(t.limitType,o,r,n)?i.Mn(e,t):(Zy()<=Ra.DEBUG&&eg("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),zk(t)),i.Fn.getDocumentsMatchingQuery(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"Ln",value:function(e,t){var n=new Pb(Wk(e));return t.forEach((function(t,r){qk(e,r)&&(n=n.add(r))})),n}},{key:"Bn",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mn",value:function(e,t){return Zy()<=Ra.DEBUG&&eg("QueryEngine","Using full collection scan to execute query:",zk(t)),this.Fn.getDocumentsMatchingQuery(e,t,Sg.min())}}]),e}(),w_=function(){function e(t,n,r,i){Vi(this,e),this.persistence=t,this.Un=n,this.k=i,this.qn=new Ab(wg),this.Kn=new r_((function(e){return fk(e)}),hk),this.jn=Sg.min(),this.An=t.getMutationQueue(r),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new g_(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.On(this.Wn)}return w(e,[{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qn)}))}}]),e}();function x_(e,t,n,r){return new w_(e,t,n,r)}function __(e,t){return E_.apply(this,arguments)}function E_(){return E_=Ea(Ia().mark((function e(t,n){var r,i,a,o;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=og(t),i=r.An,a=r.Wn,e.next=4,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.An.getAllMutationBatches(e).next((function(o){return t=o,i=r.persistence.getMutationQueue(n),a=new g_(r.Qn,i,r.persistence.getIndexManager()),i.getAllMutationBatches(e)})).next((function(n){var r,i=[],o=[],s=Bb(),u=ji(t);try{for(u.s();!(r=u.n()).done;){var c=r.value;i.push(c.batchId);var l,f=ji(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=ji(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=ji(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return a.vn(e,s).next((function(e){return{Gn:e,removedBatchIds:i,addedBatchIds:o}}))}))}));case 4:return o=e.sent,e.abrupt("return",(r.An=i,r.Wn=a,r.Un.On(r.Wn),o));case 6:case"end":return e.stop()}}),e)}))),E_.apply(this,arguments)}function S_(e,t){var n=og(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=nx.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);ag(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((function(){return e.An.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}function I_(e){var t=og(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.He.getLastRemoteSnapshotVersion(e)}))}function T_(e,t){var n=og(e),r=t.snapshotVersion,i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.He.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.He.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(Og.EMPTY_BYTE_STRING,Sg.min()).withLastLimboFreeSnapshotVersion(Sg.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.He.updateTargetData(e,c))}}));var s=Lb();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(C_(e,a,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(Sg.min())){var u=n.He.getLastRemoteSnapshotVersion(e).next((function(t){return n.He.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(u)}return nx.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Wn.Vn(e,s)})).next((function(){return s}))})).then((function(e){return n.qn=i,e}))}function C_(e,t,n,r,i){var a=Bb();return n.forEach((function(e){return a=a.add(e)})),t.getEntries(e,a).next((function(e){var a=Lb();return n.forEach((function(n,o){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(Sg.min())?(t.removeEntry(n,u),a=a.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o,u),a=a.insert(n,o)):eg("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),a}))}function A_(e,t){var n=og(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t)}))}function N_(e,t){var n=og(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.He.getTargetData(e,t).next((function(i){return i?(r=i,nx.resolve(r)):n.He.allocateTargetId(e).next((function(i){return r=new mx(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e}))}function R_(e,t,n){return P_.apply(this,arguments)}function P_(){return P_=Ea(Ia().mark((function e(t,n,r){var i,a,o;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=og(t),a=i.qn.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),sx(e.t1)){e.next=12;break}throw e.t1;case 12:eg("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qn=i.qn.remove(n),i.Kn.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),P_.apply(this,arguments)}function D_(e,t,n){var r=og(e),i=Sg.min(),a=Bb();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=og(e),i=r.Kn.get(n);return void 0!==i?nx.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,Uk(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Un.getDocumentsMatchingQuery(e,t,n?i:Sg.min(),n?a:Bb())})).next((function(e){return{documents:e,zn:a}}))}))}function O_(e,t){var n=og(e),r=og(n.He),i=n.qn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function L_(e){var t=og(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=og(e),i=Lb(),a=bx(n),o=u_(t),s=IDBKeyRange.lowerBound(a,!0);return o.jt({index:Ww.readTimeIndex,range:s},(function(e,t){var n=gx(r.k,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{In:i,readTime:wx(a)}}))}(t.Qn,e,t.jn)})).then((function(e){var n=e.In,r=e.readTime;return t.jn=r,n}))}function M_(e){return F_.apply(this,arguments)}function F_(){return F_=Ea(Ia().mark((function e(t){var n;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=og(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=u_(e),n=Sg.min();return t.jt({index:Ww.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=wx(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.jn=e})));case 2:case"end":return e.stop()}}),e)}))),F_.apply(this,arguments)}function U_(e,t,n,r){return V_.apply(this,arguments)}function V_(){return V_=Ea(Ia().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=og(t),o=Bb(),s=Lb(),u=Vb(),c=ji(r);try{for(c.s();!(l=c.n()).done;)f=l.value,h=n.Hn(f.metadata.name),f.document&&(o=o.add(h)),s=s.insert(h,n.Jn(f)),u=u.insert(h,n.Yn(f.metadata.readTime))}catch(v){c.e(v)}finally{c.f()}return d=a.Qn.newChangeBuffer({trackRemovals:!0}),e.next=7,N_(a,function(e){return Uk(Rk(Ng.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return C_(e,d,s,Sg.min(),u).next((function(t){return d.apply(e),t})).next((function(t){return a.He.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.He.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.Wn.Vn(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),V_.apply(this,arguments)}function j_(e,t){return B_.apply(this,arguments)}function B_(){return B_=Ea(Ia().mark((function e(t,n){var r,i,a,o=arguments;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Bb(),e.next=3,N_(t,Uk(Tx(n.bundledQuery)));case 3:return i=e.sent,a=og(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=aw(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ye.saveNamedQuery(e,n);var o=i.withResumeToken(Og.EMPTY_BYTE_STRING,t);return a.qn=a.qn.insert(o.targetId,o),a.He.updateTargetData(e,o).next((function(){return a.He.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.He.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ye.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),B_.apply(this,arguments)}var z_=function(){function e(t){Vi(this,e),this.k=t,this.Xn=new Map,this.Zn=new Map}return w(e,[{key:"getBundleMetadata",value:function(e,t){return nx.resolve(this.Xn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:aw(n.createTime)}),nx.resolve()}},{key:"getNamedQuery",value:function(e,t){return nx.resolve(this.Zn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:Tx(e.bundledQuery),readTime:aw(e.readTime)}}(t)),nx.resolve()}}]),e}(),q_=function(){function e(){Vi(this,e),this.ts=new Pb(W_.es),this.ns=new Pb(W_.ss)}return w(e,[{key:"isEmpty",value:function(){return this.ts.isEmpty()}},{key:"addReference",value:function(e,t){var n=new W_(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}},{key:"rs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.os(new W_(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new Hg(new Ng([])),r=new W_(n,e),i=new W_(n,e+1),a=[];return this.ns.forEachInRange([r,i],(function(e){t.os(e),a.push(e.key)})),a}},{key:"hs",value:function(){var e=this;this.ts.forEach((function(t){return e.os(t)}))}},{key:"os",value:function(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}},{key:"ls",value:function(e){var t=new Hg(new Ng([])),n=new W_(t,e),r=new W_(t,e+1),i=Bb();return this.ns.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new W_(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),W_=function(){function e(t,n){Vi(this,e),this.key=t,this.fs=n}return w(e,null,[{key:"es",value:function(e,t){return Hg.comparator(e.key,t.key)||wg(e.fs,t.fs)}},{key:"ss",value:function(e,t){return wg(e.fs,t.fs)||Hg.comparator(e.key,t.key)}}]),e}(),H_=function(){function e(t,n){Vi(this,e),this.Jt=t,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new Pb(W_.es)}return w(e,[{key:"checkEmpty",value:function(e){return nx.resolve(0===this.An.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];var a=new px(i,t,n,r);this.An.push(a);var o,s=ji(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.ws=this.ws.add(new W_(u.key,i)),this.Jt.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return nx.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return nx.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.gs(n),i=r<0?0:r;return nx.resolve(this.An.length>i?this.An[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return nx.resolve(0===this.An.length?-1:this.ds-1)}},{key:"getAllMutationBatches",value:function(e){return nx.resolve(this.An.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new W_(t,0),i=new W_(t,Number.POSITIVE_INFINITY),a=[];return this.ws.forEachInRange([r,i],(function(e){var t=n._s(e.fs);a.push(t)})),nx.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Pb(wg);return t.forEach((function(e){var t=new W_(e,0),i=new W_(e,Number.POSITIVE_INFINITY);n.ws.forEachInRange([t,i],(function(e){r=r.add(e.fs)}))})),nx.resolve(this.ys(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Hg.isDocumentKey(i)||(i=i.child(""));var a=new W_(new Hg(i),0),o=new Pb(wg);return this.ws.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.fs)),!0)}),a),nx.resolve(this.ys(o))}},{key:"ys",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;ag(0===this.ps(t.batchId,"removed")),this.An.shift();var r=this.ws;return nx.forEach(t.mutations,(function(i){var a=new W_(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ws=r}))}},{key:"ee",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new W_(t,0),r=this.ws.firstAfterOrEqual(n);return nx.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.An.length,nx.resolve()}},{key:"ps",value:function(e,t){return this.gs(e)}},{key:"gs",value:function(e){return 0===this.An.length?0:e-this.An[0].batchId}},{key:"_s",value:function(e){var t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}]),e}(),K_=function(){function e(t,n){Vi(this,e),this.Jt=t,this.Ts=n,this.docs=new Ab(Hg.comparator),this.size=0}return w(e,[{key:"addEntry",value:function(e,t,n){var r=t.key,i=this.docs.get(r),a=i?i.size:0,o=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o,readTime:n}),this.size+=o-a,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return nx.resolve(n?n.document.mutableCopy():uk.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Lb();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():uk.newInvalidDocument(e))})),nx.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){for(var r=Lb(),i=new Hg(t.path.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||qk(t,c)&&(r=r.insert(c.key,c.mutableCopy()))}return nx.resolve(r)}},{key:"Es",value:function(e,t){return nx.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new G_(this)}},{key:"getSize",value:function(e){return nx.resolve(this.size)}}]),e}(),G_=function(e){Bi(n,e);var t=Hi(n);function n(e){var r;return Vi(this,n),(r=t.call(this)).De=e,r}return w(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.De.addEntry(e,i.document,t.getReadTime(r))):t.De.removeEntry(r)})),nx.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.De.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.De.getEntries(e,t)}}]),n}(i_),Q_=function(){function e(t){Vi(this,e),this.persistence=t,this.Is=new r_((function(e){return fk(e)}),hk),this.lastRemoteSnapshotVersion=Sg.min(),this.highestTargetId=0,this.As=0,this.Rs=new q_,this.targetCount=0,this.bs=Wx.ie()}return w(e,[{key:"forEachTarget",value:function(e,t){return this.Is.forEach((function(e,n){return t(n)})),nx.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return nx.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return nx.resolve(this.As)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.bs.next(),nx.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),nx.resolve()}},{key:"ce",value:function(e){this.Is.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.bs=new Wx(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.ce(t),this.targetCount+=1,nx.resolve()}},{key:"updateTargetData",value:function(e,t){return this.ce(t),nx.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,nx.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Is.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Is.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),nx.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return nx.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Is.get(t)||null;return nx.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Rs.rs(t,n),nx.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Rs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),nx.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Rs.us(t),nx.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Rs.ls(t);return nx.resolve(n)}},{key:"containsKey",value:function(e,t){return nx.resolve(this.Rs.containsKey(t))}}]),e}(),Y_=function(){function e(t,n){var r=this;Vi(this,e),this.Ps={},this.Be=new gg(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new Q_(this),this.Jt=new Rx,this.Je=function(e,t){return new K_(e,(function(e){return r.referenceDelegate.vs(e)}))}(this.Jt),this.k=new yx(n),this.Ye=new z_(this.k)}return w(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ue=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ue}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getMutationQueue",value:function(e){var t=this.Ps[e.toKey()];return t||(t=new H_(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;eg("MemoryPersistence","Starting transaction:",e);var i=new $_(this.Be.next());return this.referenceDelegate.Vs(),n(i).next((function(e){return r.referenceDelegate.Ss(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ds",value:function(e,t){return nx.or(Object.values(this.Ps).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),$_=function(e){Bi(n,e);var t=Hi(n);function n(e){var r;return Vi(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return w(n)}(tx),J_=function(){function e(t){Vi(this,e),this.persistence=t,this.Cs=new q_,this.Ns=null}return w(e,[{key:"xs",get:function(){if(this.Ns)return this.Ns;throw ig()}},{key:"addReference",value:function(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),nx.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),nx.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.xs.add(t.toString()),nx.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Cs.us(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Vs",value:function(){this.Ns=new Set}},{key:"Ss",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nx.forEach(this.xs,(function(r){var i=Hg.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Ns=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))}},{key:"vs",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return nx.or([function(){return nx.resolve(n.Cs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ds(e,t)}])}}],[{key:"ks",value:function(t){return new e(t)}}]),e}();function X_(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Z_(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function eE(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var tE=function(){function e(t,n,r,i){Vi(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return w(e,[{key:"Fs",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Os",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new ug(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(tg("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),nE=function(){function e(t,n,r){Vi(this,e),this.targetId=t,this.state=n,this.error=r}return w(e,[{key:"Fs",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Os",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new ug(i.error.code,i.error.message))),a?new e(t,i.state,r):(tg("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),rE=function(){function e(t,n){Vi(this,e),this.clientId=t,this.activeTargetIds=n}return w(e,null,[{key:"Os",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=qb(),o=0;i&&o<r.activeTargetIds.length;++o)i=Wg(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(tg("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),iE=function(){function e(t,n){Vi(this,e),this.clientId=t,this.onlineState=n}return w(e,null,[{key:"Os",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(tg("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),aE=function(){function e(){Vi(this,e),this.activeTargetIds=qb()}return w(e,[{key:"Ms",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ls",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Fs",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),oE=function(){function e(t,n,r,i,a){Vi(this,e),this.window=t,this.Fe=n,this.persistenceKey=r,this.Bs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new Ab(wg),this.started=!1,this.js=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Qs=X_(this.persistenceKey,this.Bs),this.Ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Ks=this.Ks.insert(this.Bs,new aE),this.Gs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.zs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Hs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Js=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Ys=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}return w(e,[{key:"start",value:function(){var e=Ea(Ia().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Tn();case 2:t=e.sent,n=ji(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Bs){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(X_(this.persistenceKey,i)))&&(o=rE.Os(i,a))&&(this.Ks=this.Ks.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Xs(),(s=this.storage.getItem(this.Js))&&(u=this.Zs(s))&&this.ti(u),c=ji(this.js);try{for(c.s();!(l=c.n()).done;)f=l.value,this.qs(f)}catch(d){c.e(d)}finally{c.f()}this.js=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ws,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.ei(this.Ks)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.Ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.ni(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.ni(e,t,n),this.si(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(eE(this.persistenceKey,e));if(n){var r=nE.Os(e,n);r&&(t=r.state)}}return this.ii.Ms(e),this.Xs(),t}},{key:"removeLocalQueryTarget",value:function(e){this.ii.Ls(e),this.Xs()}},{key:"isLocalQueryTarget",value:function(e){return this.ii.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(eE(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.ri(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.si(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.oi(e)}},{key:"notifyBundleLoaded",value:function(){this.ai()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return eg("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){eg("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){eg("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"qs",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(eg("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void tg("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Fe.enqueueRetryable(Ea(Ia().mark((function e(){var r,i,a,o,s,u;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Gs.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.ci(n.key),e.abrupt("return",t.ui(r,null));case 6:if(!(i=t.hi(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.ui(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.zs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.li(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.fi(a));case 16:e.next=39;break;case 18:if(!t.Hs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.di(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.wi(o));case 23:e.next=39;break;case 25:if(n.key!==t.Js){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.Zs(n.newValue))){e.next=30;break}return e.abrupt("return",t.ti(s));case 30:e.next=39;break;case 32:if(n.key!==t.Ws){e.next=37;break}u=function(e){var t=gg.I;if(null!=e)try{var n=JSON.parse(e);ag("number"==typeof n),t=n}catch(e){tg("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==gg.I&&t.sequenceNumberHandler(u),e.next=39;break;case 37:if(n.key!==t.Ys){e.next=39;break}return e.abrupt("return",t.syncEngine._i());case 39:e.next=42;break;case 41:t.js.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"ii",get:function(){return this.Ks.get(this.Bs)}},{key:"Xs",value:function(){this.setItem(this.Qs,this.ii.Fs())}},{key:"ni",value:function(e,t,n){var r=new tE(this.currentUser,e,t,n),i=Z_(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Fs())}},{key:"si",value:function(e){var t=Z_(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"oi",value:function(e){var t={clientId:this.Bs,onlineState:e};this.storage.setItem(this.Js,JSON.stringify(t))}},{key:"ri",value:function(e,t,n){var r=eE(this.persistenceKey,e),i=new nE(e,t,n);this.setItem(r,i.Fs())}},{key:"ai",value:function(){this.setItem(this.Ys,"value-not-used")}},{key:"ci",value:function(e){var t=this.Gs.exec(e);return t?t[1]:null}},{key:"hi",value:function(e,t){var n=this.ci(e);return rE.Os(n,t)}},{key:"li",value:function(e,t){var n=this.zs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return tE.Os(new $y(i),r,t)}},{key:"di",value:function(e,t){var n=this.Hs.exec(e),r=Number(n[1]);return nE.Os(r,t)}},{key:"Zs",value:function(e){return iE.Os(e)}},{key:"fi",value:function(){var e=Ea(Ia().mark((function e(t){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.mi(t.batchId,t.state,t.error));case 2:eg("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wi",value:function(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}},{key:"ui",value:function(e,t){var n=this,r=t?this.Ks.insert(e,t):this.Ks.remove(e),i=this.ei(this.Ks),a=this.ei(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.yi(o,s).then((function(){n.Ks=r}))}},{key:"ti",value:function(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"ei",value:function(e){var t=qb();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"Pt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),sE=function(){function e(){Vi(this,e),this.pi=new aE,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return w(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ti[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.pi.Ls(e)}},{key:"isLocalQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ti[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.pi.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"start",value:function(){return this.pi=new aE,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),uE=function(){function e(){Vi(this,e)}return w(e,[{key:"Ei",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),cE=function(){function e(){var t=this;Vi(this,e),this.Ii=function(){return t.Ai()},this.Ri=function(){return t.bi()},this.Pi=[],this.vi()}return w(e,[{key:"Ei",value:function(e){this.Pi.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}},{key:"vi",value:function(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}},{key:"Ai",value:function(){eg("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=ji(this.Pi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"bi",value:function(){eg("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=ji(this.Pi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"Pt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),lE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},fE=function(){function e(t){Vi(this,e),this.Vi=t.Vi,this.Si=t.Si}return w(e,[{key:"Di",value:function(e){this.Ci=e}},{key:"Ni",value:function(e){this.ki=e}},{key:"onMessage",value:function(e){this.xi=e}},{key:"close",value:function(){this.Si()}},{key:"send",value:function(e){this.Vi(e)}},{key:"$i",value:function(){this.Ci()}},{key:"Oi",value:function(e){this.ki(e)}},{key:"Fi",value:function(e){this.xi(e)}}]),e}(),hE=function(e){Bi(n,e);var t=Hi(n);function n(e){var r;return Vi(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return w(n,[{key:"Ki",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Qy;o.listenOnce(qy.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case zy.NO_ERROR:var t=o.getResponseJson();eg("Connection","XHR received:",JSON.stringify(t)),i(t);break;case zy.TIMEOUT:eg("Connection",'RPC "'+e+'" timed out'),a(new ug(sg.DEADLINE_EXCEEDED,"Request time out"));break;case zy.HTTP_ERROR:var n=o.getStatus();if(eg("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(sg).indexOf(t)>=0?t:sg.UNKNOWN}(r.status);a(new ug(s,r.message))}else a(new ug(sg.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new ug(sg.UNAVAILABLE,"Connection failed."));break;default:ig()}}finally{eg("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"Qi",value:function(e,t,n){var r=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=jy(),a=By(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Ky({})),this.qi(o.initMessageHeaders,t,n),ra()||oa()||na().indexOf("Electron/")>=0||sa()||na().indexOf("MSAppHost/")>=0||aa()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");eg("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new fE({Vi:function(e){l?eg("Connection","Not sending because WebChannel is closed:",e):(c||(eg("Connection","Opening WebChannel transport."),u.open(),c=!0),eg("Connection","WebChannel sending:",e),u.send(e))},Si:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,Gy.EventType.OPEN,(function(){l||eg("Connection","WebChannel transport opened.")})),h(u,Gy.EventType.CLOSE,(function(){l||(l=!0,eg("Connection","WebChannel transport closed"),f.Oi())})),h(u,Gy.EventType.ERROR,(function(e){l||(l=!0,ng("Connection","WebChannel transport errored:",e),f.Oi(new ug(sg.UNAVAILABLE,"The operation could not be completed")))})),h(u,Gy.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];ag(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){eg("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=xb[e];if(void 0!==t)return Cb(t)}(a),s=i.message;void 0===o&&(o=sg.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.Oi(new ug(o,s)),u.close()}else eg("Connection","WebChannel received:",n),f.Fi(n)}})),h(a,Wy.STAT_EVENT,(function(e){e.stat===Hy.PROXY?eg("Connection","Detected buffering proxy"):e.stat===Hy.NOPROXY&&eg("Connection","Detected no buffering proxy")})),setTimeout((function(){f.$i()}),0),f}}]),n}(function(){function e(t){Vi(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Mi=n+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return w(e,[{key:"Bi",value:function(e,t,n,r,i){var a=this.Ui(e,t);eg("RestConnection","Sending: ",a,n);var o={};return this.qi(o,r,i),this.Ki(e,a,o,n).then((function(e){return eg("RestConnection","Received: ",e),e}),(function(t){throw ng("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ji",value:function(e,t,n,r,i){return this.Bi(e,t,n,r,i)}},{key:"qi",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Jy,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Ui",value:function(e,t){var n=lE[e];return"".concat(this.Mi,"/v1/").concat(t,":").concat(n)}}]),e}());function dE(){return"undefined"!=typeof window?window:null}function pE(){return"undefined"!=typeof document?document:null}function vE(e){return new tw(e,!0)}var mE=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Vi(this,e),this.Fe=t,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=a,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}return w(e,[{key:"reset",value:function(){this.Hi=0}},{key:"Xi",value:function(){this.Hi=this.zi}},{key:"Zi",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&eg("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Hi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ji=this.Fe.enqueueAfterDelay(this.timerId,i,(function(){return t.Yi=Date.now(),e()})),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}},{key:"er",value:function(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}},{key:"cancel",value:function(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}},{key:"tr",value:function(){return(Math.random()-.5)*this.Hi}}]),e}(),yE=function(){function e(t,n,r,i,a,o,s,u){Vi(this,e),this.Fe=t,this.nr=r,this.sr=i,this.ir=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new mE(t,n)}return w(e,[{key:"hr",value:function(){return 1===this.state||5===this.state||this.lr()}},{key:"lr",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.dr()}},{key:"stop",value:function(){var e=Ea(Ia().mark((function e(){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.hr(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wr",value:function(){this.state=0,this.ur.reset()}},{key:"_r",value:function(){var e=this;this.lr()&&null===this.ar&&(this.ar=this.Fe.enqueueAfterDelay(this.nr,6e4,(function(){return e.mr()})))}},{key:"gr",value:function(e){this.yr(),this.stream.send(e)}},{key:"mr",value:function(){var e=Ea(Ia().mark((function e(){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.lr()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yr",value:function(){this.ar&&(this.ar.cancel(),this.ar=null)}},{key:"pr",value:function(){this.cr&&(this.cr.cancel(),this.cr=null)}},{key:"close",value:function(){var e=Ea(Ia().mark((function e(t,n){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==t?this.ur.reset():n&&n.code===sg.RESOURCE_EXHAUSTED?(tg(n.toString()),tg("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):n&&n.code===sg.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Ni(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Tr",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=u(t,2),i=r[0],a=r[1];e.rr===n&&e.Ir(i,a)}),(function(n){t((function(){var t=new ug(sg.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ar(t)}))}))}},{key:"Ir",value:function(e,t){var n=this,r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di((function(){r((function(){return n.state=2,n.cr=n.Fe.enqueueAfterDelay(n.sr,1e4,(function(){return n.lr()&&(n.state=3),Promise.resolve()})),n.listener.Di()}))})),this.stream.Ni((function(e){r((function(){return n.Ar(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"dr",value:function(){var e=this;this.state=5,this.ur.Zi(Ea(Ia().mark((function t(){return Ia().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ar",value:function(e){return eg("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Er",value:function(e){var t=this;return function(n){t.Fe.enqueueAndForget((function(){return t.rr===e?n():(eg("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),gE=function(e){Bi(n,e);var t=Hi(n);function n(e,r,i,a,o,s){var u;return Vi(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).k=o,u}return w(n,[{key:"Rr",value:function(e,t){return this.ir.Qi("Listen",e,t)}},{key:"onMessage",value:function(e){this.ur.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ig()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.C?(ag(void 0===t||"string"==typeof t),Og.fromBase64String(t||"")):(ag(void 0===t||t instanceof Uint8Array),Og.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?sg.UNKNOWN:Cb(e.code);return new ug(t,e.message||"")}(o);n=new Qb(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=cw(e,u.document.name),l=aw(u.document.updateTime),f=new ok({mapValue:{fields:u.document.fields}}),h=uk.newFoundDocument(c,l,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new Kb(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=cw(e,v.document),y=v.readTime?aw(v.readTime):Sg.min(),g=uk.newNoDocument(m,y),k=v.removedTargetIds||[];n=new Kb([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=cw(e,b.document),x=b.removedTargetIds||[];n=new Kb([],x,w,null)}else{if(!("filter"in t))return ig();t.filter;var _=t.filter;_.targetId;var E=_.count||0,S=new Ib(E),I=_.targetId;n=new Gb(I,S)}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return Sg.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Sg.min():t.readTime?aw(t.readTime):Sg.min()}(e);return this.listener.br(t,n)}},{key:"Pr",value:function(e){var t={};t.database=hw(this.k),t.addTarget=function(e,t){var n,r=t.target;return(n=dk(r)?{documents:kw(e,r)}:{query:bw(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=rw(e,t.resumeToken):t.snapshotVersion.compareTo(Sg.min())>0&&(n.readTime=nw(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ig()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}},{key:"vr",value:function(e){var t={};t.database=hw(this.k),t.removeTarget=e,this.gr(t)}}]),n}(yE),kE=function(e){Bi(n,e);var t=Hi(n);function n(e,r,i,a,o,s){var u;return Vi(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).k=o,u.Vr=!1,u}return w(n,[{key:"Sr",get:function(){return this.Vr}},{key:"start",value:function(){this.Vr=!1,this.lastStreamToken=void 0,Eo(zi(n.prototype),"start",this).call(this)}},{key:"Tr",value:function(){this.Vr&&this.Dr([])}},{key:"Rr",value:function(e,t){return this.ir.Qi("Write",e,t)}},{key:"onMessage",value:function(e){if(ag(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();var t=function(e,t){return e&&e.length>0?(ag(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?aw(e.updateTime):aw(t);return n.isEqual(Sg.min())&&(n=aw(t)),new ub(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=aw(e.commitTime);return this.listener.Cr(n,t)}return ag(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}},{key:"kr",value:function(){var e={};e.database=hw(this.k),this.gr(e)}},{key:"Dr",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return yw(t.k,e)}))};this.gr(n)}}]),n}(yE),bE=function(e){Bi(n,e);var t=Hi(n);function n(e,r,i,a){var o;return Vi(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.ir=i,o.k=a,o.$r=!1,o}return w(n,[{key:"Or",value:function(){if(this.$r)throw new ug(sg.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Bi",value:function(e,t,n){var r=this;return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=u(i,2),o=a[0],s=a[1];return r.ir.Bi(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===sg.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new ug(sg.UNKNOWN,e.toString())}))}},{key:"ji",value:function(e,t,n){var r=this;return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=u(i,2),o=a[0],s=a[1];return r.ir.ji(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===sg.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new ug(sg.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.$r=!0}}]),n}(function(){return w((function e(){Vi(this,e)}))}()),wE=function(){function e(t,n){Vi(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Fr=0,this.Mr=null,this.Lr=!0}return w(e,[{key:"Br",value:function(){var e=this;0===this.Fr&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Mr=null,e.qr("Backend didn't respond within 10 seconds."),e.Ur("Offline"),Promise.resolve()})))}},{key:"Kr",value:function(e){"Online"===this.state?this.Ur("Unknown"):(this.Fr++,this.Fr>=1&&(this.jr(),this.qr("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Ur("Offline")))}},{key:"set",value:function(e){this.jr(),this.Fr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}},{key:"Ur",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"qr",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Lr?(tg(t),this.Lr=!1):eg("OnlineStateTracker",t)}},{key:"jr",value:function(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}]),e}(),xE=w((function e(t,n,r,i,a){var o=this;Vi(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=a,this.Hr.Ei((function(e){r.enqueueAndForget(Ea(Ia().mark((function e(){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=DE(o),!e.t0){e.next=5;break}return eg("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Ea(Ia().mark((function e(t){var n;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=og(t)).Gr.add(4),e.next=4,SE(n);case 4:return n.Jr.set("Unknown"),n.Gr.delete(4),e.next=8,_E(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Jr=new wE(r,i)}));function _E(e){return EE.apply(this,arguments)}function EE(){return EE=Ea(Ia().mark((function e(t){var n,r,i;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!DE(t)){e.next=18;break}n=ji(t.zr),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),EE.apply(this,arguments)}function SE(e){return IE.apply(this,arguments)}function IE(){return IE=Ea(Ia().mark((function e(t){var n,r,i;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ji(t.zr),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),IE.apply(this,arguments)}function TE(e,t){var n=og(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),PE(n)?RE(n):oS(n).lr()&&AE(n,t))}function CE(e,t){var n=og(e),r=oS(n);n.Wr.delete(t),r.lr()&&NE(n,t),0===n.Wr.size&&(r.lr()?r._r():DE(n)&&n.Jr.set("Unknown"))}function AE(e,t){e.Yr.X(t.targetId),oS(e).Pr(t)}function NE(e,t){e.Yr.X(t),oS(e).vr(t)}function RE(e){e.Yr=new $b({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.Wr.get(t)||null}}),oS(e).start(),e.Jr.Br()}function PE(e){return DE(e)&&!oS(e).hr()&&e.Wr.size>0}function DE(e){return 0===og(e).Gr.size}function OE(e){e.Yr=void 0}function LE(e){return ME.apply(this,arguments)}function ME(){return ME=Ea(Ia().mark((function e(t){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Wr.forEach((function(e,n){AE(t,e)}));case 1:case"end":return e.stop()}}),e)}))),ME.apply(this,arguments)}function FE(e,t){return UE.apply(this,arguments)}function UE(){return UE=Ea(Ia().mark((function e(t,n){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:OE(t),PE(t)?(t.Jr.Kr(n),RE(t)):t.Jr.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),UE.apply(this,arguments)}function VE(e,t,n){return jE.apply(this,arguments)}function jE(){return jE=Ea(Ia().mark((function e(t,n,r){var i;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Jr.set("Online"),!(n instanceof Qb&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Ea(Ia().mark((function e(t,n){var r,i,a,o;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=ji(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Wr.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Wr.delete(o),t.Yr.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),eg("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,BE(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Kb?t.Yr.ot(n):n instanceof Gb?t.Yr.dt(n):t.Yr.ut(n),r.isEqual(Sg.min())){e.next=29;break}return e.prev=14,e.next=17,I_(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Yr.gt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Wr.get(t);if(n){e.Wr.set(t,n.withResumeToken(Og.EMPTY_BYTE_STRING,n.snapshotVersion)),NE(e,t);var r=new mx(n.target,t,1,n.sequenceNumber);AE(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),eg("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,BE(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),jE.apply(this,arguments)}function BE(e,t,n){return zE.apply(this,arguments)}function zE(){return zE=Ea(Ia().mark((function e(t,n,r){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(sx(n)){e.next=2;break}throw n;case 2:return t.Gr.add(1),e.next=5,SE(t);case 5:t.Jr.set("Offline"),r||(r=function(){return I_(t.localStore)}),t.asyncQueue.enqueueRetryable(Ea(Ia().mark((function e(){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return eg("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Gr.delete(1),e.next=6,_E(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),zE.apply(this,arguments)}function qE(e,t){return t().catch((function(n){return BE(e,n,t)}))}function WE(e){return HE.apply(this,arguments)}function HE(){return HE=Ea(Ia().mark((function e(t){var n,r,i,a;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=og(t),r=sS(n),i=n.Qr.length>0?n.Qr[n.Qr.length-1].batchId:-1;case 2:if(!KE(n)){e.next=19;break}return e.prev=3,e.next=6,A_(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Qr.length&&r._r(),e.abrupt("break",19);case 10:i=a.batchId,GE(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,BE(n,e.t0);case 17:e.next=2;break;case 19:QE(n)&&YE(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),HE.apply(this,arguments)}function KE(e){return DE(e)&&e.Qr.length<10}function GE(e,t){e.Qr.push(t);var n=sS(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function QE(e){return DE(e)&&!sS(e).hr()&&e.Qr.length>0}function YE(e){sS(e).start()}function $E(e){return JE.apply(this,arguments)}function JE(){return JE=Ea(Ia().mark((function e(t){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:sS(t).kr();case 1:case"end":return e.stop()}}),e)}))),JE.apply(this,arguments)}function XE(e){return ZE.apply(this,arguments)}function ZE(){return ZE=Ea(Ia().mark((function e(t){var n,r,i,a;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=sS(t),r=ji(t.Qr);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Dr(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),ZE.apply(this,arguments)}function eS(e,t,n){return tS.apply(this,arguments)}function tS(){return tS=Ea(Ia().mark((function e(t,n,r){var i,a;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Qr.shift(),a=vx.from(i,n,r),e.next=3,qE(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,WE(t);case 5:case"end":return e.stop()}}),e)}))),tS.apply(this,arguments)}function nS(e,t){return rS.apply(this,arguments)}function rS(){return rS=Ea(Ia().mark((function e(t,n){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&sS(t).Sr,!e.t0){e.next=4;break}return e.next=4,function(){var e=Ea(Ia().mark((function e(t,n){var r,i;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Tb(i=n.code)||i===sg.ABORTED){e.next=7;break}return r=t.Qr.shift(),sS(t).wr(),e.next=5,qE(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,WE(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:QE(t)&&YE(t);case 5:case"end":return e.stop()}}),e)}))),rS.apply(this,arguments)}function iS(e,t){return aS.apply(this,arguments)}function aS(){return aS=Ea(Ia().mark((function e(t,n){var r;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=og(t),!n){e.next=7;break}return r.Gr.delete(2),e.next=5,_E(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Gr.add(2),e.next=12,SE(r);case 12:r.Jr.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),aS.apply(this,arguments)}function oS(e){return e.Xr||(e.Xr=function(e,t,n){var r=og(e);return r.Or(),new gE(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:LE.bind(null,e),Ni:FE.bind(null,e),br:VE.bind(null,e)}),e.zr.push(function(){var t=Ea(Ia().mark((function t(n){return Ia().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Xr.wr(),PE(e)?RE(e):e.Jr.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Xr.stop();case 6:OE(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Xr}function sS(e){return e.Zr||(e.Zr=function(e,t,n){var r=og(e);return r.Or(),new kE(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:$E.bind(null,e),Ni:nS.bind(null,e),Nr:XE.bind(null,e),Cr:eS.bind(null,e)}),e.zr.push(function(){var t=Ea(Ia().mark((function t(n){return Ia().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Zr.wr(),t.next=4,WE(e);case 4:t.next=9;break;case 6:return t.next=8,e.Zr.stop();case 8:e.Qr.length>0&&(eg("RemoteStore","Stopping write stream with ".concat(e.Qr.length," pending writes")),e.Qr=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Zr}var uS=function(){function e(t,n,r,i,a){Vi(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new cg,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return w(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ug(sg.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function cS(e,t){if(tg("AsyncQueue","".concat(t,": ").concat(e)),sx(e))return new ug(sg.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var lS=function(){function e(t){Vi(this,e),this.comparator=t?function(e,n){return t(e,n)||Hg.comparator(e.key,n.key)}:function(e,t){return Hg.comparator(e.key,t.key)},this.keyedMap=Fb(),this.sortedSet=new Ab(this.comparator)}return w(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),fS=function(){function e(){Vi(this,e),this.eo=new Ab(Hg.comparator)}return w(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):ig():this.eo=this.eo.insert(t,e)}},{key:"no",value:function(){var e=[];return this.eo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),hS=function(){function e(t,n,r,i,a,o,s,u){Vi(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return w(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jk(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,lS.emptySet(n),a,r,i,!0,!1)}}]),e}(),dS=w((function e(){Vi(this,e),this.so=void 0,this.listeners=[]})),pS=w((function e(){Vi(this,e),this.queries=new r_((function(e){return Bk(e)}),jk),this.onlineState="Unknown",this.io=new Set}));function vS(e,t){return mS.apply(this,arguments)}function mS(){return mS=Ea(Ia().mark((function e(t,n){var r,i,a,o,s;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=og(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new dS),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.so=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=cS(e.t0,"Initialization of query '".concat(zk(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.ro(r.onlineState),o.so&&n.oo(o.so)&&wS(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),mS.apply(this,arguments)}function yS(e,t){return gS.apply(this,arguments)}function gS(){return gS=Ea(Ia().mark((function e(t,n){var r,i,a,o,s;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=og(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),gS.apply(this,arguments)}function kS(e,t){var n,r=og(e),i=!1,a=ji(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=ji(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.oo(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.so=o}}}catch(f){a.e(f)}finally{a.f()}i&&wS(r)}function bS(e,t,n){var r=og(e),i=r.queries.get(t);if(i){var a,o=ji(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function wS(e){e.io.forEach((function(e){e.next()}))}var xS=function(){function e(t,n,r){Vi(this,e),this.query=t,this.ao=n,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}return w(e,[{key:"oo",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=ji(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new hS(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.co?this.ho(e)&&(this.ao.next(e),a=!0):this.lo(e,this.onlineState)&&(this.fo(e),a=!0),this.uo=e,a}},{key:"onError",value:function(e){this.ao.error(e)}},{key:"ro",value:function(e){this.onlineState=e;var t=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}},{key:"lo",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.wo||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"ho",value:function(e){if(e.docChanges.length>0)return!0;var t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"fo",value:function(e){e=hS.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}]),e}(),_S=function(){function e(t,n){Vi(this,e),this.payload=t,this.byteLength=n}return w(e,[{key:"_o",value:function(){return"metadata"in this.payload}}]),e}(),ES=function(){function e(t){Vi(this,e),this.k=t}return w(e,[{key:"Hn",value:function(e){return cw(this.k,e)}},{key:"Jn",value:function(e){return e.metadata.exists?vw(this.k,e.document,!1):uk.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}},{key:"Yn",value:function(e){return aw(e)}}]),e}(),SS=function(){function e(t,n,r){Vi(this,e),this.mo=t,this.localStore=n,this.k=r,this.queries=[],this.documents=[],this.progress=IS(t)}return w(e,[{key:"yo",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"po",value:function(e){var t,n=new Map,r=new ES(this.k),i=ji(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Hn(a.metadata.name),u=ji(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||Bb()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Ea(Ia().mark((function e(){var t,n,r,i,a;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U_(this.localStore,new ES(this.k),this.documents,this.mo.id);case 2:t=e.sent,n=this.po(this.documents),r=ji(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,j_(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new y_(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function IS(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var TS=w((function e(t){Vi(this,e),this.key=t})),CS=w((function e(t){Vi(this,e),this.key=t})),AS=function(){function e(t,n){Vi(this,e),this.query=t,this.To=n,this.Eo=null,this.current=!1,this.Io=Bb(),this.mutatedKeys=Bb(),this.Ao=Wk(t),this.Ro=new lS(this.Ao)}return w(e,[{key:"bo",get:function(){return this.To}},{key:"Po",value:function(e,t){var n=this,r=t?t.vo:new fS,i=t?t.Ro:this.Ro,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u=Pk(this.query)&&i.size===this.query.limit?i.last():null,c=Dk(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=qk(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Vo(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Ao(f,u)>0||c&&n.Ao(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),Pk(this.query)||Dk(this.query))for(;o.size>this.query.limit;){var l=Pk(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Ro:o,vo:r,Bn:s,mutatedKeys:a}}},{key:"Vo",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;var a=e.vo.no();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ig()}};return n(e)-n(t)}(e.type,t.type)||r.Ao(e.doc,t.doc)})),this.So(n);var o=t?this.Do():[],s=0===this.Io.size&&this.current?1:0,u=s!==this.Eo;return this.Eo=s,0!==a.length||u?{snapshot:new hS(this.query,e.Ro,i,a,e.mutatedKeys,0===s,u,!1),Co:o}:{Co:o}}},{key:"ro",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new fS,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}},{key:"No",value:function(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}},{key:"So",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.To=t.To.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.To=t.To.delete(e)})),this.current=e.current)}},{key:"Do",value:function(){var e=this;if(!this.current)return[];var t=this.Io;this.Io=Bb(),this.Ro.forEach((function(t){e.No(t.key)&&(e.Io=e.Io.add(t.key))}));var n=[];return t.forEach((function(t){e.Io.has(t)||n.push(new CS(t))})),this.Io.forEach((function(e){t.has(e)||n.push(new TS(e))})),n}},{key:"ko",value:function(e){this.To=e.zn,this.Io=Bb();var t=this.Po(e.documents);return this.applyChanges(t,!0)}},{key:"xo",value:function(){return hS.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}]),e}(),NS=w((function e(t,n,r){Vi(this,e),this.query=t,this.targetId=n,this.view=r})),RS=w((function e(t){Vi(this,e),this.key=t,this.$o=!1})),PS=function(){function e(t,n,r,i,a,o){Vi(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Oo={},this.Fo=new r_((function(e){return Bk(e)}),jk),this.Mo=new Map,this.Lo=new Set,this.Bo=new Ab(Hg.comparator),this.Uo=new Map,this.qo=new q_,this.Ko={},this.jo=new Map,this.Qo=Wx.re(),this.onlineState="Unknown",this.Wo=void 0}return w(e,[{key:"isPrimaryClient",get:function(){return!0===this.Wo}}]),e}();function DS(e,t){return OS.apply(this,arguments)}function OS(){return OS=Ea(Ia().mark((function e(t,n){var r,i,a,o,s,u;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=II(t),!(o=r.Fo.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.xo(),e.next=15;break;case 6:return e.next=8,N_(r.localStore,Uk(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,LS(r,n,i,"current"===u);case 13:a=e.sent,r.isPrimaryClient&&TE(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),OS.apply(this,arguments)}function LS(e,t,n,r){return MS.apply(this,arguments)}function MS(){return MS=Ea(Ia().mark((function e(t,n,r,i){var a,o,s,u,c,l;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Go=function(e,n,r){return function(){var e=Ea(Ia().mark((function e(t,n,r,i){var a,o,s;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Po(r),e.t0=a.Bn,!e.t0){e.next=6;break}return e.next=5,D_(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Po(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(nI(t,n.targetId,s.Co),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,D_(t.localStore,n,!0);case 3:return a=e.sent,o=new AS(n,a.zn),s=o.Po(a.documents),u=Hb.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,u),nI(t,r,c.Co),l=new NS(n,r,o),e.abrupt("return",(t.Fo.set(n,l),t.Mo.has(r)?t.Mo.get(r).push(n):t.Mo.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),MS.apply(this,arguments)}function FS(e,t){return US.apply(this,arguments)}function US(){return US=Ea(Ia().mark((function e(t,n){var r,i,a;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=og(t),i=r.Fo.get(n),!((a=r.Mo.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Mo.set(i.targetId,a.filter((function(e){return!jk(e,n)}))),void r.Fo.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,R_(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),CE(r.remoteStore,i.targetId),eI(r,i.targetId)})).catch(Yx);case 9:e.next=14;break;case 11:return eI(r,i.targetId),e.next=14,R_(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),US.apply(this,arguments)}function VS(e,t,n){return jS.apply(this,arguments)}function jS(){return jS=Ea(Ia().mark((function e(t,n,r){var i,a,o;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=TI(t),e.prev=1,e.next=4,function(e,t){var n,r=og(e),i=Eg.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Bb());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Wn.vn(e,a).next((function(a){n=a;var o,s=[],u=ji(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=pb(c,n.get(c.key));null!=l&&s.push(new gb(c.key,l,sk(l.value.mapValue),cb.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return r.An.addMutationBatch(e,i,s,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Ko[e.currentUser.toKey()];r||(r=new Ab(wg)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,aI(i,a.changes);case 9:return e.next=11,WE(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=cS(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),jS.apply(this,arguments)}function BS(e,t){return zS.apply(this,arguments)}function zS(){return zS=Ea(Ia().mark((function e(t,n){var r,i;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=og(t),e.prev=1,e.next=4,T_(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Uo.get(t);n&&(ag(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.$o=!0:e.modifiedDocuments.size>0?ag(n.$o):e.removedDocuments.size>0&&(ag(n.$o),n.$o=!1))})),e.next=8,aI(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Yx(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),zS.apply(this,arguments)}function qS(e,t,n){var r=og(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Fo.forEach((function(e,n){var r=n.view.ro(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=og(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=ji(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.ro(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&wS(n)}(r.eventManager,t),i.length&&r.Oo.br(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function WS(e,t,n){return HS.apply(this,arguments)}function HS(){return HS=Ea(Ia().mark((function e(t,n,r){var i,a,o,s,u,c;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=og(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Uo.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new Ab(Hg.comparator)).insert(o,uk.newNoDocument(o,Sg.min())),u=Bb().add(o),c=new Wb(Sg.min(),new Map,new Pb(wg),s,u),e.next=9,BS(i,c);case 9:i.Bo=i.Bo.remove(o),i.Uo.delete(n),iI(i),e.next=16;break;case 14:return e.next=16,R_(i.localStore,n,!1).then((function(){return eI(i,n,r)})).catch(Yx);case 16:case"end":return e.stop()}}),e)}))),HS.apply(this,arguments)}function KS(e,t){return GS.apply(this,arguments)}function GS(){return GS=Ea(Ia().mark((function e(t,n){var r,i,a;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=og(t),i=n.batch.batchId,e.prev=1,e.next=4,S_(r.localStore,n);case 4:return a=e.sent,ZS(r,i,null),XS(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,aI(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Yx(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),GS.apply(this,arguments)}function QS(e,t,n){return YS.apply(this,arguments)}function YS(){return YS=Ea(Ia().mark((function e(t,n,r){var i,a;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=og(t),e.prev=1,e.next=4,function(e,t){var n=og(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.An.lookupMutationBatch(e,t).next((function(t){return ag(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,ZS(i,n,r),XS(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,aI(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Yx(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),YS.apply(this,arguments)}function $S(e,t){return JS.apply(this,arguments)}function JS(){return JS=Ea(Ia().mark((function e(t,n){var r,i,a,o;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return DE((r=og(t)).remoteStore)||eg("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=og(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.An.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.jo.get(i)||[]).push(n),r.jo.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=cS(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),JS.apply(this,arguments)}function XS(e,t){(e.jo.get(t)||[]).forEach((function(e){e.resolve()})),e.jo.delete(t)}function ZS(e,t,n){var r=og(e),i=r.Ko[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function eI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=ji(e.Mo.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Fo.delete(a),n&&e.Oo.zo(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Mo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach((function(t){e.qo.containsKey(t)||tI(e,t)}))}function tI(e,t){e.Lo.delete(t.path.canonicalString());var n=e.Bo.get(t);null!==n&&(CE(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),iI(e))}function nI(e,t,n){var r,i=ji(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof TS?(e.qo.addReference(a.key,t),rI(e,a)):a instanceof CS?(eg("SyncEngine","Document no longer in limbo: "+a.key),e.qo.removeReference(a.key,t),e.qo.containsKey(a.key)||tI(e,a.key)):ig()}}catch(o){i.e(o)}finally{i.f()}}function rI(e,t){var n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(eg("SyncEngine","New document in limbo: "+n),e.Lo.add(r),iI(e))}function iI(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){var t=e.Lo.values().next().value;e.Lo.delete(t);var n=new Hg(Ng.fromString(t)),r=e.Qo.next();e.Uo.set(r,new RS(n)),e.Bo=e.Bo.insert(n,r),TE(e.remoteStore,new mx(Uk(Rk(n.path)),r,2,gg.I))}}function aI(e,t,n){return oI.apply(this,arguments)}function oI(){return oI=Ea(Ia().mark((function e(t,n,r){var i,a,o,s;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=og(t),a=[],o=[],s=[],e.t0=i.Fo.isEmpty(),e.t0){e.next=9;break}return i.Fo.forEach((function(e,t){s.push(i.Go(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=k_.$n(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Oo.br(a),e.next=9,function(){var e=Ea(Ia().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=og(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return nx.forEach(n,(function(t){return nx.forEach(t.kn,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return nx.forEach(t.xn,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),sx(e.t0)){e.next=10;break}throw e.t0;case 10:eg("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=ji(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.qn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.qn=r.qn.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),oI.apply(this,arguments)}function sI(e,t){return uI.apply(this,arguments)}function uI(){return uI=Ea(Ia().mark((function e(t,n){var r,i;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=og(t)).currentUser.isEqual(n)){e.next=11;break}return eg("SyncEngine","User change. New user:",n.toKey()),e.next=5,__(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.jo.forEach((function(e){e.forEach((function(e){e.reject(new ug(sg.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.jo.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,aI(r,i.Gn);case 11:case"end":return e.stop()}}),e)}))),uI.apply(this,arguments)}function cI(e,t){var n=og(e),r=n.Uo.get(t);if(r&&r.$o)return Bb().add(r.key);var i=Bb(),a=n.Mo.get(t);if(!a)return i;var o,s=ji(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.Fo.get(u);i=i.unionWith(c.view.bo)}}catch(l){s.e(l)}finally{s.f()}return i}function lI(e,t){return fI.apply(this,arguments)}function fI(){return fI=Ea(Ia().mark((function e(t,n){var r,i,a;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=og(t),e.next=3,D_(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ko(i),e.abrupt("return",(r.isPrimaryClient&&nI(r,n.targetId,a.Co),a));case 6:case"end":return e.stop()}}),e)}))),fI.apply(this,arguments)}function hI(e){return dI.apply(this,arguments)}function dI(){return dI=Ea(Ia().mark((function e(t){var n;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=og(t),e.abrupt("return",L_(n.localStore).then((function(e){return aI(n,e)})));case 2:case"end":return e.stop()}}),e)}))),dI.apply(this,arguments)}function pI(e,t,n,r){return vI.apply(this,arguments)}function vI(){return vI=Ea(Ia().mark((function e(t,n,r,i){var a,o;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=og(t),e.next=3,function(e,t){var n=og(e),r=og(n.An);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Zt(e,t).next((function(t){return t?n.Wn.vn(e,t):nx.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,WE(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(ZS(a,n,i||null),XS(a,n),function(e,t){og(og(e).An).ee(t)}(a.localStore,n)):ig();case 11:return e.next=13,aI(a,o);case 13:e.next=16;break;case 15:eg("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),vI.apply(this,arguments)}function mI(e,t){return yI.apply(this,arguments)}function yI(){return yI=Ea(Ia().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(II(r=og(t)),TI(r),!0!==n||!0===r.Wo){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,gI(r,i.toArray());case 5:return a=e.sent,r.Wo=!0,e.next=9,iS(r.remoteStore,!0);case 9:o=ji(a);try{for(o.s();!(s=o.n()).done;)u=s.value,TE(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Wo){e.next=25;break}return c=[],l=Promise.resolve(),r.Mo.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return eI(r,t),R_(r.localStore,t,!0)})),CE(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,gI(r,c);case 21:return function(e){var t=og(e);t.Uo.forEach((function(e,n){CE(t.remoteStore,n)})),t.qo.hs(),t.Uo=new Map,t.Bo=new Ab(Hg.comparator)}(r),r.Wo=!1,e.next=25,iS(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),yI.apply(this,arguments)}function gI(e,t,n){return kI.apply(this,arguments)}function kI(){return kI=Ea(Ia().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,m,y;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=og(t),a=[],o=[],s=ji(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.Mo.get(c))||0===f.length){e.next=34;break}return e.next=11,N_(i.localStore,Uk(f[0]));case 11:l=e.sent,h=ji(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.Fo.get(p),e.next=20,lI(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,O_(i.localStore,c);case 36:return y=e.sent,e.next=39,N_(i.localStore,y);case 39:return l=e.sent,e.next=42,LS(i,bI(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.Oo.br(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),kI.apply(this,arguments)}function bI(e){return Nk(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function wI(e){var t=og(e);return og(og(t.localStore).persistence).Tn()}function xI(e,t,n,r){return _I.apply(this,arguments)}function _I(){return _I=Ea(Ia().mark((function e(t,n,r,i){var a,o,s;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=og(t)).Wo){e.next=5;break}eg("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Mo.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,L_(a.localStore);case 11:return o=e.sent,s=Wb.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,aI(a,o,s);case 15:return e.abrupt("break",21);case 16:return e.next=18,R_(a.localStore,n,!0);case 18:return eI(a,n,i),e.abrupt("break",21);case 20:ig();case 21:case"end":return e.stop()}}),e)}))),_I.apply(this,arguments)}function EI(e,t,n){return SI.apply(this,arguments)}function SI(){return SI=Ea(Ia().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=II(t)).Wo){e.next=45;break}a=ji(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.Mo.has(s)){e.next=10;break}return eg("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,O_(i.localStore,s);case 12:return u=e.sent,e.next=15,N_(i.localStore,u);case 15:return c=e.sent,e.next=18,LS(i,bI(u),c.targetId,!1);case 18:TE(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=ji(r),e.prev=30,h=Ia().mark((function e(){var t;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Mo.has(t),!e.t0){e.next=5;break}return e.next=5,R_(i.localStore,t,!1).then((function(){CE(i.remoteStore,t),eI(i,t)})).catch(Yx);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),SI.apply(this,arguments)}function II(e){var t=og(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=BS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=cI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=WS.bind(null,t),t.Oo.br=kS.bind(null,t.eventManager),t.Oo.zo=bS.bind(null,t.eventManager),t}function TI(e){var t=og(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=KS.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=QS.bind(null,t),t}function CI(e,t,n){var r=og(e);(function(){var e=Ea(Ia().mark((function e(t,n,r){var i,a,o,s,u;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=og(e),r=aw(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ye.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(IS(i)),a=new SS(i,t.localStore,n.k),e.next=14,n.Ho();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.yo(o);case 18:return(s=e.sent)&&r._updateProgress(s),e.next=22,n.Ho();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return u=e.sent,e.next=30,aI(t,u.In,void 0);case 30:return e.next=32,function(e,t){var n=og(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ye.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(u.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),ng("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var AI=function(){function e(){Vi(this,e),this.synchronizeTabs=!1}return w(e,[{key:"initialize",value:function(){var e=Ea(Ia().mark((function e(t){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.k=vE(t.databaseInfo.databaseId),this.sharedClientState=this.Jo(t),this.persistence=this.Yo(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Xo(t),this.localStore=this.Zo(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Xo",value:function(e){return null}},{key:"Zo",value:function(e){return x_(this.persistence,new b_,e.initialUser,this.k)}},{key:"Yo",value:function(e){return new Y_(J_.ks,this.k)}},{key:"Jo",value:function(e){return new sE}},{key:"terminate",value:function(){var e=Ea(Ia().mark((function e(){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),NI=function(e){Bi(n,e);var t=Hi(n);function n(e,r,i){var a;return Vi(this,n),(a=t.call(this)).ta=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return w(n,[{key:"initialize",value:function(){var e=Ea(Ia().mark((function e(t){var r=this;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Eo(zi(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,M_(this.localStore);case 4:return e.next=6,this.ta.initialize(this,t);case 6:return e.next=8,TI(this.ta.syncEngine);case 8:return e.next=10,WE(this.ta.remoteStore);case 10:return e.next=12,this.persistence.sn((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Zo",value:function(e){return x_(this.persistence,new b_,e.initialUser,this.k)}},{key:"Xo",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Zx(t,e.asyncQueue)}},{key:"Yo",value:function(e){var t=m_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Mx.withCacheSize(this.cacheSizeBytes):Mx.DEFAULT;return new d_(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,dE(),pE(),this.k,this.sharedClientState,!!this.forceOwnership)}},{key:"Jo",value:function(e){return new sE}}]),n}(AI),RI=function(e){Bi(n,e);var t=Hi(n);function n(e,r){var i;return Vi(this,n),(i=t.call(this,e,r,!1)).ta=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return w(n,[{key:"initialize",value:function(){var e=Ea(Ia().mark((function e(t){var r,i=this;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Eo(zi(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.ta.syncEngine,e.t0=this.sharedClientState instanceof oE,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={mi:pI.bind(null,r),gi:xI.bind(null,r),yi:EI.bind(null,r),Tn:wI.bind(null,r),_i:hI.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.sn(function(){var e=Ea(Ia().mark((function e(t){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mI(i.ta.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Jo",value:function(e){var t=dE();if(!oE.Pt(t))throw new ug(sg.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=m_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new oE(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(NI),PI=function(){function e(){Vi(this,e)}return w(e,[{key:"initialize",value:function(){var e=Ea(Ia().mark((function e(t,n){var r=this;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return qS(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=sI.bind(null,this.syncEngine),e.next=12,iS(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new pS}},{key:"createDatastore",value:function(e){var t,n=vE(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new hE(t));return function(e,t,n,r){return new bE(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return qS(o.syncEngine,e,0)},a=cE.Pt()?new cE:new uE,new xE(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new PS(e,t,n,r,i,a);return o&&(s.Wo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Ea(Ia().mark((function e(t){var n;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=og(t),eg("RemoteStore","RemoteStore shutting down."),n.Gr.add(5),e.next=5,SE(n);case 5:n.Hr.shutdown(),n.Jr.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function DI(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Ea(Ia().mark((function r(){var i;return Ia().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Ea(Ia().mark((function e(){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var OI=function(){function e(t){Vi(this,e),this.observer=t,this.muted=!1}return w(e,[{key:"next",value:function(e){this.observer.next&&this.ea(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"na",value:function(){this.muted=!0}},{key:"ea",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),LI=function(){function e(t,n){var r=this;Vi(this,e),this.sa=t,this.k=n,this.metadata=new cg,this.buffer=new Uint8Array,this.ia=new TextDecoder("utf-8"),this.ra().then((function(e){e&&e._o()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return w(e,[{key:"close",value:function(){return this.sa.cancel()}},{key:"getMetadata",value:function(){var e=Ea(Ia().mark((function e(){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){var e=Ea(Ia().mark((function e(){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.ra());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ra",value:function(){var e=Ea(Ia().mark((function e(){var t,n,r,i;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.oa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ia.decode(t),r=Number(n),isNaN(r)&&this.aa("length string (".concat(n,") is not valid number")),e.next=9,this.ca(r);case 9:return i=e.sent,e.abrupt("return",new _S(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ua",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"oa",value:function(){var e=Ea(Ia().mark((function e(){var t,n;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.ua()<0)){e.next=7;break}return e.next=3,this.ha();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.ua())<0&&this.aa("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ca",value:function(){var e=Ea(Ia().mark((function e(t){var n;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.ha();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.aa("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ia.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"aa",value:function(e){throw this.sa.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"ha",value:function(){var e=Ea(Ia().mark((function e(){var t,n;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sa.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),MI=function(){function e(t){Vi(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return w(e,[{key:"lookup",value:function(){var e=Ea(Ia().mark((function e(t){var n,r=this;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new ug(sg.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Ea(Ia().mark((function e(t,n){var r,i,a,o,s,u;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=og(t),i=hw(r.k)+"/documents",a={documents:n.map((function(e){return uw(r.k,e)}))},e.next=5,r.ji("BatchGetDocuments",i,a);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=mw(r.k,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());ag(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Eb(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Ea(Ia().mark((function e(){var t,n=this;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Hg.fromPath(t);n.mutations.push(new Sb(r,n.precondition(r)))})),e.next=7,function(){var e=Ea(Ia().mark((function e(t,n){var r,i,a;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=og(t),i=hw(r.k)+"/documents",a={writes:n.map((function(e){return yw(r.k,e)}))},e.next=3,r.Bi("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ig();t=Sg.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new ug(sg.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?cb.updateTime(t):cb.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Sg.min()))throw new ug(sg.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return cb.updateTime(t)}return cb.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),FI=function(){function e(t,n,r,i){Vi(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.la=5,this.ur=new mE(this.asyncQueue,"transaction_retry")}return w(e,[{key:"run",value:function(){this.la-=1,this.fa()}},{key:"fa",value:function(){var e=this;this.ur.Zi(Ea(Ia().mark((function t(){var n,r;return Ia().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new MI(e.datastore),(r=e.da(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.wa(t)}))}))})).catch((function(t){e.wa(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"da",value:function(e){try{var t=this.updateFunction(e);return!zg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"wa",value:function(e){var t=this;this.la>0&&this._a(e)?(this.la-=1,this.asyncQueue.enqueueAndForget((function(){return t.fa(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"_a",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Tb(t)}return!1}}]),e}(),UI=function(){function e(t,n,r,i){var a=this;Vi(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=$y.UNAUTHENTICATED,this.clientId=bg.A(),this.authCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Ea(Ia().mark((function e(t){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return eg("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(){return Promise.resolve()}))}return w(e,[{key:"getConfiguration",value:function(){var e=Ea(Ia().mark((function e(){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new ug(sg.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new cg;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Ea(Ia().mark((function n(){var r;return Ia().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=cS(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function VI(e,t){return jI.apply(this,arguments)}function jI(){return jI=Ea(Ia().mark((function e(t,n){var r,i;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),eg("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Ea(Ia().mark((function e(t){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,__(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),jI.apply(this,arguments)}function BI(e,t){return zI.apply(this,arguments)}function zI(){return zI=Ea(Ia().mark((function e(t,n){var r,i;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,qI(t);case 3:return r=e.sent,eg("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return function(){var e=Ea(Ia().mark((function e(t,n){var r,i;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=og(t)).asyncQueue.verifyOperationInProgress(),eg("RemoteStore","RemoteStore received new credentials"),i=DE(r),r.Gr.add(3),e.next=6,SE(r);case 6:return i&&r.Jr.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Gr.delete(3),e.next=12,_E(r);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(n.remoteStore,e)})),t.onlineComponents=n;case 12:case"end":return e.stop()}}),e)}))),zI.apply(this,arguments)}function qI(e){return WI.apply(this,arguments)}function WI(){return WI=Ea(Ia().mark((function e(t){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return eg("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,VI(t,new AI);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),WI.apply(this,arguments)}function HI(e){return KI.apply(this,arguments)}function KI(){return KI=Ea(Ia().mark((function e(t){return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return eg("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,BI(t,new PI);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),KI.apply(this,arguments)}function GI(e){return qI(e).then((function(e){return e.persistence}))}function QI(e){return qI(e).then((function(e){return e.localStore}))}function YI(e){return HI(e).then((function(e){return e.remoteStore}))}function $I(e){return HI(e).then((function(e){return e.syncEngine}))}function JI(e){return XI.apply(this,arguments)}function XI(){return XI=Ea(Ia().mark((function e(t){var n,r;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,HI(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=DS.bind(null,n.syncEngine),r.onUnlisten=FS.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),XI.apply(this,arguments)}function ZI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new cg;return e.asyncQueue.enqueueAndForget(Ea(Ia().mark((function i(){return Ia().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new OI({next:function(a){t.enqueueAndForget((function(){return yS(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new ug(sg.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new ug(sg.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new xS(Rk(n.path),a,{includeMetadataChanges:!0,wo:!0});return vS(e,o)},i.next=3,JI(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function eT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new cg;return e.asyncQueue.enqueueAndForget(Ea(Ia().mark((function i(){return Ia().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new OI({next:function(n){t.enqueueAndForget((function(){return yS(e,o)})),n.fromCache&&"server"===r.source?i.reject(new ug(sg.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new xS(n,a,{includeMetadataChanges:!0,wo:!0});return vS(e,o)},i.next=3,JI(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var tT=w((function e(t,n,r,i,a,o,s,u){Vi(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),nT=function(){function e(t,n){Vi(this,e),this.projectId=t,this.database=n||"(default)"}return w(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}]),e}(),rT=new Map;function iT(e,t,n){if(!n)throw new ug(sg.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function aT(e,t,n,r){if(!0===t&&!0===r)throw new ug(sg.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function oT(e){if(!Hg.isDocumentKey(e))throw new ug(sg.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function sT(e){if(Hg.isDocumentKey(e))throw new ug(sg.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function uT(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":ig()}function cT(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ug(sg.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=uT(e);throw new ug(sg.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function lT(e,t){if(t<=0)throw new ug(sg.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var fT=function(){function e(t){var n;if(Vi(this,e),void 0===t.host){if(void 0!==t.ssl)throw new ug(sg.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ug(sg.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,aT("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return w(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),hT=function(){function e(t,n,r){Vi(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fT({}),this._settingsFrozen=!1,t instanceof nT?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ug(sg.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nT(e.options.projectId)}(t))}return w(e,[{key:"app",get:function(){if(!this._app)throw new ug(sg.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new ug(sg.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fT(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new fg;switch(e.type){case"gapi":var t=e.client;return ag(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new vg(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new ug(sg.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=rT.get(e);t&&(eg("ComponentProvider","Removing Datastore"),rT.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function dT(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=cT(e,hT))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&ng("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=$y.MOCK_USER;else{o=ta(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new ug(sg.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new $y(u)}e._authCredentials=new hg(new lg(o,s))}}var pT=function(){function e(t,n,r){Vi(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return w(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new mT(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),vT=function(){function e(t,n,r){Vi(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return w(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),mT=function(e){Bi(n,e);var t=Hi(n);function n(e,r,i){var a;return Vi(this,n),(a=t.call(this,e,r,Rk(i)))._path=i,a.type="collection",a}return w(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new pT(this.firestore,null,new Hg(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(vT);function yT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=xa(e),iT("collection","path",t),e instanceof hT){var a=Ng.fromString.apply(Ng,[t].concat(r));return sT(a),new mT(e,null,a)}if(!(e instanceof pT||e instanceof mT))throw new ug(sg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Ng.fromString.apply(Ng,[t].concat(r)));return sT(o),new mT(e.firestore,null,o)}function gT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=xa(e),1===arguments.length&&(t=bg.A()),iT("doc","path",t),e instanceof hT){var a=Ng.fromString.apply(Ng,[t].concat(r));return oT(a),new pT(e,null,new Hg(a))}if(!(e instanceof pT||e instanceof mT))throw new ug(sg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Ng.fromString.apply(Ng,[t].concat(r)));return oT(o),new pT(e.firestore,e instanceof mT?e.converter:null,new Hg(o))}function kT(e,t){return e=xa(e),t=xa(t),(e instanceof pT||e instanceof mT)&&(t instanceof pT||t instanceof mT)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function bT(e,t){return e=xa(e),t=xa(t),e instanceof vT&&t instanceof vT&&e.firestore===t.firestore&&jk(e._query,t._query)&&e.converter===t.converter}var wT=function(){function e(){var t=this;Vi(this,e),this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new mE(this,"async_queue_retry"),this.Ra=function(){var e=pE();e&&eg("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ur.er()};var n=pE();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ra)}return w(e,[{key:"isShuttingDown",get:function(){return this.ya}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.ba(),this.Pa(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;var t=pE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ra)}}},{key:"enqueue",value:function(e){var t=this;if(this.ba(),this.ya)return new Promise((function(){}));var n=new cg;return this.Pa((function(){return t.ya&&t.Ia?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.ga.push(e),t.va()}))}},{key:"va",value:function(){var e=Ea(Ia().mark((function e(){var t=this;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.ga.length){e.next=14;break}return e.prev=1,e.next=4,this.ga[0]();case 4:this.ga.shift(),this.ur.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),sx(e.t0)){e.next=12;break}throw e.t0;case 12:eg("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.ga.length>0&&this.ur.Zi((function(){return t.va()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Pa",value:function(e){var t=this,n=this.ma.then((function(){return t.Ea=!0,e().catch((function(e){t.Ta=e,t.Ea=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw tg("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ea=!1,e}))}));return this.ma=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.ba(),this.Aa.indexOf(e)>-1&&(t=0);var i=uS.createAndSchedule(this,e,t,n,(function(e){return r.Va(e)}));return this.pa.push(i),i}},{key:"ba",value:function(){this.Ta&&ig()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Sa",value:function(){var e=Ea(Ia().mark((function e(){var t;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.ma,e.next=3,t;case 3:if(t!==this.ma){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Da",value:function(e){var t,n=ji(this.pa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Ca",value:function(e){var t=this;return this.Sa().then((function(){t.pa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=ji(t.pa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Sa()}))}},{key:"Na",value:function(e){this.Aa.push(e)}},{key:"Va",value:function(e){var t=this.pa.indexOf(e);this.pa.splice(t,1)}}]),e}();function xT(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=ji(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var _T=function(){function e(){Vi(this,e),this._progressObserver={},this._taskCompletionResolver=new cg,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return w(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),ET=function(e){Bi(n,e);var t=Hi(n);function n(e,r,i){var a;return Vi(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new wT,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return w(n,[{key:"_terminate",value:function(){return this._firestoreClient||IT(this),this._firestoreClient.terminate()}}]),n}(hT);function ST(e){return e._firestoreClient||IT(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function IT(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new tT(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new UI(e._authCredentials,e._appCheckCredentials,e._queue,r)}function TT(e,t,n){var r=new cg;return e.asyncQueue.enqueue(Ea(Ia().mark((function i(){return Ia().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,VI(e,n);case 3:return i.next=5,BI(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===sg.FAILED_PRECONDITION||e.code===sg.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function CT(e){return function(e){return e.asyncQueue.enqueue(Ea(Ia().mark((function t(){var n,r;return Ia().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,GI(e);case 2:return n=t.sent,t.next=5,YI(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=og(e);return t.Gr.delete(0),_E(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(ST(e=cT(e,ET)))}function AT(e){return function(e){return e.asyncQueue.enqueue(Ea(Ia().mark((function t(){var n,r;return Ia().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,GI(e);case 2:return n=t.sent,t.next=5,YI(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Ea(Ia().mark((function e(t){var n;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=og(t)).Gr.add(0),e.next=4,SE(n);case 4:n.Jr.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(ST(e=cT(e,ET)))}function NT(e,t){var n=ST(e=cT(e,ET)),r=new _T;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new LI(e,t)}(function(e,t){if(e instanceof Uint8Array)return DI(e,t);if(e instanceof ArrayBuffer)return DI(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,vE(t));e.asyncQueue.enqueueAndForget(Ea(Ia().mark((function t(){return Ia().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=CI,t.next=3,$I(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function RT(e,t){return function(e,t){return e.asyncQueue.enqueue(Ea(Ia().mark((function n(){return Ia().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=og(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ye.getNamedQuery(e,t)}))},n.next=3,QI(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(ST(e=cT(e,ET)),t).then((function(t){return t?new vT(e,null,t.query):null}))}function PT(e){if(e._initialized||e._terminated)throw new ug(sg.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var DT=function(){function e(){Vi(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new ug(sg.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pg(n)}return w(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var OT=function(){function e(t){Vi(this,e),this._byteString=t}return w(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Og.fromBase64String(t))}catch(t){throw new ug(sg.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Og.fromUint8Array(t))}}]),e}(),LT=w((function e(t){Vi(this,e),this._methodName=t})),MT=function(){function e(t,n){if(Vi(this,e),!isFinite(t)||t<-90||t>90)throw new ug(sg.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ug(sg.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return w(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return wg(this._lat,e._lat)||wg(this._long,e._long)}}]),e}(),FT=/^__.*__$/,UT=function(){function e(t,n,r){Vi(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return w(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new gb(e,this.data,this.fieldMask,t,this.fieldTransforms):new yb(e,this.data,t,this.fieldTransforms)}}]),e}(),VT=function(){function e(t,n,r){Vi(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return w(e,[{key:"toMutation",value:function(e,t){return new gb(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function jT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ig()}}var BT=function(){function e(t,n,r,i,a,o){Vi(this,e),this.settings=t,this.databaseId=n,this.k=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ka(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return w(e,[{key:"path",get:function(){return this.settings.path}},{key:"xa",get:function(){return this.settings.xa}},{key:"$a",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Oa",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Fa:!1});return r.Ma(e),r}},{key:"La",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Fa:!1});return r.ka(),r}},{key:"Ba",value:function(e){return this.$a({path:void 0,Fa:!0})}},{key:"Ua",value:function(e){return sC(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ka",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}},{key:"Ma",value:function(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(jT(this.xa)&&FT.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}]),e}(),zT=function(){function e(t,n,r){Vi(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.k=r||vE(t)}return w(e,[{key:"ja",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new BT({xa:e,methodName:t,Ka:n,path:Pg.emptyPath(),Fa:!1,qa:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}]),e}();function qT(e){var t=e._freezeSettings(),n=vE(e._databaseId);return new zT(e._databaseId,!!t.ignoreUndefinedProperties,n)}function WT(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ja(a.merge||a.mergeFields?2:0,t,n,i);rC("Data must be an object, but it was:",o,r);var s,u,c=tC(r,o);if(a.merge)s=new Dg(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=ji(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=iC(t,d,n);if(!o.contains(p))throw new ug(sg.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));uC(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new Dg(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new UT(new ok(c),s,u)}var HT=function(e){Bi(n,e);var t=Hi(n);function n(){return Vi(this,n),t.apply(this,arguments)}return w(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.xa)throw 1===e.xa?e.Ua("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Ua("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(LT);function KT(e,t,n){return new BT({xa:3,Ka:t.settings.Ka,methodName:e._methodName,Fa:n},t.databaseId,t.k,t.ignoreUndefinedProperties)}var GT=function(e){Bi(n,e);var t=Hi(n);function n(){return Vi(this,n),t.apply(this,arguments)}return w(n,[{key:"_toFieldTransform",value:function(e){return new sb(e.path,new Zk)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(LT),QT=function(e){Bi(n,e);var t=Hi(n);function n(e,r){var i;return Vi(this,n),(i=t.call(this,e)).Qa=r,i}return w(n,[{key:"_toFieldTransform",value:function(e){var t=KT(this,e,!0),n=this.Qa.map((function(e){return eC(e,t)})),r=new eb(n);return new sb(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(LT),YT=function(e){Bi(n,e);var t=Hi(n);function n(e,r){var i;return Vi(this,n),(i=t.call(this,e)).Qa=r,i}return w(n,[{key:"_toFieldTransform",value:function(e){var t=KT(this,e,!0),n=this.Qa.map((function(e){return eC(e,t)})),r=new nb(n);return new sb(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(LT),$T=function(e){Bi(n,e);var t=Hi(n);function n(e,r){var i;return Vi(this,n),(i=t.call(this,e)).Wa=r,i}return w(n,[{key:"_toFieldTransform",value:function(e){var t=new ib(e.k,Qk(e.k,this.Wa));return new sb(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(LT);function JT(e,t,n,r){var i=e.ja(1,t,n);rC("Data must be an object, but it was:",i,r);var a=[],o=ok.empty();Tg(r,(function(e,r){var s=oC(t,e,n);r=xa(r);var u=i.La(s);if(r instanceof HT)a.push(s);else{var c=eC(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new Dg(a);return new VT(o,s,i.fieldTransforms)}function XT(e,t,n,r,i,a){var o=e.ja(1,t,n),s=[iC(t,r,n)],u=[i];if(a.length%2!=0)throw new ug(sg.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(iC(t,a[c])),u.push(a[c+1]);for(var l=[],f=ok.empty(),h=s.length-1;h>=0;--h)if(!uC(l,s[h])){var d=s[h],p=u[h];p=xa(p);var v=o.La(d);if(p instanceof HT)l.push(d);else{var m=eC(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Dg(l);return new VT(f,y,o.fieldTransforms)}function ZT(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return eC(n,e.ja(r?4:3,t))}function eC(e,t){if(nC(e=xa(e)))return rC("Unsupported field value:",t,e),tC(e,t);if(e instanceof LT)return function(e,t){if(!jT(t.xa))throw t.Ua("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Ua("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fa&&4!==t.xa)throw t.Ua("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=ji(e);try{for(a.s();!(n=a.n()).done;){var o=eC(n.value,t.Ba(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=xa(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Qk(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Eg.fromDate(e);return{timestampValue:nw(t.k,n)}}if(e instanceof Eg){var r=new Eg(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:nw(t.k,r)}}if(e instanceof MT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof OT)return{bytesValue:rw(t.k,e._byteString)};if(e instanceof pT){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Ua("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:ow(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ua("Unsupported field value: ".concat(uT(e)))}(e,t)}function tC(e,t){var n={};return Cg(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Tg(e,(function(e,r){var i=eC(r,t.Oa(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function nC(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Eg||e instanceof MT||e instanceof OT||e instanceof pT||e instanceof LT)}function rC(e,t,n){if(!nC(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=uT(n);throw"an object"===r?t.Ua(e+" a custom object"):t.Ua(e+" "+r)}}function iC(e,t,n){if((t=xa(t))instanceof DT)return t._internalPath;if("string"==typeof t)return oC(e,t);throw sC("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var aC=new RegExp("[~\\*/\\[\\]]");function oC(e,t,n){if(t.search(aC)>=0)throw sC("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Ki(DT,kt(t.split(".")))._internalPath}catch(r){throw sC("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function sC(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new ug(sg.INVALID_ARGUMENT,s+e+u)}function uC(e,t){return e.some((function(e){return e.isEqual(t)}))}var cC=function(){function e(t,n,r,i,a){Vi(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return w(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new pT(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new lC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(fC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),lC=function(e){Bi(n,e);var t=Hi(n);function n(){return Vi(this,n),t.apply(this,arguments)}return w(n,[{key:"data",value:function(){return Eo(zi(n.prototype),"data",this).call(this)}}]),n}(cC);function fC(e,t){return"string"==typeof t?oC(e,t):t instanceof DT?t._internalPath:t._delegate._internalPath}var hC=function(){function e(t,n){Vi(this,e),this.hasPendingWrites=t,this.fromCache=n}return w(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),dC=function(e){Bi(n,e);var t=Hi(n);function n(e,r,i,a,o,s){var u;return Vi(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return w(n,[{key:"exists",value:function(){return Eo(zi(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new pC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(fC("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(cC),pC=function(e){Bi(n,e);var t=Hi(n);function n(){return Vi(this,n),t.apply(this,arguments)}return w(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Eo(zi(n.prototype),"data",this).call(this,e)}}]),n}(dC),vC=function(){function e(t,n,r,i){Vi(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new hC(i.hasPendingWrites,i.fromCache),this.query=r}return w(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new pC(n._firestore,n._userDataWriter,r.key,r,new hC(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ug(sg.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new pC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new hC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new pC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new hC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:mC(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function mC(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ig()}}function yC(e,t){return e instanceof dC&&t instanceof dC?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof vC&&t instanceof vC&&e._firestore===t._firestore&&bT(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function gC(e){if(Dk(e)&&0===e.explicitOrderBy.length)throw new ug(sg.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var kC=w((function e(){Vi(this,e)}));function bC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var wC=function(e){Bi(n,e);var t=Hi(n);function n(e,r,i){var a;return Vi(this,n),(a=t.call(this)).Ga=e,a.za=r,a.Ha=i,a.type="where",a}return w(n,[{key:"_apply",value:function(e){var t=qT(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new ug(sg.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on FieldPath.documentId()."));if("in"===a||"not-in"===a){PC(o,a);var u,c=[],l=ji(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(RC(r,e,f))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=RC(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||PC(o,a),s=ZT(n,"where",o,"in"===a||"not-in"===a);var h=pk.create(i,a,s);return function(e,t){if(t.V()){var n=Lk(e);if(null!==n&&!n.isEqual(t.field))throw new ug(sg.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Ok(e);null!==r&&DC(e,t.field,r)}var i=function(e,t){var n,r=ji(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new ug(sg.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new ug(sg.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.Ga,this.za,this.Ha);return new vT(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Ak(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(kC);var xC=function(e){Bi(n,e);var t=Hi(n);function n(e,r){var i;return Vi(this,n),(i=t.call(this)).Ga=e,i.Ja=r,i.type="orderBy",i}return w(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new ug(sg.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ug(sg.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Sk(t,n);return function(e,t){if(null===Ok(e)){var n=Lk(e);null!==n&&DC(e,n,t.field)}}(e,r),r}(e._query,this.Ga,this.Ja);return new vT(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Ak(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(kC);var _C=function(e){Bi(n,e);var t=Hi(n);function n(e,r,i){var a;return Vi(this,n),(a=t.call(this)).type=e,a.Ya=r,a.Xa=i,a}return w(n,[{key:"_apply",value:function(e){return new vT(e.firestore,e.converter,Vk(e._query,this.Ya,this.Xa))}}]),n}(kC);var EC=function(e){Bi(n,e);var t=Hi(n);function n(e,r,i){var a;return Vi(this,n),(a=t.call(this)).type=e,a.Za=r,a.tc=i,a}return w(n,[{key:"_apply",value:function(e){var t=NC(e,this.type,this.Za,this.tc);return new vT(e.firestore,e.converter,function(e,t){return new Ak(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(kC);function SC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new EC("startAt",t,!0)}function IC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new EC("startAfter",t,!1)}var TC=function(e){Bi(n,e);var t=Hi(n);function n(e,r,i){var a;return Vi(this,n),(a=t.call(this)).type=e,a.Za=r,a.tc=i,a}return w(n,[{key:"_apply",value:function(e){var t=NC(e,this.type,this.Za,this.tc);return new vT(e.firestore,e.converter,function(e,t){return new Ak(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(kC);function CC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new TC("endBefore",t,!0)}function AC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new TC("endAt",t,!1)}function NC(e,t,n,r){if(n[0]=xa(n[0]),n[0]instanceof cC)return function(e,t,n,r,i){if(!r)throw new ug(sg.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=ji(Fk(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(Zg(t,r.key));else{var c=r.data.field(u.field);if(Vg(c))throw new ug(sg.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new ug(sg.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new _k(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=qT(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new ug(sg.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new ug(sg.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Mk(e)&&-1!==c.indexOf("/"))throw new ug(sg.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Ng.fromString(c));if(!Hg.isDocumentKey(l))throw new ug(sg.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Hg(l);s.push(Zg(t,f))}else{var h=ZT(n,r,c);s.push(h)}}return new _k(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function RC(e,t,n){if("string"==typeof(n=xa(n))){if(""===n)throw new ug(sg.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Mk(t)&&-1!==n.indexOf("/"))throw new ug(sg.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Ng.fromString(n));if(!Hg.isDocumentKey(r))throw new ug(sg.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Zg(e,new Hg(r))}if(n instanceof pT)return Zg(e,n._key);throw new ug(sg.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(uT(n),"."))}function PC(e,t){if(!Array.isArray(e)||0===e.length)throw new ug(sg.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new ug(sg.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function DC(e,t,n){if(!n.isEqual(t))throw new ug(sg.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var OC=function(){function e(){Vi(this,e)}return w(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Kg(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fg(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ug(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ig()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Tg(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new MT(Fg(e.latitude),Fg(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=jg(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Bg(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Mg(e);return new Eg(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Ng.fromString(e);ag(Pw(n));var r=new nT(n.get(1),n.get(3)),i=new Hg(n.popFirst(5));return r.isEqual(t)||tg("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function LC(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var MC=function(e){Bi(n,e);var t=Hi(n);function n(e){var r;return Vi(this,n),(r=t.call(this)).firestore=e,r}return w(n,[{key:"convertBytes",value:function(e){return new OT(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new pT(this.firestore,null,t)}}]),n}(OC),FC=function(){function e(t,n){Vi(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=qT(t)}return w(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=UC(e,this._firestore),i=LC(r.converter,t,n),a=WT(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,cb.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=UC(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=xa(t))||t instanceof DT?XT(this._dataReader,"WriteBatch.update",i._key,t,n,o):JT(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,cb.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=UC(e,this._firestore);return this._mutations=this._mutations.concat(new Eb(t._key,cb.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new ug(sg.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function UC(e,t){if((e=xa(e)).firestore!==t)throw new ug(sg.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var VC=function(e){Bi(n,e);var t=Hi(n);function n(e){var r;return Vi(this,n),(r=t.call(this)).firestore=e,r}return w(n,[{key:"convertBytes",value:function(e){return new OT(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new pT(this.firestore,null,t)}}]),n}(OC);function jC(e){e=cT(e,pT);var t=cT(e.firestore,ET),n=ST(t),r=new VC(t);return function(e,t){var n=new cg;return e.asyncQueue.enqueueAndForget(Ea(Ia().mark((function r(){return Ia().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ea(Ia().mark((function e(t,n,r){var i,a;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=og(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Wn.Rn(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new ug(sg.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=cS(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,QI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new dC(t,r,e._key,n,new hC(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function BC(e){e=cT(e,vT);var t=cT(e.firestore,ET),n=ST(t),r=new VC(t);return function(e,t){var n=new cg;return e.asyncQueue.enqueueAndForget(Ea(Ia().mark((function r(){return Ia().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ea(Ia().mark((function e(t,n,r){var i,a,o,s,u;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D_(t,n,!0);case 3:i=e.sent,a=new AS(n,i.zn),o=a.Po(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=cS(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,QI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new vC(t,r,e,n)}))}function zC(e,t,n){e=cT(e,pT);var r=cT(e.firestore,ET),i=LC(e.converter,t,n);return KC(r,[WT(qT(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,cb.none())])}function qC(e,t,n){e=cT(e,pT);for(var r=cT(e.firestore,ET),i=qT(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return KC(r,[("string"==typeof(t=xa(t))||t instanceof DT?XT(i,"updateDoc",e._key,t,n,o):JT(i,"updateDoc",e._key,t)).toMutation(e._key,cb.exists(!0))])}function WC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=xa(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||xT(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(xT(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof pT)l=cT(e.firestore,ET),f=Rk(e._key.path),c={next:function(t){n[u]&&n[u](GC(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=cT(e,vT);l=cT(p.firestore,ET),f=p._query;var v=new VC(l);c={next:function(e){n[u]&&n[u](new vC(l,v,p,e))},error:n[u+1],complete:n[u+2]},gC(e._query)}return function(e,t,n,r){var i=new OI(r),a=new xS(t,i,n);return e.asyncQueue.enqueueAndForget(Ea(Ia().mark((function t(){return Ia().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=vS,t.next=3,JI(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.na(),e.asyncQueue.enqueueAndForget(Ea(Ia().mark((function t(){return Ia().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=yS,t.next=3,JI(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(ST(l),f,h,c)}function HC(e,t){return function(e,t){var n=new OI(t);return e.asyncQueue.enqueueAndForget(Ea(Ia().mark((function t(){return Ia().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){og(e).io.add(t),t.next()},t.next=3,JI(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.na(),e.asyncQueue.enqueueAndForget(Ea(Ia().mark((function t(){return Ia().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){og(e).io.delete(t)},t.next=3,JI(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(ST(e=cT(e,ET)),xT(t)?t:{next:t})}function KC(e,t){return function(e,t){var n=new cg;return e.asyncQueue.enqueueAndForget(Ea(Ia().mark((function r(){return Ia().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=VS,r.next=3,$I(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(ST(e),t)}function GC(e,t,n){var r=n.docs.get(t._key),i=new VC(e);return new dC(e,i,t._key,r,new hC(n.hasPendingWrites,n.fromCache),t.converter)}var QC=function(e){Bi(n,e);var t=Hi(n);function n(e,r){var i;return Vi(this,n),(i=t.call(this,e,r))._firestore=e,i}return w(n,[{key:"get",value:function(e){var t=this,r=UC(e,this._firestore),i=new VC(this._firestore);return Eo(zi(n.prototype),"get",this).call(this,e).then((function(e){return new dC(t._firestore,i,r._key,e._document,new hC(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Vi(this,e),this._firestore=t,this._transaction=n,this._dataReader=qT(t)}return w(e,[{key:"get",value:function(e){var t=this,n=UC(e,this._firestore),r=new MC(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return ig();var i=e[0];if(i.isFoundDocument())return new cC(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new cC(t._firestore,r,n._key,null,n.converter);throw ig()}))}},{key:"set",value:function(e,t,n){var r=UC(e,this._firestore),i=LC(r.converter,t,n),a=WT(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=UC(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=xa(t))||t instanceof DT?XT(this._dataReader,"Transaction.update",i._key,t,n,o):JT(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=UC(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function YC(e,t){return function(e,t){var n=new cg;return e.asyncQueue.enqueueAndForget(Ea(Ia().mark((function r(){var i;return Ia().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return HI(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new FI(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(ST(e=cT(e,ET)),(function(n){return t(new QC(e,n))}))}function $C(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new QT("arrayUnion",t)}function JC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new YT("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Jy=e}(oo),Ja(new Ta("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new ET(i,new dg(e.getProvider("auth-internal")),new yg(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),ho(Yy,"3.4.2",e),ho(Yy,"3.4.2","esm2017")}();function XC(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ug("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function ZC(){if("undefined"===typeof Uint8Array)throw new ug("unimplemented","Uint8Arrays are not available in this environment.")}function eA(){if("undefined"==typeof atob)throw new ug("unimplemented","Blobs are unavailable in Firestore in this environment.")}var tA=function(){function e(t){Vi(this,e),this._delegate=t}return w(e,[{key:"toBase64",value:function(){return eA(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return ZC(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return eA(),new e(OT.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return ZC(),new e(OT.fromUint8Array(t))}}]),e}();function nA(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=ji(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var rA=function(){function e(){Vi(this,e)}return w(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){PT(e=cT(e,ET));var n=ST(e),r=e._freezeSettings(),i=new PI;return TT(n,i,new NI(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){PT(e=cT(e,ET));var t=ST(e),n=e._freezeSettings(),r=new PI;return TT(t,r,new RI(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new ug(sg.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new cg;return e._queue.enqueueAndForgetEvenWhileRestricted(Ea(Ia().mark((function n(){return Ia().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Ea(Ia().mark((function e(t){var n;return Ia().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ix.Pt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,ix.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(m_(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),iA=function(){function e(t,n,r){var i=this;Vi(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof nT||(this._appCompat=t)}return w(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||ng("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};dT(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return CT(this._delegate)}},{key:"disableNetwork",value:function(){return AT(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&aT("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new cg;return e.asyncQueue.enqueueAndForget(Ea(Ia().mark((function n(){return Ia().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=$S,n.next=3,$I(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(ST(e=cT(e,ET)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return HC(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new ug("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new gA(this,yT(this._delegate,e))}catch(t){throw lA(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new cA(this,gT(this._delegate,e))}catch(t){throw lA(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new vA(this,function(e,t){if(e=cT(e,hT),iT("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ug(sg.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new vT(e,null,function(e){return new Ak(Ng.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw lA(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return YC(this._delegate,(function(n){return e(new oA(t,n))}))}},{key:"batch",value:function(){var e=this;return ST(this._delegate),new sA(new FC(this._delegate,(function(t){return KC(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return NT(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return RT(this._delegate,e).then((function(e){return e?new vA(t,e):null}))}}]),e}(),aA=function(e){Bi(n,e);var t=Hi(n);function n(e){var r;return Vi(this,n),(r=t.call(this)).firestore=e,r}return w(n,[{key:"convertBytes",value:function(e){return new tA(new OT(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return cA.forKey(t,this.firestore,null)}}]),n}(OC);var oA=function(){function e(t,n){Vi(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new aA(t)}return w(e,[{key:"get",value:function(e){var t=this,n=kA(e);return this._delegate.get(n).then((function(e){return new dA(t._firestore,new dC(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=kA(e);return n?(XC("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=kA(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=kA(e);return this._delegate.delete(t),this}}]),e}(),sA=function(){function e(t){Vi(this,e),this._delegate=t}return w(e,[{key:"set",value:function(e,t,n){var r=kA(e);return n?(XC("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=kA(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=kA(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),uA=function(){function e(t,n,r){Vi(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return w(e,[{key:"fromFirestore",value:function(e,t){var n=new pC(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new pA(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new aA(t),n),i.set(n,a)),a}}]),e}();uA.INSTANCES=new WeakMap;var cA=function(){function e(t,n){Vi(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new aA(t)}return w(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new gA(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new gA(this.firestore,yT(this._delegate,e))}catch(t){throw lA(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=xa(e))instanceof pT&&kT(this._delegate,e)}},{key:"set",value:function(e,t){t=XC("DocumentReference.set",t);try{return t?zC(this._delegate,e,t):zC(this._delegate,e)}catch(n){throw lA(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?qC(this._delegate,e):qC.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw lA(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return KC(cT(e.firestore,ET),[new Eb(e._key,cb.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=fA(n),a=hA(n,(function(t){return new dA(e.firestore,new dC(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return WC(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?jC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=cT(e,pT);var t=cT(e.firestore,ET);return ZI(ST(t),e._key,{source:"server"}).then((function(n){return GC(t,e,n)}))}(this._delegate):function(e){e=cT(e,pT);var t=cT(e.firestore,ET);return ZI(ST(t),e._key).then((function(n){return GC(t,e,n)}))}(this._delegate),t.then((function(e){return new dA(n.firestore,new dC(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(uA.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new ug("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new pT(n._delegate,r,new Hg(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new pT(n._delegate,r,t))}}]),e}();function lA(e,t,n){return e.message=e.message.replace(t,n),e}function fA(e){var t,n=ji(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!nA(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function hA(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=nA(e[0])?e[0]:nA(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var dA=function(){function e(t,n){Vi(this,e),this._firestore=t,this._delegate=n}return w(e,[{key:"ref",get:function(){return new cA(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return yC(this._delegate,e._delegate)}}]),e}(),pA=function(e){Bi(n,e);var t=Hi(n);function n(){return Vi(this,n),t.apply(this,arguments)}return w(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||ig()}(void 0!==t),t}}]),n}(dA),vA=function(){function e(t,n){Vi(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new aA(t)}return w(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,bC(this._delegate,function(e,t,n){var r=t,i=fC("where",e);return new wC(i,r,n)}(t,n,r)))}catch(i){throw lA(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,bC(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=fC("orderBy",e);return new xC(n,t)}(t,n)))}catch(r){throw lA(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,bC(this._delegate,function(e){return lT("limit",e),new _C("limit",e,"F")}(t)))}catch(n){throw lA(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,bC(this._delegate,function(e){return lT("limitToLast",e),new _C("limitToLast",e,"L")}(t)))}catch(n){throw lA(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,bC(this._delegate,SC.apply(void 0,arguments)))}catch(t){throw lA(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,bC(this._delegate,IC.apply(void 0,arguments)))}catch(t){throw lA(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,bC(this._delegate,CC.apply(void 0,arguments)))}catch(t){throw lA(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,bC(this._delegate,AC.apply(void 0,arguments)))}catch(t){throw lA(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return bT(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?BC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=cT(e,vT);var t=cT(e.firestore,ET),n=ST(t),r=new VC(t);return eT(n,e._query,{source:"server"}).then((function(n){return new vC(t,r,e,n)}))}(this._delegate):function(e){e=cT(e,vT);var t=cT(e.firestore,ET),n=ST(t),r=new VC(t);return gC(e._query),eT(n,e._query).then((function(n){return new vC(t,r,e,n)}))}(this._delegate),t.then((function(e){return new yA(n.firestore,new vC(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=fA(n),a=hA(n,(function(t){return new yA(e.firestore,new vC(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return WC(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(uA.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),mA=function(){function e(t,n){Vi(this,e),this._firestore=t,this._delegate=n}return w(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new pA(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),yA=function(){function e(t,n){Vi(this,e),this._firestore=t,this._delegate=n}return w(e,[{key:"query",get:function(){return new vA(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new pA(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new mA(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new pA(n._firestore,r))}))}},{key:"isEqual",value:function(e){return yC(this._delegate,e._delegate)}}]),e}(),gA=function(e){Bi(n,e);var t=Hi(n);function n(e,r){var i;return Vi(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return w(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new cA(this.firestore,e):null}},{key:"doc",value:function(e){try{return new cA(this.firestore,void 0===e?gT(this._delegate):gT(this._delegate,e))}catch(t){throw lA(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=cT(e.firestore,ET),r=gT(e),i=LC(e.converter,t);return KC(n,[WT(qT(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,cb.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new cA(t.firestore,e)}))}},{key:"isEqual",value:function(e){return kT(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(uA.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(vA);function kA(e){return cT(e,pT)}var bA=function(){function e(){Vi(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Ki(DT,n)}return w(e,[{key:"isEqual",value:function(e){return(e=xa(e))instanceof DT&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Pg.keyField().canonicalString())}}]),e}(),wA=function(){function e(t){Vi(this,e),this._delegate=t}return w(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new GT("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new HT("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=$C.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=JC.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new $T("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),xA={Firestore:iA,GeoPoint:MT,Timestamp:Eg,Blob:tA,Transaction:oA,WriteBatch:sA,DocumentReference:cA,DocumentSnapshot:dA,Query:vA,QueryDocumentSnapshot:pA,QuerySnapshot:yA,CollectionReference:gA,FieldPath:bA,FieldValue:wA,setLogLevel:function(e){!function(e){Xy.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Ta("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},xA)))}(e,(function(e,t){return new iA(e,t,new rA)})),e.registerVersion("@firebase/firestore-compat","0.1.11")}(xo);var _A=xo.initializeApp({apiKey:"AIzaSyCS2r-5L6ez2pAOtfMHNpkeCJRCVUqa8FY",authDomain:"messaging-appl.firebaseapp.com",projectId:"messaging-appl",storageBucket:"messaging-appl.appspot.com",messagingSenderId:"960936405437",appId:"1:960936405437:web:91245533861182ff694ad4"}).firestore();function EA(e){var t=!1;return function(){t||(console.warn(e),t=!0)}}EA("\n>> Error, via react-flip-move <<\n\nYou provided a stateless functional component as a child to <FlipMove>. Unfortunately, SFCs aren't supported, because Flip Move needs access to the backing instances via refs, and SFCs don't have a public instance that holds that info.\n\nPlease wrap your components in a native element (eg. <div>), or a non-functional component.\n"),EA("\n>> Error, via react-flip-move <<\n\nYou provided a primitive (text or number) node as a child to <FlipMove>. Flip Move needs containers with unique keys to move children around.\n\nPlease wrap your value in a native element (eg. <span>), or a component.\n");var SA=EA("\n>> Warning, via react-flip-move <<\n\nWhen using \"wrapperless\" mode (by supplying 'typeName' of 'null'), strange things happen when the direct parent has the default \"static\" position.\n\nFlipMove has added 'position: relative' to this node, to ensure Flip Move animates correctly.\n\nTo avoid seeing this warning, simply apply a non-static position to that parent node.\n"),IA=EA("\n>> Warning, via react-flip-move <<\n\nOne or more of Flip Move's child elements have the html attribute 'disabled' set to true.\n\nPlease note that this will cause animations to break in Internet Explorer 11 and below. Either remove the disabled attribute or set 'animation' to false.\n"),TA={elevator:{from:{transform:"scale(0)",opacity:"0"},to:{transform:"",opacity:""}},fade:{from:{opacity:"0"},to:{opacity:""}},accordionVertical:{from:{transform:"scaleY(0)",transformOrigin:"center top"},to:{transform:"",transformOrigin:"center top"}},accordionHorizontal:{from:{transform:"scaleX(0)",transformOrigin:"left center"},to:{transform:"",transformOrigin:"left center"}},none:null},CA={elevator:{from:{transform:"scale(1)",opacity:"1"},to:{transform:"scale(0)",opacity:"0"}},fade:{from:{opacity:"1"},to:{opacity:"0"}},accordionVertical:{from:{transform:"scaleY(1)",transformOrigin:"center top"},to:{transform:"scaleY(0)",transformOrigin:"center top"}},accordionHorizontal:{from:{transform:"scaleX(1)",transformOrigin:"left center"},to:{transform:"scaleX(0)",transformOrigin:"left center"}},none:null},AA=TA,NA="elevator",RA=function(e,t){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return t[n]},PA=function(e){return(PA=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)})(e)};var DA=function(e){var t={};return function(n){return t[n]||(t[n]=e(n)),t[n]}}((function(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()})),OA="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LA=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},MA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FA=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},UA=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t};function VA(e){var n,r;return r=n=function(n){function r(){return LA(this,r),UA(this,n.apply(this,arguments))}return FA(r,n),r.prototype.checkChildren=function(e){},r.prototype.convertProps=function(e){var t={children:e.children,easing:e.easing,onStart:e.onStart,onFinish:e.onFinish,onStartAll:e.onStartAll,onFinishAll:e.onFinishAll,typeName:e.typeName,disableAllAnimations:e.disableAllAnimations,getPosition:e.getPosition,maintainContainerHeight:e.maintainContainerHeight,verticalAlignment:e.verticalAlignment,duration:this.convertTimingProp("duration"),delay:this.convertTimingProp("delay"),staggerDurationBy:this.convertTimingProp("staggerDurationBy"),staggerDelayBy:this.convertTimingProp("staggerDelayBy"),appearAnimation:this.convertAnimationProp(e.appearAnimation,AA),enterAnimation:this.convertAnimationProp(e.enterAnimation,TA),leaveAnimation:this.convertAnimationProp(e.leaveAnimation,CA),delegated:{}};this.checkChildren(t.children);var n=Object.keys(t),r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}(this.props,n);return r.style=MA({position:"relative"},r.style),t.delegated=r,t},r.prototype.convertTimingProp=function(e){var t=this.props[e],n="number"===typeof t?t:parseInt(t,10);return isNaN(n)?r.defaultProps[e]:n},r.prototype.convertAnimationProp=function(e,t){switch("undefined"===typeof e?"undefined":OA(e)){case"boolean":return t[e?NA:"none"];case"string":return-1===Object.keys(t).indexOf(e)?t.elevator:t[e];default:return e}},r.prototype.render=function(){return t.createElement(e,this.convertProps(this.props))},r}(t.Component),n.defaultProps={easing:"ease-in-out",duration:350,delay:0,staggerDurationBy:0,staggerDelayBy:0,typeName:"div",enterAnimation:NA,leaveAnimation:NA,disableAllAnimations:!1,getPosition:function(e){return e.getBoundingClientRect()},maintainContainerHeight:!1,verticalAlignment:"top"},r}function jA(e){var t=e.domNode,n=e.styles;Object.keys(n).forEach((function(e){t.style.setProperty(DA(e),n[e])}))}var BA=function(e){var t=e.childDomNode,n={top:0,left:0,right:0,bottom:0,height:0,width:0},r=e.childBoundingBox||n,i=e.parentBoundingBox||n,a=(0,e.getPosition)(t),o=a.top-i.top,s=a.left-i.left;return[r.left-s,r.top-o]},zA=function(e,t){var n=t.delay,r=t.duration,i=t.staggerDurationBy,a=t.staggerDelayBy,o=t.easing;n+=e*a,r+=e*i;return["transform","opacity"].map((function(e){return e+" "+r+"ms "+o+" "+n+"ms"})).join(", ")},qA=function(){var e={transition:"transitionend","-o-transition":"oTransitionEnd","-moz-transition":"transitionend","-webkit-transition":"webkitTransitionEnd"};if("undefined"===typeof document)return"";var t=document.createElement("fakeelement"),n=RA((function(e){return void 0!==t.style.getPropertyValue(e)}),Object.keys(e));return n?e[n]:""}(),WA=!qA;function HA(e){return e.key||""}function KA(e){return t.Children.toArray(e)}var GA=function(e){function n(){var t,i;LA(this,n);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return t=i=UA(this,e.call.apply(e,[this].concat(o))),i.state={children:KA(i.props?i.props.children:[]).map((function(e){return MA({},e,{element:e,appearing:!0})}))},i.childrenData={},i.parentData={domNode:null,boundingBox:null},i.heightPlaceholderData={domNode:null},i.remainingAnimations=0,i.childrenToAnimate=[],i.findDOMContainer=function(){var e=r.findDOMNode(i),t=e&&e.parentNode;t&&t instanceof HTMLElement&&("static"===window.getComputedStyle(t).position&&(t.style.position="relative",SA()),i.parentData.domNode=t)},i.runAnimation=function(){var e=i.state.children.filter(i.doesChildNeedToBeAnimated),t=e.map((function(e){return i.computeInitialStyles(e)}));e.forEach((function(e,n){i.remainingAnimations+=1,i.childrenToAnimate.push(HA(e)),i.animateChild(e,n,t[n])})),"function"===typeof i.props.onStartAll&&i.callChildrenHook(i.props.onStartAll)},i.doesChildNeedToBeAnimated=function(e){if(!HA(e))return!1;var t=i.getChildData(HA(e)),n=t.domNode,r=t.boundingBox,a=i.parentData.boundingBox;if(!n)return!1;var o=i.props,s=o.appearAnimation,u=o.enterAnimation,c=o.leaveAnimation,l=o.getPosition,f=e.appearing&&s,h=e.entering&&u,d=e.leaving&&c;if(f||h||d)return!0;var p=BA({childDomNode:n,childBoundingBox:r,parentBoundingBox:a,getPosition:l}),v=p[0],m=p[1];return 0!==v||0!==m},UA(i,t)}return FA(n,e),n.prototype.componentDidMount=function(){null===this.props.typeName&&this.findDOMContainer(),this.props.appearAnimation&&!this.isAnimationDisabled(this.props)&&(this.prepForAnimation(),this.runAnimation())},n.prototype.componentDidUpdate=function(e){null===this.props.typeName&&this.findDOMContainer();var t=!function(e,t){if(e===t)return!0;var n=!PA(e)||!PA(t),r=e.length!==t.length;return!n&&!r&&function(e,t){for(var n=0;n<t.length;n++)if(!e(t[n],n,t))return!1;return!0}((function(e,n){return e===t[n]}),e)}(KA(this.props.children).map((function(e){return e.key})),KA(e.children).map((function(e){return e.key})))&&!this.isAnimationDisabled(this.props);t&&(this.prepForAnimation(),this.runAnimation())},n.prototype.calculateNextSetOfChildren=function(e){var t=this,n=e.map((function(e){var n=t.findChildByKey(e.key),r=!n||n.leaving;return MA({},e,{element:e,entering:r})})),r=0;return this.state.children.forEach((function(i,a){if(!RA((function(e){return e.key===HA(i)}),e)&&t.props.leaveAnimation){var o=MA({},i,{leaving:!0}),s=a+r;n.splice(s,0,o),r+=1}})),n},n.prototype.prepForAnimation=function(){var e=this,t=this.props,n=t.leaveAnimation,r=t.maintainContainerHeight,i=t.getPosition;n&&(this.state.children.filter((function(e){return e.leaving})).forEach((function(t){var n=e.getChildData(HA(t));!e.isAnimationDisabled(e.props)&&n.domNode&&n.domNode.disabled&&IA(),n.boundingBox&&function(e,t){var n=e.domNode,r=e.boundingBox;if(n&&r){var i=window.getComputedStyle(n),a=["margin-top","margin-left","margin-right"].reduce((function(e,t){var n,r=i.getPropertyValue(t);return MA({},e,((n={})[t]=Number(r.replace("px","")),n))}),{});jA({domNode:n,styles:{position:"absolute",top:("bottom"===t?r.top-r.height:r.top)-a["margin-top"]+"px",left:r.left-a["margin-left"]+"px",right:r.right-a["margin-right"]+"px"}})}}(n,e.props.verticalAlignment)})),r&&this.heightPlaceholderData.domNode&&function(e){var t=e.domNode,n=e.parentData,r=e.getPosition,i=n.domNode,a=n.boundingBox;if(i&&a){jA({domNode:t,styles:{height:"0"}});var o=a.height-r(i).height;jA({domNode:t,styles:{height:o>0?o+"px":"0"}})}}({domNode:this.heightPlaceholderData.domNode,parentData:this.parentData,getPosition:i}));this.state.children.forEach((function(t){var n=e.getChildData(HA(t)).domNode;n&&(t.entering||t.leaving||jA({domNode:n,styles:{transition:""}}))}))},n.prototype.UNSAFE_componentWillReceiveProps=function(e){this.updateBoundingBoxCaches();var t=KA(e.children);this.setState({children:this.isAnimationDisabled(e)?t.map((function(e){return MA({},e,{element:e})})):this.calculateNextSetOfChildren(t)})},n.prototype.animateChild=function(e,t,n){var r=this,i=this.getChildData(HA(e)).domNode;i&&(jA({domNode:i,styles:n}),this.props.onStart&&this.props.onStart(e,i),requestAnimationFrame((function(){requestAnimationFrame((function(){var n={transition:zA(t,r.props),transform:"",opacity:""};e.appearing&&r.props.appearAnimation?n=MA({},n,r.props.appearAnimation.to):e.entering&&r.props.enterAnimation?n=MA({},n,r.props.enterAnimation.to):e.leaving&&r.props.leaveAnimation&&(n=MA({},n,r.props.leaveAnimation.to)),jA({domNode:i,styles:n})}))})),this.bindTransitionEndHandler(e))},n.prototype.bindTransitionEndHandler=function(e){var t=this,n=this.getChildData(HA(e)).domNode;if(n){n.addEventListener(qA,(function r(i){i.target===n&&(n.style.transition="",t.triggerFinishHooks(e,n),n.removeEventListener(qA,r),e.leaving&&t.removeChildData(HA(e)))}))}},n.prototype.triggerFinishHooks=function(e,t){var n=this;if(this.props.onFinish&&this.props.onFinish(e,t),this.remainingAnimations-=1,0===this.remainingAnimations){var r=this.state.children.filter((function(e){return!e.leaving})).map((function(e){return MA({},e,{element:e.element,appearing:!1,entering:!1})}));this.setState({children:r},(function(){"function"===typeof n.props.onFinishAll&&n.callChildrenHook(n.props.onFinishAll),n.childrenToAnimate=[]})),this.heightPlaceholderData.domNode&&(this.heightPlaceholderData.domNode.style.height="0")}},n.prototype.callChildrenHook=function(e){var t=this,n=[],r=[];this.childrenToAnimate.forEach((function(e){var i=t.findChildByKey(e);i&&(n.push(i),t.hasChildData(e)&&r.push(t.getChildData(e).domNode))})),e(n,r)},n.prototype.updateBoundingBoxCaches=function(){var e=this,t=this.parentData.domNode;if(t){this.parentData.boundingBox=this.props.getPosition(t);var n=[];this.state.children.forEach((function(r){var i=HA(r);if(i)if(e.hasChildData(i)){var a=e.getChildData(i);a.domNode&&r?n.push(function(e){var t=e.childDomNode,n=e.parentDomNode,r=e.getPosition,i=r(n),a=r(t),o=a.top,s=a.left,u=a.right,c=a.bottom,l=a.width,f=a.height;return{top:o-i.top,left:s-i.left,right:i.right-u,bottom:i.bottom-c,width:l,height:f}}({childDomNode:a.domNode,parentDomNode:t,getPosition:e.props.getPosition})):n.push(null)}else n.push(null);else n.push(null)})),this.state.children.forEach((function(t,r){var i=HA(t),a=n[r];i&&e.setChildData(i,{boundingBox:a})}))}},n.prototype.computeInitialStyles=function(e){if(e.appearing)return this.props.appearAnimation?this.props.appearAnimation.from:{};if(e.entering)return this.props.enterAnimation?MA({position:"",top:"",left:"",right:"",bottom:""},this.props.enterAnimation.from):{};if(e.leaving)return this.props.leaveAnimation?this.props.leaveAnimation.from:{};var t=this.getChildData(HA(e)),n=t.domNode,r=t.boundingBox,i=this.parentData.boundingBox;if(!n)return{};var a=BA({childDomNode:n,childBoundingBox:r,parentBoundingBox:i,getPosition:this.props.getPosition});return{transform:"translate("+a[0]+"px, "+a[1]+"px)"}},n.prototype.isAnimationDisabled=function(e){return WA||e.disableAllAnimations||0===e.duration&&0===e.delay&&0===e.staggerDurationBy&&0===e.staggerDelayBy},n.prototype.findChildByKey=function(e){return RA((function(t){return HA(t)===e}),this.state.children)},n.prototype.hasChildData=function(e){return Object.prototype.hasOwnProperty.call(this.childrenData,e)},n.prototype.getChildData=function(e){return this.hasChildData(e)?this.childrenData[e]:{}},n.prototype.setChildData=function(e,t){this.childrenData[e]=MA({},this.getChildData(e),t)},n.prototype.removeChildData=function(e){delete this.childrenData[e],this.setState((function(t){return MA({},t,{children:t.children.filter((function(t){return t.element.key!==e}))})}))},n.prototype.createHeightPlaceholder=function(){var e=this,n=this.props.typeName,r="ul"===n||"ol"===n?"li":"div";return(0,t.createElement)(r,{key:"height-placeholder",ref:function(t){e.heightPlaceholderData.domNode=t},style:{visibility:"hidden",height:0}})},n.prototype.childrenWithRefs=function(){var e=this;return this.state.children.map((function(n){return(0,t.cloneElement)(n.element,{ref:function(t){if(t){var i=function(e){if("undefined"===typeof HTMLElement)return null;if(e instanceof HTMLElement)return e;var t=(0,r.findDOMNode)(e);return t&&t.nodeType===Node.TEXT_NODE?null:t}(t);e.setChildData(HA(n),{domNode:i})}}})}))},n.prototype.render=function(){var e=this,n=this.props,r=n.typeName,i=n.delegated,a=n.leaveAnimation,o=n.maintainContainerHeight,s=this.childrenWithRefs();if(a&&o&&s.push(this.createHeightPlaceholder()),!r)return s;var u=MA({},i,{children:s,ref:function(t){e.parentData.domNode=t}});return(0,t.createElement)(r,u)},n}(t.Component),QA=VA(GA);var YA=function(){var e=u((0,t.useState)(""),2),n=e[0],r=e[1],i=u((0,t.useState)([]),2),a=i[0],o=i[1],s=u((0,t.useState)(""),2),c=s[0],l=s[1];return(0,t.useEffect)((function(){_A.collection("messages").orderBy("timestamp","desc").onSnapshot((function(e){o(e.docs.map((function(e){return{id:e.id,message:e.data()}})))}))}),[]),(0,t.useEffect)((function(){l(prompt("Please Enter your Name"))}),[]),(0,Fi.jsxs)("div",{className:"App",children:[(0,Fi.jsx)("img",{src:"https://image.freepik.com/free-vector/illustration-speech-bubble_53876-5625.jpg",onClick:function(){window.location.reload(!1)}}),(0,Fi.jsx)("form",{className:"app__form",children:(0,Fi.jsxs)(zr,{className:"app__formcontrol",children:[(0,Fi.jsx)(ei,{className:"app__input",placeholder:"Enter the message...",value:n,onChange:function(e){return r(e.target.value)}}),(0,Fi.jsx)(Ti,{className:"app__button",disabled:!n,variant:"contained",color:"primary",type:"submit",onClick:function(e){e.preventDefault(),_A.collection("messages").add({username:c,text:n,timestamp:xo.firestore.FieldValue.serverTimestamp()}),r("")},children:"Send"})]})}),(0,Fi.jsx)(QA,{children:a.map((function(e){var t=e.id,n=e.message;return(0,Fi.jsx)(Ui,{Usernam:c,text:n},t)}))})]})},$A=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};r.render((0,Fi.jsx)(t.StrictMode,{children:(0,Fi.jsx)(YA,{})}),document.getElementById("root")),$A()}()}();
//# sourceMappingURL=main.59d9d90f.js.map